"use strict";(()=>{var p_=Object.create;var va=Object.defineProperty,h_=Object.defineProperties,d_=Object.getOwnPropertyDescriptor,y_=Object.getOwnPropertyDescriptors,m_=Object.getOwnPropertyNames,md=Object.getOwnPropertySymbols,g_=Object.getPrototypeOf,xd=Object.prototype.hasOwnProperty,x_=Object.prototype.propertyIsEnumerable;var gd=(r,e,t)=>e in r?va(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uf=(r,e)=>{for(var t in e||={})xd.call(e,t)&&gd(r,t,e[t]);if(md)for(var t of md(e))x_.call(e,t)&&gd(r,t,e[t]);return r},ff=(r,e)=>h_(r,y_(e));var b_=(r,e)=>()=>(r&&(e=r(r=0)),e);var be=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Z=(r,e)=>{for(var t in e)va(r,t,{get:e[t],enumerable:!0})},w_=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of m_(e))!xd.call(r,o)&&o!==t&&va(r,o,{get:()=>e[o],enumerable:!(n=d_(e,o))||n.enumerable});return r};var ze=(r,e,t)=>(t=r!=null?p_(g_(r)):{},w_(e||!r||!r.__esModule?va(t,"default",{value:r,enumerable:!0}):t,r));var lf=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var ne=(r,e,t)=>(lf(r,e,"read from private field"),t?t.call(r):e.get(r)),Oe=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Ht=(r,e,t,n)=>(lf(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);var Sa=(r,e,t)=>(lf(r,e,"access private method"),t);var qe=(r,e,t)=>new Promise((n,o)=>{var s=f=>{try{u(t.next(f))}catch(d){o(d)}},i=f=>{try{u(t.throw(f))}catch(d){o(d)}},u=f=>f.done?n(f.value):Promise.resolve(f.value).then(s,i);u((t=t.apply(r,e)).next())}),pf=(r,e,t)=>(e=r[Symbol.asyncIterator],t=(n,o)=>(o=r[n])&&(e[n]=s=>new Promise((i,u,f)=>(s=o.call(r,s),f=s.done,Promise.resolve(s.value).then(d=>i({value:d,done:f}),u)))),e?e.call(r):(r=r[Symbol.iterator](),e={},t("next"),t("return"),e));var df=be(_a=>{"use strict";h();_a.byteLength=S_;_a.toByteArray=E_;_a.fromByteArray=A_;var Vr=[],Rr=[],v_=typeof Uint8Array<"u"?Uint8Array:Array,hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(To=0,bd=hf.length;To<bd;++To)Vr[To]=hf[To],Rr[hf.charCodeAt(To)]=To;var To,bd;Rr["-".charCodeAt(0)]=62;Rr["_".charCodeAt(0)]=63;function wd(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function S_(r){var e=wd(r),t=e[0],n=e[1];return(t+n)*3/4-n}function __(r,e,t){return(e+t)*3/4-t}function E_(r){var e,t=wd(r),n=t[0],o=t[1],s=new v_(__(r,n,o)),i=0,u=o>0?n-4:n,f;for(f=0;f<u;f+=4)e=Rr[r.charCodeAt(f)]<<18|Rr[r.charCodeAt(f+1)]<<12|Rr[r.charCodeAt(f+2)]<<6|Rr[r.charCodeAt(f+3)],s[i++]=e>>16&255,s[i++]=e>>8&255,s[i++]=e&255;return o===2&&(e=Rr[r.charCodeAt(f)]<<2|Rr[r.charCodeAt(f+1)]>>4,s[i++]=e&255),o===1&&(e=Rr[r.charCodeAt(f)]<<10|Rr[r.charCodeAt(f+1)]<<4|Rr[r.charCodeAt(f+2)]>>2,s[i++]=e>>8&255,s[i++]=e&255),s}function k_(r){return Vr[r>>18&63]+Vr[r>>12&63]+Vr[r>>6&63]+Vr[r&63]}function I_(r,e,t){for(var n,o=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),o.push(k_(n));return o.join("")}function A_(r){for(var e,t=r.length,n=t%3,o=[],s=16383,i=0,u=t-n;i<u;i+=s)o.push(I_(r,i,i+s>u?u:i+s));return n===1?(e=r[t-1],o.push(Vr[e>>2]+Vr[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(Vr[e>>10]+Vr[e>>4&63]+Vr[e<<2&63]+"=")),o.join("")}});var mf=be(yf=>{h();yf.read=function(r,e,t,n,o){var s,i,u=o*8-n-1,f=(1<<u)-1,d=f>>1,w=-7,b=t?o-1:0,T=t?-1:1,A=r[e+b];for(b+=T,s=A&(1<<-w)-1,A>>=-w,w+=u;w>0;s=s*256+r[e+b],b+=T,w-=8);for(i=s&(1<<-w)-1,s>>=-w,w+=n;w>0;i=i*256+r[e+b],b+=T,w-=8);if(s===0)s=1-d;else{if(s===f)return i?NaN:(A?-1:1)*(1/0);i=i+Math.pow(2,n),s=s-d}return(A?-1:1)*i*Math.pow(2,s-n)};yf.write=function(r,e,t,n,o,s){var i,u,f,d=s*8-o-1,w=(1<<d)-1,b=w>>1,T=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,D=n?1:-1,j=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,i=w):(i=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-i))<1&&(i--,f*=2),i+b>=1?e+=T/f:e+=T*Math.pow(2,1-b),e*f>=2&&(i++,f/=2),i+b>=w?(u=0,i=w):i+b>=1?(u=(e*f-1)*Math.pow(2,o),i=i+b):(u=e*Math.pow(2,b-1)*Math.pow(2,o),i=0));o>=8;r[t+A]=u&255,A+=D,u/=256,o-=8);for(i=i<<o|u,d+=o;d>0;r[t+A]=i&255,A+=D,i/=256,d-=8);r[t+A-D]|=j*128}});var ls=be(fs=>{"use strict";h();var gf=df(),cs=mf(),vd=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;fs.Buffer=q;fs.SlowBuffer=M_;fs.INSPECT_MAX_BYTES=50;var Ea=2147483647;fs.kMaxLength=Ea;q.TYPED_ARRAY_SUPPORT=R_();!q.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function R_(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(q.prototype,"parent",{enumerable:!0,get:function(){if(!!q.isBuffer(this))return this.buffer}});Object.defineProperty(q.prototype,"offset",{enumerable:!0,get:function(){if(!!q.isBuffer(this))return this.byteOffset}});function dn(r){if(r>Ea)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,q.prototype),e}function q(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return vf(r)}return kd(r,e,t)}q.poolSize=8192;function kd(r,e,t){if(typeof r=="string")return T_(r,e);if(ArrayBuffer.isView(r))return P_(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Gr(r,ArrayBuffer)||r&&Gr(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gr(r,SharedArrayBuffer)||r&&Gr(r.buffer,SharedArrayBuffer)))return bf(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return q.from(n,e,t);let o=z_(r);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return q.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}q.from=function(r,e,t){return kd(r,e,t)};Object.setPrototypeOf(q.prototype,Uint8Array.prototype);Object.setPrototypeOf(q,Uint8Array);function Id(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function B_(r,e,t){return Id(r),r<=0?dn(r):e!==void 0?typeof t=="string"?dn(r).fill(e,t):dn(r).fill(e):dn(r)}q.alloc=function(r,e,t){return B_(r,e,t)};function vf(r){return Id(r),dn(r<0?0:Sf(r)|0)}q.allocUnsafe=function(r){return vf(r)};q.allocUnsafeSlow=function(r){return vf(r)};function T_(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!q.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Ad(r,e)|0,n=dn(t),o=n.write(r,e);return o!==t&&(n=n.slice(0,o)),n}function xf(r){let e=r.length<0?0:Sf(r.length)|0,t=dn(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function P_(r){if(Gr(r,Uint8Array)){let e=new Uint8Array(r);return bf(e.buffer,e.byteOffset,e.byteLength)}return xf(r)}function bf(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,q.prototype),n}function z_(r){if(q.isBuffer(r)){let e=Sf(r.length)|0,t=dn(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Ef(r.length)?dn(0):xf(r);if(r.type==="Buffer"&&Array.isArray(r.data))return xf(r.data)}function Sf(r){if(r>=Ea)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ea.toString(16)+" bytes");return r|0}function M_(r){return+r!=r&&(r=0),q.alloc(+r)}q.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==q.prototype};q.compare=function(e,t){if(Gr(e,Uint8Array)&&(e=q.from(e,e.offset,e.byteLength)),Gr(t,Uint8Array)&&(t=q.from(t,t.offset,t.byteLength)),!q.isBuffer(e)||!q.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,o=t.length;for(let s=0,i=Math.min(n,o);s<i;++s)if(e[s]!==t[s]){n=e[s],o=t[s];break}return n<o?-1:o<n?1:0};q.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};q.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return q.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let o=q.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let i=e[n];if(Gr(i,Uint8Array))s+i.length>o.length?(q.isBuffer(i)||(i=q.from(i)),i.copy(o,s)):Uint8Array.prototype.set.call(o,i,s);else if(q.isBuffer(i))i.copy(o,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=i.length}return o};function Ad(r,e){if(q.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Gr(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return wf(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Nd(r).length;default:if(o)return n?-1:wf(r).length;e=(""+e).toLowerCase(),o=!0}}q.byteLength=Ad;function L_(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return W_(this,e,t);case"utf8":case"utf-8":return Bd(this,e,t);case"ascii":return H_(this,e,t);case"latin1":case"binary":return j_(this,e,t);case"base64":return q_(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $_(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}q.prototype._isBuffer=!0;function Po(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}q.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Po(this,t,t+1);return this};q.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Po(this,t,t+3),Po(this,t+1,t+2);return this};q.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Po(this,t,t+7),Po(this,t+1,t+6),Po(this,t+2,t+5),Po(this,t+3,t+4);return this};q.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Bd(this,0,e):L_.apply(this,arguments)};q.prototype.toLocaleString=q.prototype.toString;q.prototype.equals=function(e){if(!q.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:q.compare(this,e)===0};q.prototype.inspect=function(){let e="",t=fs.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};vd&&(q.prototype[vd]=q.prototype.inspect);q.prototype.compare=function(e,t,n,o,s){if(Gr(e,Uint8Array)&&(e=q.from(e,e.offset,e.byteLength)),!q.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),t<0||n>e.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&t>=n)return 0;if(o>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,s>>>=0,this===e)return 0;let i=s-o,u=n-t,f=Math.min(i,u),d=this.slice(o,s),w=e.slice(t,n);for(let b=0;b<f;++b)if(d[b]!==w[b]){i=d[b],u=w[b];break}return i<u?-1:u<i?1:0};function Rd(r,e,t,n,o){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Ef(t)&&(t=o?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(o)return-1;t=r.length-1}else if(t<0)if(o)t=0;else return-1;if(typeof e=="string"&&(e=q.from(e,n)),q.isBuffer(e))return e.length===0?-1:Sd(r,e,t,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Sd(r,[e],t,n,o);throw new TypeError("val must be string, number or Buffer")}function Sd(r,e,t,n,o){let s=1,i=r.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,i/=2,u/=2,t/=2}function f(w,b){return s===1?w[b]:w.readUInt16BE(b*s)}let d;if(o){let w=-1;for(d=t;d<i;d++)if(f(r,d)===f(e,w===-1?0:d-w)){if(w===-1&&(w=d),d-w+1===u)return w*s}else w!==-1&&(d-=d-w),w=-1}else for(t+u>i&&(t=i-u),d=t;d>=0;d--){let w=!0;for(let b=0;b<u;b++)if(f(r,d+b)!==f(e,b)){w=!1;break}if(w)return d}return-1}q.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};q.prototype.indexOf=function(e,t,n){return Rd(this,e,t,n,!0)};q.prototype.lastIndexOf=function(e,t,n){return Rd(this,e,t,n,!1)};function C_(r,e,t,n){t=Number(t)||0;let o=r.length-t;n?(n=Number(n),n>o&&(n=o)):n=o;let s=e.length;n>s/2&&(n=s/2);let i;for(i=0;i<n;++i){let u=parseInt(e.substr(i*2,2),16);if(Ef(u))return i;r[t+i]=u}return i}function N_(r,e,t,n){return ka(wf(e,r.length-t),r,t,n)}function O_(r,e,t,n){return ka(Z_(e),r,t,n)}function U_(r,e,t,n){return ka(Nd(e),r,t,n)}function D_(r,e,t,n){return ka(Y_(e,r.length-t),r,t,n)}q.prototype.write=function(e,t,n,o){if(t===void 0)o="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")o=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let i=!1;for(;;)switch(o){case"hex":return C_(this,e,t,n);case"utf8":case"utf-8":return N_(this,e,t,n);case"ascii":case"latin1":case"binary":return O_(this,e,t,n);case"base64":return U_(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D_(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}};q.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q_(r,e,t){return e===0&&t===r.length?gf.fromByteArray(r):gf.fromByteArray(r.slice(e,t))}function Bd(r,e,t){t=Math.min(r.length,t);let n=[],o=e;for(;o<t;){let s=r[o],i=null,u=s>239?4:s>223?3:s>191?2:1;if(o+u<=t){let f,d,w,b;switch(u){case 1:s<128&&(i=s);break;case 2:f=r[o+1],(f&192)===128&&(b=(s&31)<<6|f&63,b>127&&(i=b));break;case 3:f=r[o+1],d=r[o+2],(f&192)===128&&(d&192)===128&&(b=(s&15)<<12|(f&63)<<6|d&63,b>2047&&(b<55296||b>57343)&&(i=b));break;case 4:f=r[o+1],d=r[o+2],w=r[o+3],(f&192)===128&&(d&192)===128&&(w&192)===128&&(b=(s&15)<<18|(f&63)<<12|(d&63)<<6|w&63,b>65535&&b<1114112&&(i=b))}}i===null?(i=65533,u=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),o+=u}return F_(n)}var _d=4096;function F_(r){let e=r.length;if(e<=_d)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=_d));return t}function H_(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]&127);return n}function j_(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]);return n}function W_(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let o="";for(let s=e;s<t;++s)o+=J_[r[s]];return o}function $_(r,e,t){let n=r.slice(e,t),o="";for(let s=0;s<n.length-1;s+=2)o+=String.fromCharCode(n[s]+n[s+1]*256);return o}q.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let o=this.subarray(e,t);return Object.setPrototypeOf(o,q.prototype),o};function Kt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}q.prototype.readUintLE=q.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Kt(e,t,this.length);let o=this[e],s=1,i=0;for(;++i<t&&(s*=256);)o+=this[e+i]*s;return o};q.prototype.readUintBE=q.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Kt(e,t,this.length);let o=this[e+--t],s=1;for(;t>0&&(s*=256);)o+=this[e+--t]*s;return o};q.prototype.readUint8=q.prototype.readUInt8=function(e,t){return e=e>>>0,t||Kt(e,1,this.length),this[e]};q.prototype.readUint16LE=q.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Kt(e,2,this.length),this[e]|this[e+1]<<8};q.prototype.readUint16BE=q.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Kt(e,2,this.length),this[e]<<8|this[e+1]};q.prototype.readUint32LE=q.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};q.prototype.readUint32BE=q.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};q.prototype.readBigUInt64LE=On(function(e){e=e>>>0,us(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&si(e,this.length-8);let o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(s)<<BigInt(32))});q.prototype.readBigUInt64BE=On(function(e){e=e>>>0,us(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&si(e,this.length-8);let o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(s)});q.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Kt(e,t,this.length);let o=this[e],s=1,i=0;for(;++i<t&&(s*=256);)o+=this[e+i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};q.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Kt(e,t,this.length);let o=t,s=1,i=this[e+--o];for(;o>0&&(s*=256);)i+=this[e+--o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};q.prototype.readInt8=function(e,t){return e=e>>>0,t||Kt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};q.prototype.readInt16LE=function(e,t){e=e>>>0,t||Kt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};q.prototype.readInt16BE=function(e,t){e=e>>>0,t||Kt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};q.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};q.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};q.prototype.readBigInt64LE=On(function(e){e=e>>>0,us(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&si(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});q.prototype.readBigInt64BE=On(function(e){e=e>>>0,us(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&si(e,this.length-8);let o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});q.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),cs.read(this,e,!0,23,4)};q.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),cs.read(this,e,!1,23,4)};q.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Kt(e,8,this.length),cs.read(this,e,!0,52,8)};q.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Kt(e,8,this.length),cs.read(this,e,!1,52,8)};function yr(r,e,t,n,o,s){if(!q.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}q.prototype.writeUintLE=q.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;yr(this,e,t,n,u,0)}let s=1,i=0;for(this[t]=e&255;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n};q.prototype.writeUintBE=q.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;yr(this,e,t,n,u,0)}let s=n-1,i=1;for(this[t+s]=e&255;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n};q.prototype.writeUint8=q.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,1,255,0),this[t]=e&255,t+1};q.prototype.writeUint16LE=q.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};q.prototype.writeUint16BE=q.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};q.prototype.writeUint32LE=q.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};q.prototype.writeUint32BE=q.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Td(r,e,t,n,o){Cd(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let i=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,t}function Pd(r,e,t,n,o){Cd(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let i=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=i,i=i>>8,r[t+2]=i,i=i>>8,r[t+1]=i,i=i>>8,r[t]=i,t+8}q.prototype.writeBigUInt64LE=On(function(e,t=0){return Td(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});q.prototype.writeBigUInt64BE=On(function(e,t=0){return Pd(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});q.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);yr(this,e,t,n,f-1,-f)}let s=0,i=1,u=0;for(this[t]=e&255;++s<n&&(i*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/i>>0)-u&255;return t+n};q.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);yr(this,e,t,n,f-1,-f)}let s=n-1,i=1,u=0;for(this[t+s]=e&255;--s>=0&&(i*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/i>>0)-u&255;return t+n};q.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};q.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};q.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};q.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};q.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||yr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};q.prototype.writeBigInt64LE=On(function(e,t=0){return Td(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});q.prototype.writeBigInt64BE=On(function(e,t=0){return Pd(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function zd(r,e,t,n,o,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Md(r,e,t,n,o){return e=+e,t=t>>>0,o||zd(r,e,t,4,34028234663852886e22,-34028234663852886e22),cs.write(r,e,t,n,23,4),t+4}q.prototype.writeFloatLE=function(e,t,n){return Md(this,e,t,!0,n)};q.prototype.writeFloatBE=function(e,t,n){return Md(this,e,t,!1,n)};function Ld(r,e,t,n,o){return e=+e,t=t>>>0,o||zd(r,e,t,8,17976931348623157e292,-17976931348623157e292),cs.write(r,e,t,n,52,8),t+8}q.prototype.writeDoubleLE=function(e,t,n){return Ld(this,e,t,!0,n)};q.prototype.writeDoubleBE=function(e,t,n){return Ld(this,e,t,!1,n)};q.prototype.copy=function(e,t,n,o){if(!q.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);let s=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),t),s};q.prototype.fill=function(e,t,n,o){if(typeof e=="string"){if(typeof t=="string"?(o=t,t=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!q.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let i=e.charCodeAt(0);(o==="utf8"&&i<128||o==="latin1")&&(e=i)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let i=q.isBuffer(e)?e:q.from(e,o),u=i.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=i[s%u]}return this};var as={};function _f(r,e,t){as[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}_f("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);_f("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);_f("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=Ed(String(t)):typeof t=="bigint"&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=Ed(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function Ed(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function K_(r,e,t){us(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&si(e,r.length-(t+1))}function Cd(r,e,t,n,o,s){if(r>t||r<e){let i=typeof e=="bigint"?"n":"",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:u=`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:u=`>= ${e}${i} and <= ${t}${i}`,new as.ERR_OUT_OF_RANGE("value",u,r)}K_(n,o,s)}function us(r,e){if(typeof r!="number")throw new as.ERR_INVALID_ARG_TYPE(e,"number",r)}function si(r,e,t){throw Math.floor(r)!==r?(us(r,t),new as.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new as.ERR_BUFFER_OUT_OF_BOUNDS:new as.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var V_=/[^+/0-9A-Za-z-_]/g;function G_(r){if(r=r.split("=")[0],r=r.trim().replace(V_,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function wf(r,e){e=e||1/0;let t,n=r.length,o=null,s=[];for(let i=0;i<n;++i){if(t=r.charCodeAt(i),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(i+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Z_(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Y_(r,e){let t,n,o,s=[];for(let i=0;i<r.length&&!((e-=2)<0);++i)t=r.charCodeAt(i),n=t>>8,o=t%256,s.push(o),s.push(n);return s}function Nd(r){return gf.toByteArray(G_(r))}function ka(r,e,t,n){let o;for(o=0;o<n&&!(o+t>=e.length||o>=r.length);++o)e[o+t]=r[o];return o}function Gr(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Ef(r){return r!==r}var J_=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let o=0;o<16;++o)e[n+o]=r[t]+r[o]}return e}();function On(r){return typeof BigInt>"u"?Q_:r}function Q_(){throw new Error("BigInt not supported")}});var Fd=be((N8,qd)=>{h();var jt=qd.exports={},Zr,Yr;function kf(){throw new Error("setTimeout has not been defined")}function If(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Zr=setTimeout:Zr=kf}catch{Zr=kf}try{typeof clearTimeout=="function"?Yr=clearTimeout:Yr=If}catch{Yr=If}})();function Od(r){if(Zr===setTimeout)return setTimeout(r,0);if((Zr===kf||!Zr)&&setTimeout)return Zr=setTimeout,setTimeout(r,0);try{return Zr(r,0)}catch{try{return Zr.call(null,r,0)}catch{return Zr.call(this,r,0)}}}function X_(r){if(Yr===clearTimeout)return clearTimeout(r);if((Yr===If||!Yr)&&clearTimeout)return Yr=clearTimeout,clearTimeout(r);try{return Yr(r)}catch{try{return Yr.call(null,r)}catch{return Yr.call(this,r)}}}var yn=[],ps=!1,zo,Ia=-1;function e2(){!ps||!zo||(ps=!1,zo.length?yn=zo.concat(yn):Ia=-1,yn.length&&Ud())}function Ud(){if(!ps){var r=Od(e2);ps=!0;for(var e=yn.length;e;){for(zo=yn,yn=[];++Ia<e;)zo&&zo[Ia].run();Ia=-1,e=yn.length}zo=null,ps=!1,X_(r)}}jt.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];yn.push(new Dd(r,e)),yn.length===1&&!ps&&Od(Ud)};function Dd(r,e){this.fun=r,this.array=e}Dd.prototype.run=function(){this.fun.apply(null,this.array)};jt.title="browser";jt.browser=!0;jt.env={};jt.argv=[];jt.version="";jt.versions={};function mn(){}jt.on=mn;jt.addListener=mn;jt.once=mn;jt.off=mn;jt.removeListener=mn;jt.removeAllListeners=mn;jt.emit=mn;jt.prependListener=mn;jt.prependOnceListener=mn;jt.listeners=function(r){return[]};jt.binding=function(r){throw new Error("process.binding is not supported")};jt.cwd=function(){return"/"};jt.chdir=function(r){throw new Error("process.chdir is not supported")};jt.umask=function(){return 0}});var Hd,t2,E,h=b_(()=>{"use strict";Hd=ze(ls()),t2=ze(Fd()),E=Hd.Buffer});var ly=be(()=>{h()});var Ca=be((py,Hf)=>{h();(function(r,e){"use strict";function t(g,a){if(!g)throw new Error(a||"Assertion failed")}function n(g,a){g.super_=a;var l=function(){};l.prototype=a.prototype,g.prototype=new l,g.prototype.constructor=g}function o(g,a,l){if(o.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((a==="le"||a==="be")&&(l=a,a=10),this._init(g||0,a||10,l||"be"))}typeof r=="object"?r.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=ly().Buffer}catch{}o.isBN=function(a){return a instanceof o?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===o.wordSize&&Array.isArray(a.words)},o.max=function(a,l){return a.cmp(l)>0?a:l},o.min=function(a,l){return a.cmp(l)<0?a:l},o.prototype._init=function(a,l,y){if(typeof a=="number")return this._initNumber(a,l,y);if(typeof a=="object")return this._initArray(a,l,y);l==="hex"&&(l=16),t(l===(l|0)&&l>=2&&l<=36),a=a.toString().replace(/\s+/g,"");var x=0;a[0]==="-"&&(x++,this.negative=1),x<a.length&&(l===16?this._parseHex(a,x,y):(this._parseBase(a,l,x),y==="le"&&this._initArray(this.toArray(),l,y)))},o.prototype._initNumber=function(a,l,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(t(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),l,y)},o.prototype._initArray=function(a,l,y){if(t(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,I,B=0;if(y==="be")for(x=a.length-1,v=0;x>=0;x-=3)I=a[x]|a[x-1]<<8|a[x-2]<<16,this.words[v]|=I<<B&67108863,this.words[v+1]=I>>>26-B&67108863,B+=24,B>=26&&(B-=26,v++);else if(y==="le")for(x=0,v=0;x<a.length;x+=3)I=a[x]|a[x+1]<<8|a[x+2]<<16,this.words[v]|=I<<B&67108863,this.words[v+1]=I>>>26-B&67108863,B+=24,B>=26&&(B-=26,v++);return this._strip()};function i(g,a){var l=g.charCodeAt(a);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;t(!1,"Invalid character in "+g)}function u(g,a,l){var y=i(g,l);return l-1>=a&&(y|=i(g,l-1)<<4),y}o.prototype._parseHex=function(a,l,y){this.length=Math.ceil((a.length-l)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,I=0,B;if(y==="be")for(x=a.length-1;x>=l;x-=2)B=u(a,l,x)<<v,this.words[I]|=B&67108863,v>=18?(v-=18,I+=1,this.words[I]|=B>>>26):v+=8;else{var S=a.length-l;for(x=S%2===0?l+1:l;x<a.length;x+=2)B=u(a,l,x)<<v,this.words[I]|=B&67108863,v>=18?(v-=18,I+=1,this.words[I]|=B>>>26):v+=8}this._strip()};function f(g,a,l,y){for(var x=0,v=0,I=Math.min(g.length,l),B=a;B<I;B++){var S=g.charCodeAt(B)-48;x*=y,S>=49?v=S-49+10:S>=17?v=S-17+10:v=S,t(S>=0&&v<y,"Invalid character"),x+=v}return x}o.prototype._parseBase=function(a,l,y){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=l)x++;x--,v=v/l|0;for(var I=a.length-y,B=I%x,S=Math.min(I,I-B)+y,p=0,_=y;_<S;_+=x)p=f(a,_,_+x,l),this.imuln(v),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(B!==0){var ae=1;for(p=f(a,_,a.length,l),_=0;_<B;_++)ae*=l;this.imuln(ae),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},o.prototype.copy=function(a){a.words=new Array(this.length);for(var l=0;l<this.length;l++)a.words[l]=this.words[l];a.length=this.length,a.negative=this.negative,a.red=this.red};function d(g,a){g.words=a.words,g.length=a.length,g.negative=a.negative,g.red=a.red}if(o.prototype._move=function(a){d(a,this)},o.prototype.clone=function(){var a=new o(null);return this.copy(a),a},o.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=w}catch{o.prototype.inspect=w}else o.prototype.inspect=w;function w(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(a,l){a=a||10,l=l|0||1;var y;if(a===16||a==="hex"){y="";for(var x=0,v=0,I=0;I<this.length;I++){var B=this.words[I],S=((B<<x|v)&16777215).toString(16);v=B>>>24-x&16777215,x+=2,x>=26&&(x-=26,I--),v!==0||I!==this.length-1?y=b[6-S.length]+S+y:y=S+y}for(v!==0&&(y=v.toString(16)+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(a===(a|0)&&a>=2&&a<=36){var p=T[a],_=A[a];y="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var m=ae.modrn(_).toString(a);ae=ae.idivn(_),ae.isZero()?y=m+y:y=b[p-m.length]+m+y}for(this.isZero()&&(y="0"+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}t(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(a,l){return this.toArrayLike(s,a,l)}),o.prototype.toArray=function(a,l){return this.toArrayLike(Array,a,l)};var D=function(a,l){return a.allocUnsafe?a.allocUnsafe(l):new a(l)};o.prototype.toArrayLike=function(a,l,y){this._strip();var x=this.byteLength(),v=y||Math.max(1,x);t(x<=v,"byte array longer than desired length"),t(v>0,"Requested array length <= 0");var I=D(a,v),B=l==="le"?"LE":"BE";return this["_toArrayLike"+B](I,x),I},o.prototype._toArrayLikeLE=function(a,l){for(var y=0,x=0,v=0,I=0;v<this.length;v++){var B=this.words[v]<<I|x;a[y++]=B&255,y<a.length&&(a[y++]=B>>8&255),y<a.length&&(a[y++]=B>>16&255),I===6?(y<a.length&&(a[y++]=B>>24&255),x=0,I=0):(x=B>>>24,I+=2)}if(y<a.length)for(a[y++]=x;y<a.length;)a[y++]=0},o.prototype._toArrayLikeBE=function(a,l){for(var y=a.length-1,x=0,v=0,I=0;v<this.length;v++){var B=this.words[v]<<I|x;a[y--]=B&255,y>=0&&(a[y--]=B>>8&255),y>=0&&(a[y--]=B>>16&255),I===6?(y>=0&&(a[y--]=B>>24&255),x=0,I=0):(x=B>>>24,I+=2)}if(y>=0)for(a[y--]=x;y>=0;)a[y--]=0},Math.clz32?o.prototype._countBits=function(a){return 32-Math.clz32(a)}:o.prototype._countBits=function(a){var l=a,y=0;return l>=4096&&(y+=13,l>>>=13),l>=64&&(y+=7,l>>>=7),l>=8&&(y+=4,l>>>=4),l>=2&&(y+=2,l>>>=2),y+l},o.prototype._zeroBits=function(a){if(a===0)return 26;var l=a,y=0;return(l&8191)===0&&(y+=13,l>>>=13),(l&127)===0&&(y+=7,l>>>=7),(l&15)===0&&(y+=4,l>>>=4),(l&3)===0&&(y+=2,l>>>=2),(l&1)===0&&y++,y},o.prototype.bitLength=function(){var a=this.words[this.length-1],l=this._countBits(a);return(this.length-1)*26+l};function j(g){for(var a=new Array(g.bitLength()),l=0;l<a.length;l++){var y=l/26|0,x=l%26;a[l]=g.words[y]>>>x&1}return a}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,l=0;l<this.length;l++){var y=this._zeroBits(this.words[l]);if(a+=y,y!==26)break}return a},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},o.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var l=0;l<a.length;l++)this.words[l]=this.words[l]|a.words[l];return this._strip()},o.prototype.ior=function(a){return t((this.negative|a.negative)===0),this.iuor(a)},o.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},o.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},o.prototype.iuand=function(a){var l;this.length>a.length?l=a:l=this;for(var y=0;y<l.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=l.length,this._strip()},o.prototype.iand=function(a){return t((this.negative|a.negative)===0),this.iuand(a)},o.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},o.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},o.prototype.iuxor=function(a){var l,y;this.length>a.length?(l=this,y=a):(l=a,y=this);for(var x=0;x<y.length;x++)this.words[x]=l.words[x]^y.words[x];if(this!==l)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=l.length,this._strip()},o.prototype.ixor=function(a){return t((this.negative|a.negative)===0),this.iuxor(a)},o.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},o.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},o.prototype.inotn=function(a){t(typeof a=="number"&&a>=0);var l=Math.ceil(a/26)|0,y=a%26;this._expand(l),y>0&&l--;for(var x=0;x<l;x++)this.words[x]=~this.words[x]&67108863;return y>0&&(this.words[x]=~this.words[x]&67108863>>26-y),this._strip()},o.prototype.notn=function(a){return this.clone().inotn(a)},o.prototype.setn=function(a,l){t(typeof a=="number"&&a>=0);var y=a/26|0,x=a%26;return this._expand(y+1),l?this.words[y]=this.words[y]|1<<x:this.words[y]=this.words[y]&~(1<<x),this._strip()},o.prototype.iadd=function(a){var l;if(this.negative!==0&&a.negative===0)return this.negative=0,l=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,l=this.isub(a),a.negative=1,l._normSign();var y,x;this.length>a.length?(y=this,x=a):(y=a,x=this);for(var v=0,I=0;I<x.length;I++)l=(y.words[I]|0)+(x.words[I]|0)+v,this.words[I]=l&67108863,v=l>>>26;for(;v!==0&&I<y.length;I++)l=(y.words[I]|0)+v,this.words[I]=l&67108863,v=l>>>26;if(this.length=y.length,v!==0)this.words[this.length]=v,this.length++;else if(y!==this)for(;I<y.length;I++)this.words[I]=y.words[I];return this},o.prototype.add=function(a){var l;return a.negative!==0&&this.negative===0?(a.negative=0,l=this.sub(a),a.negative^=1,l):a.negative===0&&this.negative!==0?(this.negative=0,l=a.sub(this),this.negative=1,l):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},o.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var l=this.iadd(a);return a.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var y=this.cmp(a);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;y>0?(x=this,v=a):(x=a,v=this);for(var I=0,B=0;B<v.length;B++)l=(x.words[B]|0)-(v.words[B]|0)+I,I=l>>26,this.words[B]=l&67108863;for(;I!==0&&B<x.length;B++)l=(x.words[B]|0)+I,I=l>>26,this.words[B]=l&67108863;if(I===0&&B<x.length&&x!==this)for(;B<x.length;B++)this.words[B]=x.words[B];return this.length=Math.max(this.length,B),x!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(a){return this.clone().isub(a)};function J(g,a,l){l.negative=a.negative^g.negative;var y=g.length+a.length|0;l.length=y,y=y-1|0;var x=g.words[0]|0,v=a.words[0]|0,I=x*v,B=I&67108863,S=I/67108864|0;l.words[0]=B;for(var p=1;p<y;p++){for(var _=S>>>26,ae=S&67108863,m=Math.min(p,a.length-1),L=Math.max(0,p-g.length+1);L<=m;L++){var U=p-L|0;x=g.words[U]|0,v=a.words[L]|0,I=x*v+ae,_+=I/67108864|0,ae=I&67108863}l.words[p]=ae|0,S=_|0}return S!==0?l.words[p]=S|0:l.length--,l._strip()}var re=function(a,l,y){var x=a.words,v=l.words,I=y.words,B=0,S,p,_,ae=x[0]|0,m=ae&8191,L=ae>>>13,U=x[1]|0,W=U&8191,Y=U>>>13,me=x[2]|0,ie=me&8191,se=me>>>13,Ft=x[3]|0,de=Ft&8191,Re=Ft>>>13,ho=x[4]|0,rt=ho&8191,nt=ho>>>13,yo=x[5]|0,ot=yo&8191,st=yo>>>13,mo=x[6]|0,it=mo&8191,at=mo>>>13,go=x[7]|0,ct=go&8191,ut=go>>>13,xo=x[8]|0,ft=xo&8191,lt=xo>>>13,bo=x[9]|0,pt=bo&8191,ht=bo>>>13,wo=v[0]|0,dt=wo&8191,yt=wo>>>13,vo=v[1]|0,mt=vo&8191,gt=vo>>>13,So=v[2]|0,xt=So&8191,bt=So>>>13,_o=v[3]|0,wt=_o&8191,vt=_o>>>13,Eo=v[4]|0,St=Eo&8191,_t=Eo>>>13,ko=v[5]|0,Et=ko&8191,kt=ko>>>13,Io=v[6]|0,It=Io&8191,At=Io>>>13,Ao=v[7]|0,Rt=Ao&8191,Bt=Ao>>>13,Ro=v[8]|0,Tt=Ro&8191,Pt=Ro>>>13,Bo=v[9]|0,zt=Bo&8191,Mt=Bo>>>13;y.negative=a.negative^l.negative,y.length=19,S=Math.imul(m,dt),p=Math.imul(m,yt),p=p+Math.imul(L,dt)|0,_=Math.imul(L,yt);var zn=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(zn>>>26)|0,zn&=67108863,S=Math.imul(W,dt),p=Math.imul(W,yt),p=p+Math.imul(Y,dt)|0,_=Math.imul(Y,yt),S=S+Math.imul(m,mt)|0,p=p+Math.imul(m,gt)|0,p=p+Math.imul(L,mt)|0,_=_+Math.imul(L,gt)|0;var Mn=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,S=Math.imul(ie,dt),p=Math.imul(ie,yt),p=p+Math.imul(se,dt)|0,_=Math.imul(se,yt),S=S+Math.imul(W,mt)|0,p=p+Math.imul(W,gt)|0,p=p+Math.imul(Y,mt)|0,_=_+Math.imul(Y,gt)|0,S=S+Math.imul(m,xt)|0,p=p+Math.imul(m,bt)|0,p=p+Math.imul(L,xt)|0,_=_+Math.imul(L,bt)|0;var Ln=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,S=Math.imul(de,dt),p=Math.imul(de,yt),p=p+Math.imul(Re,dt)|0,_=Math.imul(Re,yt),S=S+Math.imul(ie,mt)|0,p=p+Math.imul(ie,gt)|0,p=p+Math.imul(se,mt)|0,_=_+Math.imul(se,gt)|0,S=S+Math.imul(W,xt)|0,p=p+Math.imul(W,bt)|0,p=p+Math.imul(Y,xt)|0,_=_+Math.imul(Y,bt)|0,S=S+Math.imul(m,wt)|0,p=p+Math.imul(m,vt)|0,p=p+Math.imul(L,wt)|0,_=_+Math.imul(L,vt)|0;var Cn=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,S=Math.imul(rt,dt),p=Math.imul(rt,yt),p=p+Math.imul(nt,dt)|0,_=Math.imul(nt,yt),S=S+Math.imul(de,mt)|0,p=p+Math.imul(de,gt)|0,p=p+Math.imul(Re,mt)|0,_=_+Math.imul(Re,gt)|0,S=S+Math.imul(ie,xt)|0,p=p+Math.imul(ie,bt)|0,p=p+Math.imul(se,xt)|0,_=_+Math.imul(se,bt)|0,S=S+Math.imul(W,wt)|0,p=p+Math.imul(W,vt)|0,p=p+Math.imul(Y,wt)|0,_=_+Math.imul(Y,vt)|0,S=S+Math.imul(m,St)|0,p=p+Math.imul(m,_t)|0,p=p+Math.imul(L,St)|0,_=_+Math.imul(L,_t)|0;var Nn=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,S=Math.imul(ot,dt),p=Math.imul(ot,yt),p=p+Math.imul(st,dt)|0,_=Math.imul(st,yt),S=S+Math.imul(rt,mt)|0,p=p+Math.imul(rt,gt)|0,p=p+Math.imul(nt,mt)|0,_=_+Math.imul(nt,gt)|0,S=S+Math.imul(de,xt)|0,p=p+Math.imul(de,bt)|0,p=p+Math.imul(Re,xt)|0,_=_+Math.imul(Re,bt)|0,S=S+Math.imul(ie,wt)|0,p=p+Math.imul(ie,vt)|0,p=p+Math.imul(se,wt)|0,_=_+Math.imul(se,vt)|0,S=S+Math.imul(W,St)|0,p=p+Math.imul(W,_t)|0,p=p+Math.imul(Y,St)|0,_=_+Math.imul(Y,_t)|0,S=S+Math.imul(m,Et)|0,p=p+Math.imul(m,kt)|0,p=p+Math.imul(L,Et)|0,_=_+Math.imul(L,kt)|0;var Gu=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,S=Math.imul(it,dt),p=Math.imul(it,yt),p=p+Math.imul(at,dt)|0,_=Math.imul(at,yt),S=S+Math.imul(ot,mt)|0,p=p+Math.imul(ot,gt)|0,p=p+Math.imul(st,mt)|0,_=_+Math.imul(st,gt)|0,S=S+Math.imul(rt,xt)|0,p=p+Math.imul(rt,bt)|0,p=p+Math.imul(nt,xt)|0,_=_+Math.imul(nt,bt)|0,S=S+Math.imul(de,wt)|0,p=p+Math.imul(de,vt)|0,p=p+Math.imul(Re,wt)|0,_=_+Math.imul(Re,vt)|0,S=S+Math.imul(ie,St)|0,p=p+Math.imul(ie,_t)|0,p=p+Math.imul(se,St)|0,_=_+Math.imul(se,_t)|0,S=S+Math.imul(W,Et)|0,p=p+Math.imul(W,kt)|0,p=p+Math.imul(Y,Et)|0,_=_+Math.imul(Y,kt)|0,S=S+Math.imul(m,It)|0,p=p+Math.imul(m,At)|0,p=p+Math.imul(L,It)|0,_=_+Math.imul(L,At)|0;var Zu=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,S=Math.imul(ct,dt),p=Math.imul(ct,yt),p=p+Math.imul(ut,dt)|0,_=Math.imul(ut,yt),S=S+Math.imul(it,mt)|0,p=p+Math.imul(it,gt)|0,p=p+Math.imul(at,mt)|0,_=_+Math.imul(at,gt)|0,S=S+Math.imul(ot,xt)|0,p=p+Math.imul(ot,bt)|0,p=p+Math.imul(st,xt)|0,_=_+Math.imul(st,bt)|0,S=S+Math.imul(rt,wt)|0,p=p+Math.imul(rt,vt)|0,p=p+Math.imul(nt,wt)|0,_=_+Math.imul(nt,vt)|0,S=S+Math.imul(de,St)|0,p=p+Math.imul(de,_t)|0,p=p+Math.imul(Re,St)|0,_=_+Math.imul(Re,_t)|0,S=S+Math.imul(ie,Et)|0,p=p+Math.imul(ie,kt)|0,p=p+Math.imul(se,Et)|0,_=_+Math.imul(se,kt)|0,S=S+Math.imul(W,It)|0,p=p+Math.imul(W,At)|0,p=p+Math.imul(Y,It)|0,_=_+Math.imul(Y,At)|0,S=S+Math.imul(m,Rt)|0,p=p+Math.imul(m,Bt)|0,p=p+Math.imul(L,Rt)|0,_=_+Math.imul(L,Bt)|0;var Yu=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,S=Math.imul(ft,dt),p=Math.imul(ft,yt),p=p+Math.imul(lt,dt)|0,_=Math.imul(lt,yt),S=S+Math.imul(ct,mt)|0,p=p+Math.imul(ct,gt)|0,p=p+Math.imul(ut,mt)|0,_=_+Math.imul(ut,gt)|0,S=S+Math.imul(it,xt)|0,p=p+Math.imul(it,bt)|0,p=p+Math.imul(at,xt)|0,_=_+Math.imul(at,bt)|0,S=S+Math.imul(ot,wt)|0,p=p+Math.imul(ot,vt)|0,p=p+Math.imul(st,wt)|0,_=_+Math.imul(st,vt)|0,S=S+Math.imul(rt,St)|0,p=p+Math.imul(rt,_t)|0,p=p+Math.imul(nt,St)|0,_=_+Math.imul(nt,_t)|0,S=S+Math.imul(de,Et)|0,p=p+Math.imul(de,kt)|0,p=p+Math.imul(Re,Et)|0,_=_+Math.imul(Re,kt)|0,S=S+Math.imul(ie,It)|0,p=p+Math.imul(ie,At)|0,p=p+Math.imul(se,It)|0,_=_+Math.imul(se,At)|0,S=S+Math.imul(W,Rt)|0,p=p+Math.imul(W,Bt)|0,p=p+Math.imul(Y,Rt)|0,_=_+Math.imul(Y,Bt)|0,S=S+Math.imul(m,Tt)|0,p=p+Math.imul(m,Pt)|0,p=p+Math.imul(L,Tt)|0,_=_+Math.imul(L,Pt)|0;var Ju=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,S=Math.imul(pt,dt),p=Math.imul(pt,yt),p=p+Math.imul(ht,dt)|0,_=Math.imul(ht,yt),S=S+Math.imul(ft,mt)|0,p=p+Math.imul(ft,gt)|0,p=p+Math.imul(lt,mt)|0,_=_+Math.imul(lt,gt)|0,S=S+Math.imul(ct,xt)|0,p=p+Math.imul(ct,bt)|0,p=p+Math.imul(ut,xt)|0,_=_+Math.imul(ut,bt)|0,S=S+Math.imul(it,wt)|0,p=p+Math.imul(it,vt)|0,p=p+Math.imul(at,wt)|0,_=_+Math.imul(at,vt)|0,S=S+Math.imul(ot,St)|0,p=p+Math.imul(ot,_t)|0,p=p+Math.imul(st,St)|0,_=_+Math.imul(st,_t)|0,S=S+Math.imul(rt,Et)|0,p=p+Math.imul(rt,kt)|0,p=p+Math.imul(nt,Et)|0,_=_+Math.imul(nt,kt)|0,S=S+Math.imul(de,It)|0,p=p+Math.imul(de,At)|0,p=p+Math.imul(Re,It)|0,_=_+Math.imul(Re,At)|0,S=S+Math.imul(ie,Rt)|0,p=p+Math.imul(ie,Bt)|0,p=p+Math.imul(se,Rt)|0,_=_+Math.imul(se,Bt)|0,S=S+Math.imul(W,Tt)|0,p=p+Math.imul(W,Pt)|0,p=p+Math.imul(Y,Tt)|0,_=_+Math.imul(Y,Pt)|0,S=S+Math.imul(m,zt)|0,p=p+Math.imul(m,Mt)|0,p=p+Math.imul(L,zt)|0,_=_+Math.imul(L,Mt)|0;var Qu=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,S=Math.imul(pt,mt),p=Math.imul(pt,gt),p=p+Math.imul(ht,mt)|0,_=Math.imul(ht,gt),S=S+Math.imul(ft,xt)|0,p=p+Math.imul(ft,bt)|0,p=p+Math.imul(lt,xt)|0,_=_+Math.imul(lt,bt)|0,S=S+Math.imul(ct,wt)|0,p=p+Math.imul(ct,vt)|0,p=p+Math.imul(ut,wt)|0,_=_+Math.imul(ut,vt)|0,S=S+Math.imul(it,St)|0,p=p+Math.imul(it,_t)|0,p=p+Math.imul(at,St)|0,_=_+Math.imul(at,_t)|0,S=S+Math.imul(ot,Et)|0,p=p+Math.imul(ot,kt)|0,p=p+Math.imul(st,Et)|0,_=_+Math.imul(st,kt)|0,S=S+Math.imul(rt,It)|0,p=p+Math.imul(rt,At)|0,p=p+Math.imul(nt,It)|0,_=_+Math.imul(nt,At)|0,S=S+Math.imul(de,Rt)|0,p=p+Math.imul(de,Bt)|0,p=p+Math.imul(Re,Rt)|0,_=_+Math.imul(Re,Bt)|0,S=S+Math.imul(ie,Tt)|0,p=p+Math.imul(ie,Pt)|0,p=p+Math.imul(se,Tt)|0,_=_+Math.imul(se,Pt)|0,S=S+Math.imul(W,zt)|0,p=p+Math.imul(W,Mt)|0,p=p+Math.imul(Y,zt)|0,_=_+Math.imul(Y,Mt)|0;var Xu=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,S=Math.imul(pt,xt),p=Math.imul(pt,bt),p=p+Math.imul(ht,xt)|0,_=Math.imul(ht,bt),S=S+Math.imul(ft,wt)|0,p=p+Math.imul(ft,vt)|0,p=p+Math.imul(lt,wt)|0,_=_+Math.imul(lt,vt)|0,S=S+Math.imul(ct,St)|0,p=p+Math.imul(ct,_t)|0,p=p+Math.imul(ut,St)|0,_=_+Math.imul(ut,_t)|0,S=S+Math.imul(it,Et)|0,p=p+Math.imul(it,kt)|0,p=p+Math.imul(at,Et)|0,_=_+Math.imul(at,kt)|0,S=S+Math.imul(ot,It)|0,p=p+Math.imul(ot,At)|0,p=p+Math.imul(st,It)|0,_=_+Math.imul(st,At)|0,S=S+Math.imul(rt,Rt)|0,p=p+Math.imul(rt,Bt)|0,p=p+Math.imul(nt,Rt)|0,_=_+Math.imul(nt,Bt)|0,S=S+Math.imul(de,Tt)|0,p=p+Math.imul(de,Pt)|0,p=p+Math.imul(Re,Tt)|0,_=_+Math.imul(Re,Pt)|0,S=S+Math.imul(ie,zt)|0,p=p+Math.imul(ie,Mt)|0,p=p+Math.imul(se,zt)|0,_=_+Math.imul(se,Mt)|0;var ef=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(ef>>>26)|0,ef&=67108863,S=Math.imul(pt,wt),p=Math.imul(pt,vt),p=p+Math.imul(ht,wt)|0,_=Math.imul(ht,vt),S=S+Math.imul(ft,St)|0,p=p+Math.imul(ft,_t)|0,p=p+Math.imul(lt,St)|0,_=_+Math.imul(lt,_t)|0,S=S+Math.imul(ct,Et)|0,p=p+Math.imul(ct,kt)|0,p=p+Math.imul(ut,Et)|0,_=_+Math.imul(ut,kt)|0,S=S+Math.imul(it,It)|0,p=p+Math.imul(it,At)|0,p=p+Math.imul(at,It)|0,_=_+Math.imul(at,At)|0,S=S+Math.imul(ot,Rt)|0,p=p+Math.imul(ot,Bt)|0,p=p+Math.imul(st,Rt)|0,_=_+Math.imul(st,Bt)|0,S=S+Math.imul(rt,Tt)|0,p=p+Math.imul(rt,Pt)|0,p=p+Math.imul(nt,Tt)|0,_=_+Math.imul(nt,Pt)|0,S=S+Math.imul(de,zt)|0,p=p+Math.imul(de,Mt)|0,p=p+Math.imul(Re,zt)|0,_=_+Math.imul(Re,Mt)|0;var tf=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(tf>>>26)|0,tf&=67108863,S=Math.imul(pt,St),p=Math.imul(pt,_t),p=p+Math.imul(ht,St)|0,_=Math.imul(ht,_t),S=S+Math.imul(ft,Et)|0,p=p+Math.imul(ft,kt)|0,p=p+Math.imul(lt,Et)|0,_=_+Math.imul(lt,kt)|0,S=S+Math.imul(ct,It)|0,p=p+Math.imul(ct,At)|0,p=p+Math.imul(ut,It)|0,_=_+Math.imul(ut,At)|0,S=S+Math.imul(it,Rt)|0,p=p+Math.imul(it,Bt)|0,p=p+Math.imul(at,Rt)|0,_=_+Math.imul(at,Bt)|0,S=S+Math.imul(ot,Tt)|0,p=p+Math.imul(ot,Pt)|0,p=p+Math.imul(st,Tt)|0,_=_+Math.imul(st,Pt)|0,S=S+Math.imul(rt,zt)|0,p=p+Math.imul(rt,Mt)|0,p=p+Math.imul(nt,zt)|0,_=_+Math.imul(nt,Mt)|0;var rf=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(rf>>>26)|0,rf&=67108863,S=Math.imul(pt,Et),p=Math.imul(pt,kt),p=p+Math.imul(ht,Et)|0,_=Math.imul(ht,kt),S=S+Math.imul(ft,It)|0,p=p+Math.imul(ft,At)|0,p=p+Math.imul(lt,It)|0,_=_+Math.imul(lt,At)|0,S=S+Math.imul(ct,Rt)|0,p=p+Math.imul(ct,Bt)|0,p=p+Math.imul(ut,Rt)|0,_=_+Math.imul(ut,Bt)|0,S=S+Math.imul(it,Tt)|0,p=p+Math.imul(it,Pt)|0,p=p+Math.imul(at,Tt)|0,_=_+Math.imul(at,Pt)|0,S=S+Math.imul(ot,zt)|0,p=p+Math.imul(ot,Mt)|0,p=p+Math.imul(st,zt)|0,_=_+Math.imul(st,Mt)|0;var nf=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(nf>>>26)|0,nf&=67108863,S=Math.imul(pt,It),p=Math.imul(pt,At),p=p+Math.imul(ht,It)|0,_=Math.imul(ht,At),S=S+Math.imul(ft,Rt)|0,p=p+Math.imul(ft,Bt)|0,p=p+Math.imul(lt,Rt)|0,_=_+Math.imul(lt,Bt)|0,S=S+Math.imul(ct,Tt)|0,p=p+Math.imul(ct,Pt)|0,p=p+Math.imul(ut,Tt)|0,_=_+Math.imul(ut,Pt)|0,S=S+Math.imul(it,zt)|0,p=p+Math.imul(it,Mt)|0,p=p+Math.imul(at,zt)|0,_=_+Math.imul(at,Mt)|0;var of=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(of>>>26)|0,of&=67108863,S=Math.imul(pt,Rt),p=Math.imul(pt,Bt),p=p+Math.imul(ht,Rt)|0,_=Math.imul(ht,Bt),S=S+Math.imul(ft,Tt)|0,p=p+Math.imul(ft,Pt)|0,p=p+Math.imul(lt,Tt)|0,_=_+Math.imul(lt,Pt)|0,S=S+Math.imul(ct,zt)|0,p=p+Math.imul(ct,Mt)|0,p=p+Math.imul(ut,zt)|0,_=_+Math.imul(ut,Mt)|0;var sf=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(sf>>>26)|0,sf&=67108863,S=Math.imul(pt,Tt),p=Math.imul(pt,Pt),p=p+Math.imul(ht,Tt)|0,_=Math.imul(ht,Pt),S=S+Math.imul(ft,zt)|0,p=p+Math.imul(ft,Mt)|0,p=p+Math.imul(lt,zt)|0,_=_+Math.imul(lt,Mt)|0;var af=(B+S|0)+((p&8191)<<13)|0;B=(_+(p>>>13)|0)+(af>>>26)|0,af&=67108863,S=Math.imul(pt,zt),p=Math.imul(pt,Mt),p=p+Math.imul(ht,zt)|0,_=Math.imul(ht,Mt);var cf=(B+S|0)+((p&8191)<<13)|0;return B=(_+(p>>>13)|0)+(cf>>>26)|0,cf&=67108863,I[0]=zn,I[1]=Mn,I[2]=Ln,I[3]=Cn,I[4]=Nn,I[5]=Gu,I[6]=Zu,I[7]=Yu,I[8]=Ju,I[9]=Qu,I[10]=Xu,I[11]=ef,I[12]=tf,I[13]=rf,I[14]=nf,I[15]=of,I[16]=sf,I[17]=af,I[18]=cf,B!==0&&(I[19]=B,y.length++),y};Math.imul||(re=J);function xe(g,a,l){l.negative=a.negative^g.negative,l.length=g.length+a.length;for(var y=0,x=0,v=0;v<l.length-1;v++){var I=x;x=0;for(var B=y&67108863,S=Math.min(v,a.length-1),p=Math.max(0,v-g.length+1);p<=S;p++){var _=v-p,ae=g.words[_]|0,m=a.words[p]|0,L=ae*m,U=L&67108863;I=I+(L/67108864|0)|0,U=U+B|0,B=U&67108863,I=I+(U>>>26)|0,x+=I>>>26,I&=67108863}l.words[v]=B,y=I,I=x}return y!==0?l.words[v]=y:l.length--,l._strip()}function X(g,a,l){return xe(g,a,l)}o.prototype.mulTo=function(a,l){var y,x=this.length+a.length;return this.length===10&&a.length===10?y=re(this,a,l):x<63?y=J(this,a,l):x<1024?y=xe(this,a,l):y=X(this,a,l),y};function V(g,a){this.x=g,this.y=a}V.prototype.makeRBT=function(a){for(var l=new Array(a),y=o.prototype._countBits(a)-1,x=0;x<a;x++)l[x]=this.revBin(x,y,a);return l},V.prototype.revBin=function(a,l,y){if(a===0||a===y-1)return a;for(var x=0,v=0;v<l;v++)x|=(a&1)<<l-v-1,a>>=1;return x},V.prototype.permute=function(a,l,y,x,v,I){for(var B=0;B<I;B++)x[B]=l[a[B]],v[B]=y[a[B]]},V.prototype.transform=function(a,l,y,x,v,I){this.permute(I,a,l,y,x,v);for(var B=1;B<v;B<<=1)for(var S=B<<1,p=Math.cos(2*Math.PI/S),_=Math.sin(2*Math.PI/S),ae=0;ae<v;ae+=S)for(var m=p,L=_,U=0;U<B;U++){var W=y[ae+U],Y=x[ae+U],me=y[ae+U+B],ie=x[ae+U+B],se=m*me-L*ie;ie=m*ie+L*me,me=se,y[ae+U]=W+me,x[ae+U]=Y+ie,y[ae+U+B]=W-me,x[ae+U+B]=Y-ie,U!==S&&(se=p*m-_*L,L=p*L+_*m,m=se)}},V.prototype.guessLen13b=function(a,l){var y=Math.max(l,a)|1,x=y&1,v=0;for(y=y/2|0;y;y=y>>>1)v++;return 1<<v+1+x},V.prototype.conjugate=function(a,l,y){if(!(y<=1))for(var x=0;x<y/2;x++){var v=a[x];a[x]=a[y-x-1],a[y-x-1]=v,v=l[x],l[x]=-l[y-x-1],l[y-x-1]=-v}},V.prototype.normalize13b=function(a,l){for(var y=0,x=0;x<l/2;x++){var v=Math.round(a[2*x+1]/l)*8192+Math.round(a[2*x]/l)+y;a[x]=v&67108863,v<67108864?y=0:y=v/67108864|0}return a},V.prototype.convert13b=function(a,l,y,x){for(var v=0,I=0;I<l;I++)v=v+(a[I]|0),y[2*I]=v&8191,v=v>>>13,y[2*I+1]=v&8191,v=v>>>13;for(I=2*l;I<x;++I)y[I]=0;t(v===0),t((v&-8192)===0)},V.prototype.stub=function(a){for(var l=new Array(a),y=0;y<a;y++)l[y]=0;return l},V.prototype.mulp=function(a,l,y){var x=2*this.guessLen13b(a.length,l.length),v=this.makeRBT(x),I=this.stub(x),B=new Array(x),S=new Array(x),p=new Array(x),_=new Array(x),ae=new Array(x),m=new Array(x),L=y.words;L.length=x,this.convert13b(a.words,a.length,B,x),this.convert13b(l.words,l.length,_,x),this.transform(B,I,S,p,x,v),this.transform(_,I,ae,m,x,v);for(var U=0;U<x;U++){var W=S[U]*ae[U]-p[U]*m[U];p[U]=S[U]*m[U]+p[U]*ae[U],S[U]=W}return this.conjugate(S,p,x),this.transform(S,p,L,I,x,v),this.conjugate(L,I,x),this.normalize13b(L,x),y.negative=a.negative^l.negative,y.length=a.length+l.length,y._strip()},o.prototype.mul=function(a){var l=new o(null);return l.words=new Array(this.length+a.length),this.mulTo(a,l)},o.prototype.mulf=function(a){var l=new o(null);return l.words=new Array(this.length+a.length),X(this,a,l)},o.prototype.imul=function(a){return this.clone().mulTo(a,this)},o.prototype.imuln=function(a){var l=a<0;l&&(a=-a),t(typeof a=="number"),t(a<67108864);for(var y=0,x=0;x<this.length;x++){var v=(this.words[x]|0)*a,I=(v&67108863)+(y&67108863);y>>=26,y+=v/67108864|0,y+=I>>>26,this.words[x]=I&67108863}return y!==0&&(this.words[x]=y,this.length++),l?this.ineg():this},o.prototype.muln=function(a){return this.clone().imuln(a)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(a){var l=j(a);if(l.length===0)return new o(1);for(var y=this,x=0;x<l.length&&l[x]===0;x++,y=y.sqr());if(++x<l.length)for(var v=y.sqr();x<l.length;x++,v=v.sqr())l[x]!==0&&(y=y.mul(v));return y},o.prototype.iushln=function(a){t(typeof a=="number"&&a>=0);var l=a%26,y=(a-l)/26,x=67108863>>>26-l<<26-l,v;if(l!==0){var I=0;for(v=0;v<this.length;v++){var B=this.words[v]&x,S=(this.words[v]|0)-B<<l;this.words[v]=S|I,I=B>>>26-l}I&&(this.words[v]=I,this.length++)}if(y!==0){for(v=this.length-1;v>=0;v--)this.words[v+y]=this.words[v];for(v=0;v<y;v++)this.words[v]=0;this.length+=y}return this._strip()},o.prototype.ishln=function(a){return t(this.negative===0),this.iushln(a)},o.prototype.iushrn=function(a,l,y){t(typeof a=="number"&&a>=0);var x;l?x=(l-l%26)/26:x=0;var v=a%26,I=Math.min((a-v)/26,this.length),B=67108863^67108863>>>v<<v,S=y;if(x-=I,x=Math.max(0,x),S){for(var p=0;p<I;p++)S.words[p]=this.words[p];S.length=I}if(I!==0)if(this.length>I)for(this.length-=I,p=0;p<this.length;p++)this.words[p]=this.words[p+I];else this.words[0]=0,this.length=1;var _=0;for(p=this.length-1;p>=0&&(_!==0||p>=x);p--){var ae=this.words[p]|0;this.words[p]=_<<26-v|ae>>>v,_=ae&B}return S&&_!==0&&(S.words[S.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(a,l,y){return t(this.negative===0),this.iushrn(a,l,y)},o.prototype.shln=function(a){return this.clone().ishln(a)},o.prototype.ushln=function(a){return this.clone().iushln(a)},o.prototype.shrn=function(a){return this.clone().ishrn(a)},o.prototype.ushrn=function(a){return this.clone().iushrn(a)},o.prototype.testn=function(a){t(typeof a=="number"&&a>=0);var l=a%26,y=(a-l)/26,x=1<<l;if(this.length<=y)return!1;var v=this.words[y];return!!(v&x)},o.prototype.imaskn=function(a){t(typeof a=="number"&&a>=0);var l=a%26,y=(a-l)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(l!==0&&y++,this.length=Math.min(y,this.length),l!==0){var x=67108863^67108863>>>l<<l;this.words[this.length-1]&=x}return this._strip()},o.prototype.maskn=function(a){return this.clone().imaskn(a)},o.prototype.iaddn=function(a){return t(typeof a=="number"),t(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},o.prototype._iaddn=function(a){this.words[0]+=a;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},o.prototype.isubn=function(a){if(t(typeof a=="number"),t(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},o.prototype.addn=function(a){return this.clone().iaddn(a)},o.prototype.subn=function(a){return this.clone().isubn(a)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(a,l,y){var x=a.length+y,v;this._expand(x);var I,B=0;for(v=0;v<a.length;v++){I=(this.words[v+y]|0)+B;var S=(a.words[v]|0)*l;I-=S&67108863,B=(I>>26)-(S/67108864|0),this.words[v+y]=I&67108863}for(;v<this.length-y;v++)I=(this.words[v+y]|0)+B,B=I>>26,this.words[v+y]=I&67108863;if(B===0)return this._strip();for(t(B===-1),B=0,v=0;v<this.length;v++)I=-(this.words[v]|0)+B,B=I>>26,this.words[v]=I&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(a,l){var y=this.length-a.length,x=this.clone(),v=a,I=v.words[v.length-1]|0,B=this._countBits(I);y=26-B,y!==0&&(v=v.ushln(y),x.iushln(y),I=v.words[v.length-1]|0);var S=x.length-v.length,p;if(l!=="mod"){p=new o(null),p.length=S+1,p.words=new Array(p.length);for(var _=0;_<p.length;_++)p.words[_]=0}var ae=x.clone()._ishlnsubmul(v,1,S);ae.negative===0&&(x=ae,p&&(p.words[S]=1));for(var m=S-1;m>=0;m--){var L=(x.words[v.length+m]|0)*67108864+(x.words[v.length+m-1]|0);for(L=Math.min(L/I|0,67108863),x._ishlnsubmul(v,L,m);x.negative!==0;)L--,x.negative=0,x._ishlnsubmul(v,1,m),x.isZero()||(x.negative^=1);p&&(p.words[m]=L)}return p&&p._strip(),x._strip(),l!=="div"&&y!==0&&x.iushrn(y),{div:p||null,mod:x}},o.prototype.divmod=function(a,l,y){if(t(!a.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var x,v,I;return this.negative!==0&&a.negative===0?(I=this.neg().divmod(a,l),l!=="mod"&&(x=I.div.neg()),l!=="div"&&(v=I.mod.neg(),y&&v.negative!==0&&v.iadd(a)),{div:x,mod:v}):this.negative===0&&a.negative!==0?(I=this.divmod(a.neg(),l),l!=="mod"&&(x=I.div.neg()),{div:x,mod:I.mod}):(this.negative&a.negative)!==0?(I=this.neg().divmod(a.neg(),l),l!=="div"&&(v=I.mod.neg(),y&&v.negative!==0&&v.isub(a)),{div:I.div,mod:v}):a.length>this.length||this.cmp(a)<0?{div:new o(0),mod:this}:a.length===1?l==="div"?{div:this.divn(a.words[0]),mod:null}:l==="mod"?{div:null,mod:new o(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new o(this.modrn(a.words[0]))}:this._wordDiv(a,l)},o.prototype.div=function(a){return this.divmod(a,"div",!1).div},o.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},o.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},o.prototype.divRound=function(a){var l=this.divmod(a);if(l.mod.isZero())return l.div;var y=l.div.negative!==0?l.mod.isub(a):l.mod,x=a.ushrn(1),v=a.andln(1),I=y.cmp(x);return I<0||v===1&&I===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},o.prototype.modrn=function(a){var l=a<0;l&&(a=-a),t(a<=67108863);for(var y=(1<<26)%a,x=0,v=this.length-1;v>=0;v--)x=(y*x+(this.words[v]|0))%a;return l?-x:x},o.prototype.modn=function(a){return this.modrn(a)},o.prototype.idivn=function(a){var l=a<0;l&&(a=-a),t(a<=67108863);for(var y=0,x=this.length-1;x>=0;x--){var v=(this.words[x]|0)+y*67108864;this.words[x]=v/a|0,y=v%a}return this._strip(),l?this.ineg():this},o.prototype.divn=function(a){return this.clone().idivn(a)},o.prototype.egcd=function(a){t(a.negative===0),t(!a.isZero());var l=this,y=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var x=new o(1),v=new o(0),I=new o(0),B=new o(1),S=0;l.isEven()&&y.isEven();)l.iushrn(1),y.iushrn(1),++S;for(var p=y.clone(),_=l.clone();!l.isZero();){for(var ae=0,m=1;(l.words[0]&m)===0&&ae<26;++ae,m<<=1);if(ae>0)for(l.iushrn(ae);ae-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(p),v.isub(_)),x.iushrn(1),v.iushrn(1);for(var L=0,U=1;(y.words[0]&U)===0&&L<26;++L,U<<=1);if(L>0)for(y.iushrn(L);L-- >0;)(I.isOdd()||B.isOdd())&&(I.iadd(p),B.isub(_)),I.iushrn(1),B.iushrn(1);l.cmp(y)>=0?(l.isub(y),x.isub(I),v.isub(B)):(y.isub(l),I.isub(x),B.isub(v))}return{a:I,b:B,gcd:y.iushln(S)}},o.prototype._invmp=function(a){t(a.negative===0),t(!a.isZero());var l=this,y=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var x=new o(1),v=new o(0),I=y.clone();l.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,S=1;(l.words[0]&S)===0&&B<26;++B,S<<=1);if(B>0)for(l.iushrn(B);B-- >0;)x.isOdd()&&x.iadd(I),x.iushrn(1);for(var p=0,_=1;(y.words[0]&_)===0&&p<26;++p,_<<=1);if(p>0)for(y.iushrn(p);p-- >0;)v.isOdd()&&v.iadd(I),v.iushrn(1);l.cmp(y)>=0?(l.isub(y),x.isub(v)):(y.isub(l),v.isub(x))}var ae;return l.cmpn(1)===0?ae=x:ae=v,ae.cmpn(0)<0&&ae.iadd(a),ae},o.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var l=this.clone(),y=a.clone();l.negative=0,y.negative=0;for(var x=0;l.isEven()&&y.isEven();x++)l.iushrn(1),y.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;y.isEven();)y.iushrn(1);var v=l.cmp(y);if(v<0){var I=l;l=y,y=I}else if(v===0||y.cmpn(1)===0)break;l.isub(y)}while(!0);return y.iushln(x)},o.prototype.invm=function(a){return this.egcd(a).a.umod(a)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(a){return this.words[0]&a},o.prototype.bincn=function(a){t(typeof a=="number");var l=a%26,y=(a-l)/26,x=1<<l;if(this.length<=y)return this._expand(y+1),this.words[y]|=x,this;for(var v=x,I=y;v!==0&&I<this.length;I++){var B=this.words[I]|0;B+=v,v=B>>>26,B&=67108863,this.words[I]=B}return v!==0&&(this.words[I]=v,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(a){var l=a<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var y;if(this.length>1)y=1;else{l&&(a=-a),t(a<=67108863,"Number is too big");var x=this.words[0]|0;y=x===a?0:x<a?-1:1}return this.negative!==0?-y|0:y},o.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var l=this.ucmp(a);return this.negative!==0?-l|0:l},o.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var l=0,y=this.length-1;y>=0;y--){var x=this.words[y]|0,v=a.words[y]|0;if(x!==v){x<v?l=-1:x>v&&(l=1);break}}return l},o.prototype.gtn=function(a){return this.cmpn(a)===1},o.prototype.gt=function(a){return this.cmp(a)===1},o.prototype.gten=function(a){return this.cmpn(a)>=0},o.prototype.gte=function(a){return this.cmp(a)>=0},o.prototype.ltn=function(a){return this.cmpn(a)===-1},o.prototype.lt=function(a){return this.cmp(a)===-1},o.prototype.lten=function(a){return this.cmpn(a)<=0},o.prototype.lte=function(a){return this.cmp(a)<=0},o.prototype.eqn=function(a){return this.cmpn(a)===0},o.prototype.eq=function(a){return this.cmp(a)===0},o.red=function(a){return new ee(a)},o.prototype.toRed=function(a){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},o.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(a){return this.red=a,this},o.prototype.forceRed=function(a){return t(!this.red,"Already a number in reduction context"),this._forceRed(a)},o.prototype.redAdd=function(a){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},o.prototype.redIAdd=function(a){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},o.prototype.redSub=function(a){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},o.prototype.redISub=function(a){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},o.prototype.redShl=function(a){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},o.prototype.redMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},o.prototype.redIMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},o.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(a){return t(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var G={k256:null,p224:null,p192:null,p25519:null};function le(g,a){this.name=g,this.p=new o(a,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}le.prototype._tmp=function(){var a=new o(null);return a.words=new Array(Math.ceil(this.n/13)),a},le.prototype.ireduce=function(a){var l=a,y;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),y=l.bitLength();while(y>this.n);var x=y<this.n?-1:l.ucmp(this.p);return x===0?(l.words[0]=0,l.length=1):x>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},le.prototype.split=function(a,l){a.iushrn(this.n,0,l)},le.prototype.imulK=function(a){return a.imul(this.k)};function ge(){le.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ge,le),ge.prototype.split=function(a,l){for(var y=4194303,x=Math.min(a.length,9),v=0;v<x;v++)l.words[v]=a.words[v];if(l.length=x,a.length<=9){a.words[0]=0,a.length=1;return}var I=a.words[9];for(l.words[l.length++]=I&y,v=10;v<a.length;v++){var B=a.words[v]|0;a.words[v-10]=(B&y)<<4|I>>>22,I=B}I>>>=22,a.words[v-10]=I,I===0&&a.length>10?a.length-=10:a.length-=9},ge.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var l=0,y=0;y<a.length;y++){var x=a.words[y]|0;l+=x*977,a.words[y]=l&67108863,l=x*64+(l/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function oe(){le.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(oe,le);function Pe(){le.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Pe,le);function Ve(){le.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Ve,le),Ve.prototype.imulK=function(a){for(var l=0,y=0;y<a.length;y++){var x=(a.words[y]|0)*19+l,v=x&67108863;x>>>=26,a.words[y]=v,l=x}return l!==0&&(a.words[a.length++]=l),a},o._prime=function(a){if(G[a])return G[a];var l;if(a==="k256")l=new ge;else if(a==="p224")l=new oe;else if(a==="p192")l=new Pe;else if(a==="p25519")l=new Ve;else throw new Error("Unknown prime "+a);return G[a]=l,l};function ee(g){if(typeof g=="string"){var a=o._prime(g);this.m=a.p,this.prime=a}else t(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}ee.prototype._verify1=function(a){t(a.negative===0,"red works only with positives"),t(a.red,"red works only with red numbers")},ee.prototype._verify2=function(a,l){t((a.negative|l.negative)===0,"red works only with positives"),t(a.red&&a.red===l.red,"red works only with red numbers")},ee.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(d(a,a.umod(this.m)._forceRed(this)),a)},ee.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},ee.prototype.add=function(a,l){this._verify2(a,l);var y=a.add(l);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},ee.prototype.iadd=function(a,l){this._verify2(a,l);var y=a.iadd(l);return y.cmp(this.m)>=0&&y.isub(this.m),y},ee.prototype.sub=function(a,l){this._verify2(a,l);var y=a.sub(l);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},ee.prototype.isub=function(a,l){this._verify2(a,l);var y=a.isub(l);return y.cmpn(0)<0&&y.iadd(this.m),y},ee.prototype.shl=function(a,l){return this._verify1(a),this.imod(a.ushln(l))},ee.prototype.imul=function(a,l){return this._verify2(a,l),this.imod(a.imul(l))},ee.prototype.mul=function(a,l){return this._verify2(a,l),this.imod(a.mul(l))},ee.prototype.isqr=function(a){return this.imul(a,a.clone())},ee.prototype.sqr=function(a){return this.mul(a,a)},ee.prototype.sqrt=function(a){if(a.isZero())return a.clone();var l=this.m.andln(3);if(t(l%2===1),l===3){var y=this.m.add(new o(1)).iushrn(2);return this.pow(a,y)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);t(!x.isZero());var I=new o(1).toRed(this),B=I.redNeg(),S=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,S).cmp(B)!==0;)p.redIAdd(B);for(var _=this.pow(p,x),ae=this.pow(a,x.addn(1).iushrn(1)),m=this.pow(a,x),L=v;m.cmp(I)!==0;){for(var U=m,W=0;U.cmp(I)!==0;W++)U=U.redSqr();t(W<L);var Y=this.pow(_,new o(1).iushln(L-W-1));ae=ae.redMul(Y),_=Y.redSqr(),m=m.redMul(_),L=W}return ae},ee.prototype.invm=function(a){var l=a._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},ee.prototype.pow=function(a,l){if(l.isZero())return new o(1).toRed(this);if(l.cmpn(1)===0)return a.clone();var y=4,x=new Array(1<<y);x[0]=new o(1).toRed(this),x[1]=a;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],a);var I=x[0],B=0,S=0,p=l.bitLength()%26;for(p===0&&(p=26),v=l.length-1;v>=0;v--){for(var _=l.words[v],ae=p-1;ae>=0;ae--){var m=_>>ae&1;if(I!==x[0]&&(I=this.sqr(I)),m===0&&B===0){S=0;continue}B<<=1,B|=m,S++,!(S!==y&&(v!==0||ae!==0))&&(I=this.mul(I,x[B]),S=0,B=0)}p=26}return I},ee.prototype.convertTo=function(a){var l=a.umod(this.m);return l===a?l.clone():l},ee.prototype.convertFrom=function(a){var l=a.clone();return l.red=null,l},o.mont=function(a){return new C(a)};function C(g){ee.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(C,ee),C.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},C.prototype.convertFrom=function(a){var l=this.imod(a.mul(this.rinv));return l.red=null,l},C.prototype.imul=function(a,l){if(a.isZero()||l.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(l),x=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(x).iushrn(this.shift),I=v;return v.cmp(this.m)>=0?I=v.isub(this.m):v.cmpn(0)<0&&(I=v.iadd(this.m)),I._forceRed(this)},C.prototype.mul=function(a,l){if(a.isZero()||l.isZero())return new o(0)._forceRed(this);var y=a.mul(l),x=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(x).iushrn(this.shift),I=v;return v.cmp(this.m)>=0?I=v.isub(this.m):v.cmpn(0)<0&&(I=v.iadd(this.m)),I._forceRed(this)},C.prototype.invm=function(a){var l=this.imod(a._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof Hf>"u"||Hf,py)});var yy=be((yM,Na)=>{h();(function(){"use strict";var r="input is invalid type",e="finalize already called",t=typeof window=="object",n=t?window:{};n.JS_SHA3_NO_WINDOW&&(t=!1);var o=!t&&typeof self=="object",s=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?n=global:o&&(n=self);var i=!n.JS_SHA3_NO_COMMON_JS&&typeof Na=="object"&&Na.exports,u=typeof define=="function"&&define.amd,f=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),w=[31,7936,2031616,520093696],b=[4,1024,262144,67108864],T=[1,256,65536,16777216],A=[6,1536,393216,100663296],D=[0,8,16,24],j=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],J=[224,256,384,512],re=[128,256],xe=["hex","buffer","arrayBuffer","array","digest"],X={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(m){return Object.prototype.toString.call(m)==="[object Array]"}),f&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(m){return typeof m=="object"&&m.buffer&&m.buffer.constructor===ArrayBuffer});for(var V=function(m,L,U){return function(W){return new p(m,L,m).update(W)[U]()}},G=function(m,L,U){return function(W,Y){return new p(m,L,Y).update(W)[U]()}},le=function(m,L,U){return function(W,Y,me,ie){return a["cshake"+m].update(W,Y,me,ie)[U]()}},ge=function(m,L,U){return function(W,Y,me,ie){return a["kmac"+m].update(W,Y,me,ie)[U]()}},oe=function(m,L,U,W){for(var Y=0;Y<xe.length;++Y){var me=xe[Y];m[me]=L(U,W,me)}return m},Pe=function(m,L){var U=V(m,L,"hex");return U.create=function(){return new p(m,L,m)},U.update=function(W){return U.create().update(W)},oe(U,V,m,L)},Ve=function(m,L){var U=G(m,L,"hex");return U.create=function(W){return new p(m,L,W)},U.update=function(W,Y){return U.create(Y).update(W)},oe(U,G,m,L)},ee=function(m,L){var U=X[m],W=le(m,L,"hex");return W.create=function(Y,me,ie){return!me&&!ie?a["shake"+m].create(Y):new p(m,L,Y).bytepad([me,ie],U)},W.update=function(Y,me,ie,se){return W.create(me,ie,se).update(Y)},oe(W,le,m,L)},C=function(m,L){var U=X[m],W=ge(m,L,"hex");return W.create=function(Y,me,ie){return new _(m,L,me).bytepad(["KMAC",ie],U).bytepad([Y],U)},W.update=function(Y,me,ie,se){return W.create(Y,ie,se).update(me)},oe(W,ge,m,L)},g=[{name:"keccak",padding:T,bits:J,createMethod:Pe},{name:"sha3",padding:A,bits:J,createMethod:Pe},{name:"shake",padding:w,bits:re,createMethod:Ve},{name:"cshake",padding:b,bits:re,createMethod:ee},{name:"kmac",padding:b,bits:re,createMethod:C}],a={},l=[],y=0;y<g.length;++y)for(var x=g[y],v=x.bits,I=0;I<v.length;++I){var B=x.name+"_"+v[I];if(l.push(B),a[B]=x.createMethod(v[I],x.padding),x.name!=="sha3"){var S=x.name+v[I];l.push(S),a[S]=a[B]}}function p(m,L,U){this.blocks=[],this.s=[],this.padding=L,this.outputBits=U,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(m<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=U>>5,this.extraBytes=(U&31)>>3;for(var W=0;W<50;++W)this.s[W]=0}p.prototype.update=function(m){if(this.finalized)throw new Error(e);var L,U=typeof m;if(U!=="string"){if(U==="object"){if(m===null)throw new Error(r);if(f&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!f||!ArrayBuffer.isView(m)))throw new Error(r)}else throw new Error(r);L=!0}for(var W=this.blocks,Y=this.byteCount,me=m.length,ie=this.blockCount,se=0,Ft=this.s,de,Re;se<me;){if(this.reset)for(this.reset=!1,W[0]=this.block,de=1;de<ie+1;++de)W[de]=0;if(L)for(de=this.start;se<me&&de<Y;++se)W[de>>2]|=m[se]<<D[de++&3];else for(de=this.start;se<me&&de<Y;++se)Re=m.charCodeAt(se),Re<128?W[de>>2]|=Re<<D[de++&3]:Re<2048?(W[de>>2]|=(192|Re>>6)<<D[de++&3],W[de>>2]|=(128|Re&63)<<D[de++&3]):Re<55296||Re>=57344?(W[de>>2]|=(224|Re>>12)<<D[de++&3],W[de>>2]|=(128|Re>>6&63)<<D[de++&3],W[de>>2]|=(128|Re&63)<<D[de++&3]):(Re=65536+((Re&1023)<<10|m.charCodeAt(++se)&1023),W[de>>2]|=(240|Re>>18)<<D[de++&3],W[de>>2]|=(128|Re>>12&63)<<D[de++&3],W[de>>2]|=(128|Re>>6&63)<<D[de++&3],W[de>>2]|=(128|Re&63)<<D[de++&3]);if(this.lastByteIndex=de,de>=Y){for(this.start=de-Y,this.block=W[ie],de=0;de<ie;++de)Ft[de]^=W[de];ae(Ft),this.reset=!0}else this.start=de}return this},p.prototype.encode=function(m,L){var U=m&255,W=1,Y=[U];for(m=m>>8,U=m&255;U>0;)Y.unshift(U),m=m>>8,U=m&255,++W;return L?Y.push(W):Y.unshift(W),this.update(Y),Y.length},p.prototype.encodeString=function(m){var L,U=typeof m;if(U!=="string"){if(U==="object"){if(m===null)throw new Error(r);if(f&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!f||!ArrayBuffer.isView(m)))throw new Error(r)}else throw new Error(r);L=!0}var W=0,Y=m.length;if(L)W=Y;else for(var me=0;me<m.length;++me){var ie=m.charCodeAt(me);ie<128?W+=1:ie<2048?W+=2:ie<55296||ie>=57344?W+=3:(ie=65536+((ie&1023)<<10|m.charCodeAt(++me)&1023),W+=4)}return W+=this.encode(W*8),this.update(m),W},p.prototype.bytepad=function(m,L){for(var U=this.encode(L),W=0;W<m.length;++W)U+=this.encodeString(m[W]);var Y=L-U%L,me=[];return me.length=Y,this.update(me),this},p.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var m=this.blocks,L=this.lastByteIndex,U=this.blockCount,W=this.s;if(m[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(m[0]=m[U],L=1;L<U+1;++L)m[L]=0;for(m[U-1]|=2147483648,L=0;L<U;++L)W[L]^=m[L];ae(W)}},p.prototype.toString=p.prototype.hex=function(){this.finalize();for(var m=this.blockCount,L=this.s,U=this.outputBlocks,W=this.extraBytes,Y=0,me=0,ie="",se;me<U;){for(Y=0;Y<m&&me<U;++Y,++me)se=L[Y],ie+=d[se>>4&15]+d[se&15]+d[se>>12&15]+d[se>>8&15]+d[se>>20&15]+d[se>>16&15]+d[se>>28&15]+d[se>>24&15];me%m===0&&(ae(L),Y=0)}return W&&(se=L[Y],ie+=d[se>>4&15]+d[se&15],W>1&&(ie+=d[se>>12&15]+d[se>>8&15]),W>2&&(ie+=d[se>>20&15]+d[se>>16&15])),ie},p.prototype.arrayBuffer=function(){this.finalize();var m=this.blockCount,L=this.s,U=this.outputBlocks,W=this.extraBytes,Y=0,me=0,ie=this.outputBits>>3,se;W?se=new ArrayBuffer(U+1<<2):se=new ArrayBuffer(ie);for(var Ft=new Uint32Array(se);me<U;){for(Y=0;Y<m&&me<U;++Y,++me)Ft[me]=L[Y];me%m===0&&ae(L)}return W&&(Ft[Y]=L[Y],se=se.slice(0,ie)),se},p.prototype.buffer=p.prototype.arrayBuffer,p.prototype.digest=p.prototype.array=function(){this.finalize();for(var m=this.blockCount,L=this.s,U=this.outputBlocks,W=this.extraBytes,Y=0,me=0,ie=[],se,Ft;me<U;){for(Y=0;Y<m&&me<U;++Y,++me)se=me<<2,Ft=L[Y],ie[se]=Ft&255,ie[se+1]=Ft>>8&255,ie[se+2]=Ft>>16&255,ie[se+3]=Ft>>24&255;me%m===0&&ae(L)}return W&&(se=me<<2,Ft=L[Y],ie[se]=Ft&255,W>1&&(ie[se+1]=Ft>>8&255),W>2&&(ie[se+2]=Ft>>16&255)),ie};function _(m,L,U){p.call(this,m,L,U)}_.prototype=new p,_.prototype.finalize=function(){return this.encode(this.outputBits,!0),p.prototype.finalize.call(this)};var ae=function(m){var L,U,W,Y,me,ie,se,Ft,de,Re,ho,rt,nt,yo,ot,st,mo,it,at,go,ct,ut,xo,ft,lt,bo,pt,ht,wo,dt,yt,vo,mt,gt,So,xt,bt,_o,wt,vt,Eo,St,_t,ko,Et,kt,Io,It,At,Ao,Rt,Bt,Ro,Tt,Pt,Bo,zt,Mt,zn,Mn,Ln,Cn,Nn;for(W=0;W<48;W+=2)Y=m[0]^m[10]^m[20]^m[30]^m[40],me=m[1]^m[11]^m[21]^m[31]^m[41],ie=m[2]^m[12]^m[22]^m[32]^m[42],se=m[3]^m[13]^m[23]^m[33]^m[43],Ft=m[4]^m[14]^m[24]^m[34]^m[44],de=m[5]^m[15]^m[25]^m[35]^m[45],Re=m[6]^m[16]^m[26]^m[36]^m[46],ho=m[7]^m[17]^m[27]^m[37]^m[47],rt=m[8]^m[18]^m[28]^m[38]^m[48],nt=m[9]^m[19]^m[29]^m[39]^m[49],L=rt^(ie<<1|se>>>31),U=nt^(se<<1|ie>>>31),m[0]^=L,m[1]^=U,m[10]^=L,m[11]^=U,m[20]^=L,m[21]^=U,m[30]^=L,m[31]^=U,m[40]^=L,m[41]^=U,L=Y^(Ft<<1|de>>>31),U=me^(de<<1|Ft>>>31),m[2]^=L,m[3]^=U,m[12]^=L,m[13]^=U,m[22]^=L,m[23]^=U,m[32]^=L,m[33]^=U,m[42]^=L,m[43]^=U,L=ie^(Re<<1|ho>>>31),U=se^(ho<<1|Re>>>31),m[4]^=L,m[5]^=U,m[14]^=L,m[15]^=U,m[24]^=L,m[25]^=U,m[34]^=L,m[35]^=U,m[44]^=L,m[45]^=U,L=Ft^(rt<<1|nt>>>31),U=de^(nt<<1|rt>>>31),m[6]^=L,m[7]^=U,m[16]^=L,m[17]^=U,m[26]^=L,m[27]^=U,m[36]^=L,m[37]^=U,m[46]^=L,m[47]^=U,L=Re^(Y<<1|me>>>31),U=ho^(me<<1|Y>>>31),m[8]^=L,m[9]^=U,m[18]^=L,m[19]^=U,m[28]^=L,m[29]^=U,m[38]^=L,m[39]^=U,m[48]^=L,m[49]^=U,yo=m[0],ot=m[1],kt=m[11]<<4|m[10]>>>28,Io=m[10]<<4|m[11]>>>28,ht=m[20]<<3|m[21]>>>29,wo=m[21]<<3|m[20]>>>29,Mn=m[31]<<9|m[30]>>>23,Ln=m[30]<<9|m[31]>>>23,St=m[40]<<18|m[41]>>>14,_t=m[41]<<18|m[40]>>>14,gt=m[2]<<1|m[3]>>>31,So=m[3]<<1|m[2]>>>31,st=m[13]<<12|m[12]>>>20,mo=m[12]<<12|m[13]>>>20,It=m[22]<<10|m[23]>>>22,At=m[23]<<10|m[22]>>>22,dt=m[33]<<13|m[32]>>>19,yt=m[32]<<13|m[33]>>>19,Cn=m[42]<<2|m[43]>>>30,Nn=m[43]<<2|m[42]>>>30,Tt=m[5]<<30|m[4]>>>2,Pt=m[4]<<30|m[5]>>>2,xt=m[14]<<6|m[15]>>>26,bt=m[15]<<6|m[14]>>>26,it=m[25]<<11|m[24]>>>21,at=m[24]<<11|m[25]>>>21,Ao=m[34]<<15|m[35]>>>17,Rt=m[35]<<15|m[34]>>>17,vo=m[45]<<29|m[44]>>>3,mt=m[44]<<29|m[45]>>>3,ft=m[6]<<28|m[7]>>>4,lt=m[7]<<28|m[6]>>>4,Bo=m[17]<<23|m[16]>>>9,zt=m[16]<<23|m[17]>>>9,_o=m[26]<<25|m[27]>>>7,wt=m[27]<<25|m[26]>>>7,go=m[36]<<21|m[37]>>>11,ct=m[37]<<21|m[36]>>>11,Bt=m[47]<<24|m[46]>>>8,Ro=m[46]<<24|m[47]>>>8,ko=m[8]<<27|m[9]>>>5,Et=m[9]<<27|m[8]>>>5,bo=m[18]<<20|m[19]>>>12,pt=m[19]<<20|m[18]>>>12,Mt=m[29]<<7|m[28]>>>25,zn=m[28]<<7|m[29]>>>25,vt=m[38]<<8|m[39]>>>24,Eo=m[39]<<8|m[38]>>>24,ut=m[48]<<14|m[49]>>>18,xo=m[49]<<14|m[48]>>>18,m[0]=yo^~st&it,m[1]=ot^~mo&at,m[10]=ft^~bo&ht,m[11]=lt^~pt&wo,m[20]=gt^~xt&_o,m[21]=So^~bt&wt,m[30]=ko^~kt&It,m[31]=Et^~Io&At,m[40]=Tt^~Bo&Mt,m[41]=Pt^~zt&zn,m[2]=st^~it&go,m[3]=mo^~at&ct,m[12]=bo^~ht&dt,m[13]=pt^~wo&yt,m[22]=xt^~_o&vt,m[23]=bt^~wt&Eo,m[32]=kt^~It&Ao,m[33]=Io^~At&Rt,m[42]=Bo^~Mt&Mn,m[43]=zt^~zn&Ln,m[4]=it^~go&ut,m[5]=at^~ct&xo,m[14]=ht^~dt&vo,m[15]=wo^~yt&mt,m[24]=_o^~vt&St,m[25]=wt^~Eo&_t,m[34]=It^~Ao&Bt,m[35]=At^~Rt&Ro,m[44]=Mt^~Mn&Cn,m[45]=zn^~Ln&Nn,m[6]=go^~ut&yo,m[7]=ct^~xo&ot,m[16]=dt^~vo&ft,m[17]=yt^~mt&lt,m[26]=vt^~St&gt,m[27]=Eo^~_t&So,m[36]=Ao^~Bt&ko,m[37]=Rt^~Ro&Et,m[46]=Mn^~Cn&Tt,m[47]=Ln^~Nn&Pt,m[8]=ut^~yo&st,m[9]=xo^~ot&mo,m[18]=vo^~ft&bo,m[19]=mt^~lt&pt,m[28]=St^~gt&xt,m[29]=_t^~So&bt,m[38]=Bt^~ko&kt,m[39]=Ro^~Et&Io,m[48]=Cn^~Tt&Bo,m[49]=Nn^~Pt&zt,m[0]^=j[W],m[1]^=j[W+1]};if(i)Na.exports=a;else{for(y=0;y<l.length;++y)n[l[y]]=a[l[y]];u&&define(function(){return a})}})()});var Ey=be(($f,_y)=>{h();var Oa=ls(),en=Oa.Buffer;function Sy(r,e){for(var t in r)e[t]=r[t]}en.from&&en.alloc&&en.allocUnsafe&&en.allocUnsafeSlow?_y.exports=Oa:(Sy(Oa,$f),$f.Buffer=Wo);function Wo(r,e,t){return en(r,e,t)}Wo.prototype=Object.create(en.prototype);Sy(en,Wo);Wo.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return en(r,e,t)};Wo.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=en(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};Wo.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return en(r)};Wo.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Oa.SlowBuffer(r)}});var Iy=be((CM,ky)=>{"use strict";h();var Ua=Ey().Buffer;function uE(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=n}var i=r.length,u=r.charAt(0),f=Math.log(i)/Math.log(256),d=Math.log(256)/Math.log(i);function w(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=Ua.from(A)),!Ua.isBuffer(A))throw new TypeError("Expected Buffer");if(A.length===0)return"";for(var D=0,j=0,J=0,re=A.length;J!==re&&A[J]===0;)J++,D++;for(var xe=(re-J)*d+1>>>0,X=new Uint8Array(xe);J!==re;){for(var V=A[J],G=0,le=xe-1;(V!==0||G<j)&&le!==-1;le--,G++)V+=256*X[le]>>>0,X[le]=V%i>>>0,V=V/i>>>0;if(V!==0)throw new Error("Non-zero carry");j=G,J++}for(var ge=xe-j;ge!==xe&&X[ge]===0;)ge++;for(var oe=u.repeat(D);ge<xe;++ge)oe+=r.charAt(X[ge]);return oe}function b(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return Ua.alloc(0);for(var D=0,j=0,J=0;A[D]===u;)j++,D++;for(var re=(A.length-D)*f+1>>>0,xe=new Uint8Array(re);A[D];){var X=e[A.charCodeAt(D)];if(X===255)return;for(var V=0,G=re-1;(X!==0||V<J)&&G!==-1;G--,V++)X+=i*xe[G]>>>0,xe[G]=X%256>>>0,X=X/256>>>0;if(X!==0)throw new Error("Non-zero carry");J=V,D++}for(var le=re-J;le!==re&&xe[le]===0;)le++;var ge=Ua.allocUnsafe(j+(re-le));ge.fill(0,0,j);for(var oe=j;le!==re;)ge[oe++]=xe[le++];return ge}function T(A){var D=b(A);if(D)return D;throw new Error("Non-base"+i+" character")}return{encode:w,decodeUnsafe:b,decode:T}}ky.exports=uE});var Hn=be((OM,Ay)=>{h();var fE=Iy(),lE="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Ay.exports=fE(lE)});var Rs=be(N=>{"use strict";h();Object.defineProperty(N,"__esModule",{value:!0});N.s16=N.s8=N.nu64be=N.u48be=N.u40be=N.u32be=N.u24be=N.u16be=N.nu64=N.u48=N.u40=N.u32=N.u24=N.u16=N.u8=N.offset=N.greedy=N.Constant=N.UTF8=N.CString=N.Blob=N.Boolean=N.BitField=N.BitStructure=N.VariantLayout=N.Union=N.UnionLayoutDiscriminator=N.UnionDiscriminator=N.Structure=N.Sequence=N.DoubleBE=N.Double=N.FloatBE=N.Float=N.NearInt64BE=N.NearInt64=N.NearUInt64BE=N.NearUInt64=N.IntBE=N.Int=N.UIntBE=N.UInt=N.OffsetLayout=N.GreedyCount=N.ExternalLayout=N.bindConstructorLayout=N.nameWithProperty=N.Layout=N.uint8ArrayToBuffer=N.checkUint8Array=void 0;N.constant=N.utf8=N.cstr=N.blob=N.unionLayoutDiscriminator=N.union=N.seq=N.bits=N.struct=N.f64be=N.f64=N.f32be=N.f32=N.ns64be=N.s48be=N.s40be=N.s32be=N.s24be=N.s16be=N.ns64=N.s48=N.s40=N.s32=N.s24=void 0;var kp=ls();function As(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}N.checkUint8Array=As;function $e(r){return As(r),kp.Buffer.from(r.buffer,r.byteOffset,r.length)}N.uint8ArrayToBuffer=$e;var Ge=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};N.Layout=Ge;function Ip(r,e){return e.property?r+"["+e.property+"]":r}N.nameWithProperty=Ip;function RA(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ge))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}N.bindConstructorLayout=RA;var er=class extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}};N.ExternalLayout=er;var uc=class extends er{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){As(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};N.GreedyCount=uc;var Ii=class extends er{constructor(e,t=0,n){if(!(e instanceof Ge))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof mr||this.layout instanceof _r}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};N.OffsetLayout=Ii;var mr=class extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return $e(e).readUIntLE(t,this.span)}encode(e,t,n=0){return $e(t).writeUIntLE(e,n,this.span),this.span}};N.UInt=mr;var _r=class extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return $e(e).readUIntBE(t,this.span)}encode(e,t,n=0){return $e(t).writeUIntBE(e,n,this.span),this.span}};N.UIntBE=_r;var _n=class extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return $e(e).readIntLE(t,this.span)}encode(e,t,n=0){return $e(t).writeIntLE(e,n,this.span),this.span}};N.Int=_n;var jn=class extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return $e(e).readIntBE(t,this.span)}encode(e,t,n=0){return $e(t).writeIntBE(e,n,this.span),this.span}};N.IntBE=jn;var Ep=Math.pow(2,32);function Ic(r){let e=Math.floor(r/Ep),t=r-e*Ep;return{hi32:e,lo32:t}}function Ac(r,e){return r*Ep+e}var fc=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){let n=$e(e),o=n.readUInt32LE(t),s=n.readUInt32LE(t+4);return Ac(s,o)}encode(e,t,n=0){let o=Ic(e),s=$e(t);return s.writeUInt32LE(o.lo32,n),s.writeUInt32LE(o.hi32,n+4),8}};N.NearUInt64=fc;var lc=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){let n=$e(e),o=n.readUInt32BE(t),s=n.readUInt32BE(t+4);return Ac(o,s)}encode(e,t,n=0){let o=Ic(e),s=$e(t);return s.writeUInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}};N.NearUInt64BE=lc;var pc=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){let n=$e(e),o=n.readUInt32LE(t),s=n.readInt32LE(t+4);return Ac(s,o)}encode(e,t,n=0){let o=Ic(e),s=$e(t);return s.writeUInt32LE(o.lo32,n),s.writeInt32LE(o.hi32,n+4),8}};N.NearInt64=pc;var hc=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){let n=$e(e),o=n.readInt32BE(t),s=n.readUInt32BE(t+4);return Ac(o,s)}encode(e,t,n=0){let o=Ic(e),s=$e(t);return s.writeInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}};N.NearInt64BE=hc;var dc=class extends Ge{constructor(e){super(4,e)}decode(e,t=0){return $e(e).readFloatLE(t)}encode(e,t,n=0){return $e(t).writeFloatLE(e,n),4}};N.Float=dc;var yc=class extends Ge{constructor(e){super(4,e)}decode(e,t=0){return $e(e).readFloatBE(t)}encode(e,t,n=0){return $e(t).writeFloatBE(e,n),4}};N.FloatBE=yc;var mc=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){return $e(e).readDoubleLE(t)}encode(e,t,n=0){return $e(t).writeDoubleLE(e,n),8}};N.Double=mc;var gc=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){return $e(e).readDoubleBE(t)}encode(e,t,n=0){return $e(t).writeDoubleBE(e,n),8}};N.DoubleBE=gc;var xc=class extends Ge{constructor(e,t,n){if(!(e instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof er&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof er)&&0<e.span&&(o=t*e.span),super(o,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof er&&(o=o.decode(e,t)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let s=0;for(;s<o;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){let n=[],o=0,s=this.count;for(s instanceof er&&(s=s.decode(e,t));o<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return n}encode(e,t,n=0){let o=this.elementLayout,s=e.reduce((i,u)=>i+o.encode(u,t,n+i),0);return this.count instanceof er&&this.count.encode(e.length,t,n),s}};N.Sequence=xc;var bc=class extends Ge{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((s,i)=>s&&i instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,i)=>s+i.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,s)=>{let i=s.getSpan(e,t);return t+=i,o+i},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){As(e);let n=this.makeDestinationObject();for(let o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let o=n,s=0,i=0;for(let u of this.fields){let f=u.span;if(i=0<f?f:0,u.property!==void 0){let d=e[u.property];d!==void 0&&(i=u.encode(d,t,n),0>f&&(f=u.getSpan(t,n)))}s=n,n+=f}return s+i-o}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};N.Structure=bc;var Ai=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};N.UnionDiscriminator=Ai;var Is=class extends Ai{constructor(e,t){if(!(e instanceof er&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};N.UnionLayoutDiscriminator=Is;var Ri=class extends Ge{constructor(e,t,n){let o;if(e instanceof mr||e instanceof _r)o=new Is(new Ii(e));else if(e instanceof er&&e.isCount())o=new Is(e);else if(e instanceof Ai)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof mr||e instanceof _r)&&(s+=o.layout.span)),super(s,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof mr||e instanceof _r,this.defaultLayout=t,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return i(u)},this.configGetSourceVariant=function(u){i=u.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,o=this.discriminator,s=o.decode(e,t),i=this.registry[s];if(i===void 0){let u=this.defaultLayout,f=0;this.usesPrefixDiscriminator&&(f=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[u.property]=u.decode(e,t+f)}else n=i.decode(e,t);return n}encode(e,t,n=0){let o=this.getSourceVariant(e);if(o===void 0){let s=this.discriminator,i=this.defaultLayout,u=0;return this.usesPrefixDiscriminator&&(u=s.layout.span),s.encode(e[s.property],t,n),u+i.encode(e[i.property],t,n+u)}return o.encode(e,t,n)}addVariant(e,t,n){let o=new wc(this,e,t,n);return this.registry[e]=o,o}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};N.Union=Ri;var wc=class extends Ge{constructor(e,t,n,o){if(!(e instanceof Ri))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Ge))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,t+n)),n+o}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],t,n+o),s+=this.layout.getSpan(t,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};N.VariantLayout=wc;function ks(r){return 0>r&&(r+=4294967296),r}var Bi=class extends Ge{constructor(e,t,n){if(!(e instanceof mr||e instanceof _r))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(s){return o=ks(s),this},this._packedGetValue=function(){return o}}decode(e,t=0){let n=this.makeDestinationObject(),o=this.word.decode(e,t);this._packedSetValue(o);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){let o=this.word.decode(t,n);this._packedSetValue(o);for(let s of this.fields)if(s.property!==void 0){let i=e[s.property];i!==void 0&&s.encode(i)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new Ti(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new vc(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};N.BitStructure=Bi;var Ti=class{constructor(e,t,n){if(!(e instanceof Bi))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let o=8*e.span,s=e.fields.reduce((i,u)=>i+u.bits,0);if(t+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-t),this.wordMask=ks(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return ks(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==ks(e&this.valueMask))throw new TypeError(Ip("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=ks(e<<this.start);this.container._packedSetValue(ks(t&~this.wordMask)|n)}};N.BitField=Ti;var vc=class extends Ti{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};N.Boolean=vc;var Sc=class extends Ge{constructor(e,t){if(!(e instanceof er&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof er||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),$e(e).slice(t,t+n)}encode(e,t,n){let o=this.length;if(this.length instanceof er&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(Ip("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>t.length)throw new RangeError("encoding overruns Uint8Array");let s=$e(e);return $e(t).write(s.toString("hex"),n,o,"hex"),this.length instanceof er&&this.length.encode(o,t,n),o}};N.Blob=Sc;var _c=class extends Ge{constructor(e){super(-1,e)}getSpan(e,t=0){As(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return $e(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let o=kp.Buffer.from(e,"utf8"),s=o.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");let i=$e(t);return o.copy(i,n),i[n+s]=0,s+1}};N.CString=_c;var Ec=class extends Ge{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return As(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return $e(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let o=kp.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return o.copy($e(t),n),s}};N.UTF8=Ec;var kc=class extends Ge{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};N.Constant=kc;N.greedy=(r,e)=>new uc(r,e);N.offset=(r,e,t)=>new Ii(r,e,t);N.u8=r=>new mr(1,r);N.u16=r=>new mr(2,r);N.u24=r=>new mr(3,r);N.u32=r=>new mr(4,r);N.u40=r=>new mr(5,r);N.u48=r=>new mr(6,r);N.nu64=r=>new fc(r);N.u16be=r=>new _r(2,r);N.u24be=r=>new _r(3,r);N.u32be=r=>new _r(4,r);N.u40be=r=>new _r(5,r);N.u48be=r=>new _r(6,r);N.nu64be=r=>new lc(r);N.s8=r=>new _n(1,r);N.s16=r=>new _n(2,r);N.s24=r=>new _n(3,r);N.s32=r=>new _n(4,r);N.s40=r=>new _n(5,r);N.s48=r=>new _n(6,r);N.ns64=r=>new pc(r);N.s16be=r=>new jn(2,r);N.s24be=r=>new jn(3,r);N.s32be=r=>new jn(4,r);N.s40be=r=>new jn(5,r);N.s48be=r=>new jn(6,r);N.ns64be=r=>new hc(r);N.f32=r=>new dc(r);N.f32be=r=>new yc(r);N.f64=r=>new mc(r);N.f64be=r=>new gc(r);N.struct=(r,e,t)=>new bc(r,e,t);N.bits=(r,e,t)=>new Bi(r,e,t);N.seq=(r,e,t)=>new xc(r,e,t);N.union=(r,e,t)=>new Ri(r,e,t);N.unionLayoutDiscriminator=(r,e)=>new Is(r,e);N.blob=(r,e)=>new Sc(r,e);N.cstr=r=>new _c(r);N.utf8=(r,e)=>new Ec(r,e);N.constant=(r,e)=>new kc(r,e)});var zi=be(zs=>{"use strict";h();var Ap=df(),Ts=mf(),B1=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;zs.Buffer=F;zs.SlowBuffer=LA;zs.INSPECT_MAX_BYTES=50;var Rc=2147483647;zs.kMaxLength=Rc;F.TYPED_ARRAY_SUPPORT=BA();!F.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function BA(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(F.prototype,"parent",{enumerable:!0,get:function(){if(!!F.isBuffer(this))return this.buffer}});Object.defineProperty(F.prototype,"offset",{enumerable:!0,get:function(){if(!!F.isBuffer(this))return this.byteOffset}});function En(r){if(r>Rc)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,F.prototype),e}function F(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Pp(r)}return M1(r,e,t)}F.poolSize=8192;function M1(r,e,t){if(typeof r=="string")return PA(r,e);if(ArrayBuffer.isView(r))return zA(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(nn(r,ArrayBuffer)||r&&nn(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nn(r,SharedArrayBuffer)||r&&nn(r.buffer,SharedArrayBuffer)))return Bp(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return F.from(n,e,t);let o=MA(r);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return F.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}F.from=function(r,e,t){return M1(r,e,t)};Object.setPrototypeOf(F.prototype,Uint8Array.prototype);Object.setPrototypeOf(F,Uint8Array);function L1(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function TA(r,e,t){return L1(r),r<=0?En(r):e!==void 0?typeof t=="string"?En(r).fill(e,t):En(r).fill(e):En(r)}F.alloc=function(r,e,t){return TA(r,e,t)};function Pp(r){return L1(r),En(r<0?0:zp(r)|0)}F.allocUnsafe=function(r){return Pp(r)};F.allocUnsafeSlow=function(r){return Pp(r)};function PA(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!F.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=C1(r,e)|0,n=En(t),o=n.write(r,e);return o!==t&&(n=n.slice(0,o)),n}function Rp(r){let e=r.length<0?0:zp(r.length)|0,t=En(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function zA(r){if(nn(r,Uint8Array)){let e=new Uint8Array(r);return Bp(e.buffer,e.byteOffset,e.byteLength)}return Rp(r)}function Bp(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,F.prototype),n}function MA(r){if(F.isBuffer(r)){let e=zp(r.length)|0,t=En(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Lp(r.length)?En(0):Rp(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Rp(r.data)}function zp(r){if(r>=Rc)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Rc.toString(16)+" bytes");return r|0}function LA(r){return+r!=r&&(r=0),F.alloc(+r)}F.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==F.prototype};F.compare=function(e,t){if(nn(e,Uint8Array)&&(e=F.from(e,e.offset,e.byteLength)),nn(t,Uint8Array)&&(t=F.from(t,t.offset,t.byteLength)),!F.isBuffer(e)||!F.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,o=t.length;for(let s=0,i=Math.min(n,o);s<i;++s)if(e[s]!==t[s]){n=e[s],o=t[s];break}return n<o?-1:o<n?1:0};F.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return F.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let o=F.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let i=e[n];if(nn(i,Uint8Array))s+i.length>o.length?(F.isBuffer(i)||(i=F.from(i)),i.copy(o,s)):Uint8Array.prototype.set.call(o,i,s);else if(F.isBuffer(i))i.copy(o,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=i.length}return o};function C1(r,e){if(F.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||nn(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Tp(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return W1(r).length;default:if(o)return n?-1:Tp(r).length;e=(""+e).toLowerCase(),o=!0}}F.byteLength=C1;function CA(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return $A(this,e,t);case"utf8":case"utf-8":return O1(this,e,t);case"ascii":return jA(this,e,t);case"latin1":case"binary":return WA(this,e,t);case"base64":return FA(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return KA(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}F.prototype._isBuffer=!0;function Vo(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}F.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Vo(this,t,t+1);return this};F.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Vo(this,t,t+3),Vo(this,t+1,t+2);return this};F.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Vo(this,t,t+7),Vo(this,t+1,t+6),Vo(this,t+2,t+5),Vo(this,t+3,t+4);return this};F.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?O1(this,0,e):CA.apply(this,arguments)};F.prototype.toLocaleString=F.prototype.toString;F.prototype.equals=function(e){if(!F.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:F.compare(this,e)===0};F.prototype.inspect=function(){let e="",t=zs.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};B1&&(F.prototype[B1]=F.prototype.inspect);F.prototype.compare=function(e,t,n,o,s){if(nn(e,Uint8Array)&&(e=F.from(e,e.offset,e.byteLength)),!F.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),t<0||n>e.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&t>=n)return 0;if(o>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,s>>>=0,this===e)return 0;let i=s-o,u=n-t,f=Math.min(i,u),d=this.slice(o,s),w=e.slice(t,n);for(let b=0;b<f;++b)if(d[b]!==w[b]){i=d[b],u=w[b];break}return i<u?-1:u<i?1:0};function N1(r,e,t,n,o){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Lp(t)&&(t=o?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(o)return-1;t=r.length-1}else if(t<0)if(o)t=0;else return-1;if(typeof e=="string"&&(e=F.from(e,n)),F.isBuffer(e))return e.length===0?-1:T1(r,e,t,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):T1(r,[e],t,n,o);throw new TypeError("val must be string, number or Buffer")}function T1(r,e,t,n,o){let s=1,i=r.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,i/=2,u/=2,t/=2}function f(w,b){return s===1?w[b]:w.readUInt16BE(b*s)}let d;if(o){let w=-1;for(d=t;d<i;d++)if(f(r,d)===f(e,w===-1?0:d-w)){if(w===-1&&(w=d),d-w+1===u)return w*s}else w!==-1&&(d-=d-w),w=-1}else for(t+u>i&&(t=i-u),d=t;d>=0;d--){let w=!0;for(let b=0;b<u;b++)if(f(r,d+b)!==f(e,b)){w=!1;break}if(w)return d}return-1}F.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};F.prototype.indexOf=function(e,t,n){return N1(this,e,t,n,!0)};F.prototype.lastIndexOf=function(e,t,n){return N1(this,e,t,n,!1)};function NA(r,e,t,n){t=Number(t)||0;let o=r.length-t;n?(n=Number(n),n>o&&(n=o)):n=o;let s=e.length;n>s/2&&(n=s/2);let i;for(i=0;i<n;++i){let u=parseInt(e.substr(i*2,2),16);if(Lp(u))return i;r[t+i]=u}return i}function OA(r,e,t,n){return Bc(Tp(e,r.length-t),r,t,n)}function UA(r,e,t,n){return Bc(YA(e),r,t,n)}function DA(r,e,t,n){return Bc(W1(e),r,t,n)}function qA(r,e,t,n){return Bc(JA(e,r.length-t),r,t,n)}F.prototype.write=function(e,t,n,o){if(t===void 0)o="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")o=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let i=!1;for(;;)switch(o){case"hex":return NA(this,e,t,n);case"utf8":case"utf-8":return OA(this,e,t,n);case"ascii":case"latin1":case"binary":return UA(this,e,t,n);case"base64":return DA(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qA(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}};F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function FA(r,e,t){return e===0&&t===r.length?Ap.fromByteArray(r):Ap.fromByteArray(r.slice(e,t))}function O1(r,e,t){t=Math.min(r.length,t);let n=[],o=e;for(;o<t;){let s=r[o],i=null,u=s>239?4:s>223?3:s>191?2:1;if(o+u<=t){let f,d,w,b;switch(u){case 1:s<128&&(i=s);break;case 2:f=r[o+1],(f&192)===128&&(b=(s&31)<<6|f&63,b>127&&(i=b));break;case 3:f=r[o+1],d=r[o+2],(f&192)===128&&(d&192)===128&&(b=(s&15)<<12|(f&63)<<6|d&63,b>2047&&(b<55296||b>57343)&&(i=b));break;case 4:f=r[o+1],d=r[o+2],w=r[o+3],(f&192)===128&&(d&192)===128&&(w&192)===128&&(b=(s&15)<<18|(f&63)<<12|(d&63)<<6|w&63,b>65535&&b<1114112&&(i=b))}}i===null?(i=65533,u=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),o+=u}return HA(n)}var P1=4096;function HA(r){let e=r.length;if(e<=P1)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=P1));return t}function jA(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]&127);return n}function WA(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]);return n}function $A(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let o="";for(let s=e;s<t;++s)o+=QA[r[s]];return o}function KA(r,e,t){let n=r.slice(e,t),o="";for(let s=0;s<n.length-1;s+=2)o+=String.fromCharCode(n[s]+n[s+1]*256);return o}F.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let o=this.subarray(e,t);return Object.setPrototypeOf(o,F.prototype),o};function Gt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUintLE=F.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Gt(e,t,this.length);let o=this[e],s=1,i=0;for(;++i<t&&(s*=256);)o+=this[e+i]*s;return o};F.prototype.readUintBE=F.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Gt(e,t,this.length);let o=this[e+--t],s=1;for(;t>0&&(s*=256);)o+=this[e+--t]*s;return o};F.prototype.readUint8=F.prototype.readUInt8=function(e,t){return e=e>>>0,t||Gt(e,1,this.length),this[e]};F.prototype.readUint16LE=F.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Gt(e,2,this.length),this[e]|this[e+1]<<8};F.prototype.readUint16BE=F.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Gt(e,2,this.length),this[e]<<8|this[e+1]};F.prototype.readUint32LE=F.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};F.prototype.readUint32BE=F.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};F.prototype.readBigUInt64LE=Wn(function(e){e=e>>>0,Ps(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Pi(e,this.length-8);let o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(s)<<BigInt(32))});F.prototype.readBigUInt64BE=Wn(function(e){e=e>>>0,Ps(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Pi(e,this.length-8);let o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(s)});F.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Gt(e,t,this.length);let o=this[e],s=1,i=0;for(;++i<t&&(s*=256);)o+=this[e+i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};F.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Gt(e,t,this.length);let o=t,s=1,i=this[e+--o];for(;o>0&&(s*=256);)i+=this[e+--o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};F.prototype.readInt8=function(e,t){return e=e>>>0,t||Gt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};F.prototype.readInt16LE=function(e,t){e=e>>>0,t||Gt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};F.prototype.readInt16BE=function(e,t){e=e>>>0,t||Gt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};F.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};F.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};F.prototype.readBigInt64LE=Wn(function(e){e=e>>>0,Ps(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Pi(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});F.prototype.readBigInt64BE=Wn(function(e){e=e>>>0,Ps(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Pi(e,this.length-8);let o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});F.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),Ts.read(this,e,!0,23,4)};F.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),Ts.read(this,e,!1,23,4)};F.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Gt(e,8,this.length),Ts.read(this,e,!0,52,8)};F.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Gt(e,8,this.length),Ts.read(this,e,!1,52,8)};function gr(r,e,t,n,o,s){if(!F.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}F.prototype.writeUintLE=F.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;gr(this,e,t,n,u,0)}let s=1,i=0;for(this[t]=e&255;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n};F.prototype.writeUintBE=F.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;gr(this,e,t,n,u,0)}let s=n-1,i=1;for(this[t+s]=e&255;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n};F.prototype.writeUint8=F.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,1,255,0),this[t]=e&255,t+1};F.prototype.writeUint16LE=F.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};F.prototype.writeUint16BE=F.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};F.prototype.writeUint32LE=F.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};F.prototype.writeUint32BE=F.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function U1(r,e,t,n,o){j1(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let i=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,t}function D1(r,e,t,n,o){j1(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let i=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=i,i=i>>8,r[t+2]=i,i=i>>8,r[t+1]=i,i=i>>8,r[t]=i,t+8}F.prototype.writeBigUInt64LE=Wn(function(e,t=0){return U1(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeBigUInt64BE=Wn(function(e,t=0){return D1(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);gr(this,e,t,n,f-1,-f)}let s=0,i=1,u=0;for(this[t]=e&255;++s<n&&(i*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/i>>0)-u&255;return t+n};F.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);gr(this,e,t,n,f-1,-f)}let s=n-1,i=1,u=0;for(this[t+s]=e&255;--s>=0&&(i*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/i>>0)-u&255;return t+n};F.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};F.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};F.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};F.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};F.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};F.prototype.writeBigInt64LE=Wn(function(e,t=0){return U1(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});F.prototype.writeBigInt64BE=Wn(function(e,t=0){return D1(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q1(r,e,t,n,o,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function F1(r,e,t,n,o){return e=+e,t=t>>>0,o||q1(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ts.write(r,e,t,n,23,4),t+4}F.prototype.writeFloatLE=function(e,t,n){return F1(this,e,t,!0,n)};F.prototype.writeFloatBE=function(e,t,n){return F1(this,e,t,!1,n)};function H1(r,e,t,n,o){return e=+e,t=t>>>0,o||q1(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ts.write(r,e,t,n,52,8),t+8}F.prototype.writeDoubleLE=function(e,t,n){return H1(this,e,t,!0,n)};F.prototype.writeDoubleBE=function(e,t,n){return H1(this,e,t,!1,n)};F.prototype.copy=function(e,t,n,o){if(!F.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);let s=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),t),s};F.prototype.fill=function(e,t,n,o){if(typeof e=="string"){if(typeof t=="string"?(o=t,t=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!F.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let i=e.charCodeAt(0);(o==="utf8"&&i<128||o==="latin1")&&(e=i)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let i=F.isBuffer(e)?e:F.from(e,o),u=i.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=i[s%u]}return this};var Bs={};function Mp(r,e,t){Bs[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Mp("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Mp("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Mp("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=z1(String(t)):typeof t=="bigint"&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=z1(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function z1(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function VA(r,e,t){Ps(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Pi(e,r.length-(t+1))}function j1(r,e,t,n,o,s){if(r>t||r<e){let i=typeof e=="bigint"?"n":"",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:u=`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:u=`>= ${e}${i} and <= ${t}${i}`,new Bs.ERR_OUT_OF_RANGE("value",u,r)}VA(n,o,s)}function Ps(r,e){if(typeof r!="number")throw new Bs.ERR_INVALID_ARG_TYPE(e,"number",r)}function Pi(r,e,t){throw Math.floor(r)!==r?(Ps(r,t),new Bs.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Bs.ERR_BUFFER_OUT_OF_BOUNDS:new Bs.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var GA=/[^+/0-9A-Za-z-_]/g;function ZA(r){if(r=r.split("=")[0],r=r.trim().replace(GA,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Tp(r,e){e=e||1/0;let t,n=r.length,o=null,s=[];for(let i=0;i<n;++i){if(t=r.charCodeAt(i),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(i+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function YA(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function JA(r,e){let t,n,o,s=[];for(let i=0;i<r.length&&!((e-=2)<0);++i)t=r.charCodeAt(i),n=t>>8,o=t%256,s.push(o),s.push(n);return s}function W1(r){return Ap.toByteArray(ZA(r))}function Bc(r,e,t,n){let o;for(o=0;o<n&&!(o+t>=e.length||o>=r.length);++o)e[o+t]=r[o];return o}function nn(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Lp(r){return r!==r}var QA=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let o=0;o<16;++o)e[n+o]=r[t]+r[o]}return e}();function Wn(r){return typeof BigInt>"u"?XA:r}function XA(){throw new Error("BigInt not supported")}});var qp=be(()=>{h()});var iv=be(Jp=>{"use strict";h();function kn(r,e,t){return e<=r&&r<=t}function jc(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function eB(r){for(var e=String(r),t=e.length,n=0,o=[];n<t;){var s=e.charCodeAt(n);if(s<55296||s>57343)o.push(s);else if(56320<=s&&s<=57343)o.push(65533);else if(55296<=s&&s<=56319)if(n===t-1)o.push(65533);else{var i=r.charCodeAt(n+1);if(56320<=i&&i<=57343){var u=s&1023,f=i&1023;o.push(65536+(u<<10)+f),n+=1}else o.push(65533)}n+=1}return o}function tB(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Dc=-1;function Yp(r){this.tokens=[].slice.call(r)}Yp.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Dc},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var Cs=-1;function Zp(r,e){if(r)throw TypeError("Decoder error");return e||65533}var qc="utf-8";function Fc(r,e){if(!(this instanceof Fc))return new Fc(r,e);if(r=r!==void 0?String(r).toLowerCase():qc,r!==qc)throw new Error("Encoding not supported. Only utf-8 is supported");e=jc(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Fc.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=jc(t),this._streaming||(this._decoder=new rB({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o=new Yp(n),s=[],i;!o.endOfStream()&&(i=this._decoder.handler(o,o.read()),i!==Cs);)i!==null&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));if(!this._streaming){do{if(i=this._decoder.handler(o,o.read()),i===Cs)break;i!==null&&(Array.isArray(i)?s.push.apply(s,i):s.push(i))}while(!o.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),tB(s)}};function Hc(r,e){if(!(this instanceof Hc))return new Hc(r,e);if(r=r!==void 0?String(r).toLowerCase():qc,r!==qc)throw new Error("Encoding not supported. Only utf-8 is supported");e=jc(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Hc.prototype={encode:function(e,t){e=e?String(e):"",t=jc(t),this._streaming||(this._encoder=new nB(this._options)),this._streaming=Boolean(t.stream);for(var n=[],o=new Yp(eB(e)),s;!o.endOfStream()&&(s=this._encoder.handler(o,o.read()),s!==Cs);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(o,o.read()),s!==Cs;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function rB(r){var e=r.fatal,t=0,n=0,o=0,s=128,i=191;this.handler=function(u,f){if(f===Dc&&o!==0)return o=0,Zp(e);if(f===Dc)return Cs;if(o===0){if(kn(f,0,127))return f;if(kn(f,194,223))o=1,t=f-192;else if(kn(f,224,239))f===224&&(s=160),f===237&&(i=159),o=2,t=f-224;else if(kn(f,240,244))f===240&&(s=144),f===244&&(i=143),o=3,t=f-240;else return Zp(e);return t=t<<6*o,null}if(!kn(f,s,i))return t=o=n=0,s=128,i=191,u.prepend(f),Zp(e);if(s=128,i=191,n+=1,t+=f-128<<6*(o-n),n!==o)return null;var d=t;return t=o=n=0,d}}function nB(r){var e=r.fatal;this.handler=function(t,n){if(n===Dc)return Cs;if(kn(n,0,127))return n;var o,s;kn(n,128,2047)?(o=1,s=192):kn(n,2048,65535)?(o=2,s=224):kn(n,65536,1114111)&&(o=3,s=240);for(var i=[(n>>6*o)+s];o>0;){var u=n>>6*(o-1);i.push(128|u&63),o-=1}return i}}Jp.TextEncoder=Hc;Jp.TextDecoder=Fc});var lv=be(Qe=>{"use strict";h();var oB=Qe&&Qe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sB=Qe&&Qe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),an=Qe&&Qe.__decorate||function(r,e,t,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(i=r[u])&&(s=(o<3?i(s):o>3?i(e,t,s):i(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},iB=Qe&&Qe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&oB(e,r,t);return sB(e,r),e},av=Qe&&Qe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.deserializeUnchecked=Qe.deserialize=Qe.serialize=Qe.BinaryReader=Qe.BinaryWriter=Qe.BorshError=Qe.baseDecode=Qe.baseEncode=void 0;var ro=av(Ca()),cv=av(Hn()),aB=iB(iv()),cB=typeof TextDecoder!="function"?aB.TextDecoder:TextDecoder,uB=new cB("utf-8",{fatal:!0});function fB(r){return typeof r=="string"&&(r=E.from(r,"utf8")),cv.default.encode(E.from(r))}Qe.baseEncode=fB;function lB(r){return E.from(cv.default.decode(r))}Qe.baseDecode=lB;var Qp=1024,Yt=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Qe.BorshError=Yt;var Wc=class{constructor(){this.buf=E.alloc(Qp),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=E.concat([this.buf,E.alloc(Qp)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(E.from(new ro.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(E.from(new ro.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(E.from(new ro.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(E.from(new ro.default(e).toArray("le",64)))}writeBuffer(e){this.buf=E.concat([E.from(this.buf.subarray(0,this.length)),e,E.alloc(Qp)]),this.length+=e.length}writeString(e){this.maybeResize();let t=E.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(E.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}};Qe.BinaryWriter=Wc;function cn(r,e,t){let n=t.value;t.value=function(...o){try{return n.apply(this,o)}catch(s){if(s instanceof RangeError){let i=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(i)>=0)throw new Yt("Reached the end of buffer when deserializing")}throw s}}}var fr=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new ro.default(e,"le")}readU128(){let e=this.readBuffer(16);return new ro.default(e,"le")}readU256(){let e=this.readBuffer(32);return new ro.default(e,"le")}readU512(){let e=this.readBuffer(64);return new ro.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Yt(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return uB.decode(t)}catch(n){throw new Yt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),n=Array();for(let o=0;o<t;++o)n.push(e());return n}};an([cn],fr.prototype,"readU8",null);an([cn],fr.prototype,"readU16",null);an([cn],fr.prototype,"readU32",null);an([cn],fr.prototype,"readU64",null);an([cn],fr.prototype,"readU128",null);an([cn],fr.prototype,"readU256",null);an([cn],fr.prototype,"readU512",null);an([cn],fr.prototype,"readString",null);an([cn],fr.prototype,"readFixedArray",null);an([cn],fr.prototype,"readArray",null);Qe.BinaryReader=fr;function uv(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Zo(r,e,t,n,o){try{if(typeof n=="string")o[`write${uv(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new Yt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);o.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new Yt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let s=0;s<n[1];s++)Zo(r,null,t[s],n[0],o)}else o.writeArray(t,s=>{Zo(r,e,s,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?o.writeU8(0):(o.writeU8(1),Zo(r,e,t,n.type,o));break}case"map":{o.writeU32(t.size),t.forEach((s,i)=>{Zo(r,e,i,n.key,o),Zo(r,e,s,n.value,o)});break}default:throw new Yt(`FieldType ${n} unrecognized`)}else fv(r,t,o)}catch(s){throw s instanceof Yt&&s.addToFieldPath(e),s}}function fv(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let n=r.get(e.constructor);if(!n)throw new Yt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,s])=>{Zo(r,o,e[o],s,t)});else if(n.kind==="enum"){let o=e[n.field];for(let s=0;s<n.values.length;++s){let[i,u]=n.values[s];if(i===o){t.writeU8(s),Zo(r,i,e[i],u,t);break}}}else throw new Yt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function pB(r,e,t=Wc){let n=new t;return fv(r,e,n),n.toArray()}Qe.serialize=pB;function Yo(r,e,t,n){try{if(typeof t=="string")return n[`read${uv(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){let o=[];for(let s=0;s<t[1];s++)o.push(Yo(r,null,t[0],n));return o}else return n.readArray(()=>Yo(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?Yo(r,e,t.type,n):void 0;if(t.kind==="map"){let o=new Map,s=n.readU32();for(let i=0;i<s;i++){let u=Yo(r,e,t.key,n),f=Yo(r,e,t.value,n);o.set(u,f)}return o}return Xp(r,t,n)}catch(o){throw o instanceof Yt&&o.addToFieldPath(e),o}}function Xp(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let n=r.get(e);if(!n)throw new Yt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let o={};for(let[s,i]of r.get(e).fields)o[s]=Yo(r,s,i,t);return new e(o)}if(n.kind==="enum"){let o=t.readU8();if(o>=n.values.length)throw new Yt(`Enum index: ${o} is out of range`);let[s,i]=n.values[o],u=Yo(r,s,i,t);return new e({[s]:u})}throw new Yt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function hB(r,e,t,n=fr){let o=new n(t),s=Xp(r,e,o);if(o.offset<t.length)throw new Yt(`Unexpected ${t.length-o.offset} bytes after deserialized data`);return s}Qe.deserialize=hB;function dB(r,e,t,n=fr){let o=new n(t);return Xp(r,e,o)}Qe.deserializeUnchecked=dB});var eh=be(Ns=>{"use strict";h();Object.defineProperty(Ns,"__esModule",{value:!0});var $c;function yB(r){{let e=E.from(r);e.reverse();let t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return $c.toBigInt(r,!1)}Ns.toBigIntLE=yB;function mB(r){{let e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return $c.toBigInt(r,!0)}Ns.toBigIntBE=mB;function gB(r,e){{let t=r.toString(16),n=E.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return $c.fromBigInt(r,E.allocUnsafe(e),!1)}Ns.toBufferLE=gB;function xB(r,e){{let t=r.toString(16);return E.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}return $c.fromBigInt(r,E.allocUnsafe(e),!0)}Ns.toBufferBE=xB});var sh=be(oh=>{"use strict";h();Object.defineProperty(oh,"__esModule",{value:!0});oh.default=kB;var Gc,EB=new Uint8Array(16);function kB(){if(!Gc&&(Gc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gc(EB)}});var mv=be(Zc=>{"use strict";h();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.default=void 0;var IB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Zc.default=IB});var Di=be(Yc=>{"use strict";h();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.default=void 0;var AB=RB(mv());function RB(r){return r&&r.__esModule?r:{default:r}}function BB(r){return typeof r=="string"&&AB.default.test(r)}var TB=BB;Yc.default=TB});var Fi=be(qi=>{"use strict";h();Object.defineProperty(qi,"__esModule",{value:!0});qi.default=void 0;qi.unsafeStringify=gv;var PB=zB(Di());function zB(r){return r&&r.__esModule?r:{default:r}}var Jt=[];for(let r=0;r<256;++r)Jt.push((r+256).toString(16).slice(1));function gv(r,e=0){return Jt[r[e+0]]+Jt[r[e+1]]+Jt[r[e+2]]+Jt[r[e+3]]+"-"+Jt[r[e+4]]+Jt[r[e+5]]+"-"+Jt[r[e+6]]+Jt[r[e+7]]+"-"+Jt[r[e+8]]+Jt[r[e+9]]+"-"+Jt[r[e+10]]+Jt[r[e+11]]+Jt[r[e+12]]+Jt[r[e+13]]+Jt[r[e+14]]+Jt[r[e+15]]}function MB(r,e=0){let t=gv(r,e);if(!(0,PB.default)(t))throw TypeError("Stringified UUID is invalid");return t}var LB=MB;qi.default=LB});var bv=be(Jc=>{"use strict";h();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.default=void 0;var CB=OB(sh()),NB=Fi();function OB(r){return r&&r.__esModule?r:{default:r}}var xv,ih,ah=0,ch=0;function UB(r,e,t){let n=e&&t||0,o=e||new Array(16);r=r||{};let s=r.node||xv,i=r.clockseq!==void 0?r.clockseq:ih;if(s==null||i==null){let T=r.random||(r.rng||CB.default)();s==null&&(s=xv=[T[0]|1,T[1],T[2],T[3],T[4],T[5]]),i==null&&(i=ih=(T[6]<<8|T[7])&16383)}let u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:ch+1,d=u-ah+(f-ch)/1e4;if(d<0&&r.clockseq===void 0&&(i=i+1&16383),(d<0||u>ah)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ah=u,ch=f,ih=i,u+=122192928e5;let w=((u&268435455)*1e4+f)%4294967296;o[n++]=w>>>24&255,o[n++]=w>>>16&255,o[n++]=w>>>8&255,o[n++]=w&255;let b=u/4294967296*1e4&268435455;o[n++]=b>>>8&255,o[n++]=b&255,o[n++]=b>>>24&15|16,o[n++]=b>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let T=0;T<6;++T)o[n+T]=s[T];return e||(0,NB.unsafeStringify)(o)}var DB=UB;Jc.default=DB});var uh=be(Qc=>{"use strict";h();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.default=void 0;var qB=FB(Di());function FB(r){return r&&r.__esModule?r:{default:r}}function HB(r){if(!(0,qB.default)(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var jB=HB;Qc.default=jB});var fh=be(Qo=>{"use strict";h();Object.defineProperty(Qo,"__esModule",{value:!0});Qo.URL=Qo.DNS=void 0;Qo.default=GB;var WB=Fi(),$B=KB(uh());function KB(r){return r&&r.__esModule?r:{default:r}}function VB(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var wv="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Qo.DNS=wv;var vv="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Qo.URL=vv;function GB(r,e,t){function n(o,s,i,u){var f;if(typeof o=="string"&&(o=VB(o)),typeof s=="string"&&(s=(0,$B.default)(s)),((f=s)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(s),d.set(o,s.length),d=t(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,i){u=u||0;for(let w=0;w<16;++w)i[u+w]=d[w];return i}return(0,WB.unsafeStringify)(d)}try{n.name=r}catch{}return n.DNS=wv,n.URL=vv,n}});var _v=be(eu=>{"use strict";h();Object.defineProperty(eu,"__esModule",{value:!0});eu.default=void 0;function ZB(r){if(typeof r=="string"){let e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return YB(JB(QB(r),r.length*8))}function YB(r){let e=[],t=r.length*32,n="0123456789abcdef";for(let o=0;o<t;o+=8){let s=r[o>>5]>>>o%32&255,i=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(i)}return e}function Sv(r){return(r+64>>>9<<4)+14+1}function JB(r,e){r[e>>5]|=128<<e%32,r[Sv(e)-1]=e;let t=1732584193,n=-271733879,o=-1732584194,s=271733878;for(let i=0;i<r.length;i+=16){let u=t,f=n,d=o,w=s;t=rr(t,n,o,s,r[i],7,-680876936),s=rr(s,t,n,o,r[i+1],12,-389564586),o=rr(o,s,t,n,r[i+2],17,606105819),n=rr(n,o,s,t,r[i+3],22,-1044525330),t=rr(t,n,o,s,r[i+4],7,-176418897),s=rr(s,t,n,o,r[i+5],12,1200080426),o=rr(o,s,t,n,r[i+6],17,-1473231341),n=rr(n,o,s,t,r[i+7],22,-45705983),t=rr(t,n,o,s,r[i+8],7,1770035416),s=rr(s,t,n,o,r[i+9],12,-1958414417),o=rr(o,s,t,n,r[i+10],17,-42063),n=rr(n,o,s,t,r[i+11],22,-1990404162),t=rr(t,n,o,s,r[i+12],7,1804603682),s=rr(s,t,n,o,r[i+13],12,-40341101),o=rr(o,s,t,n,r[i+14],17,-1502002290),n=rr(n,o,s,t,r[i+15],22,1236535329),t=nr(t,n,o,s,r[i+1],5,-165796510),s=nr(s,t,n,o,r[i+6],9,-1069501632),o=nr(o,s,t,n,r[i+11],14,643717713),n=nr(n,o,s,t,r[i],20,-373897302),t=nr(t,n,o,s,r[i+5],5,-701558691),s=nr(s,t,n,o,r[i+10],9,38016083),o=nr(o,s,t,n,r[i+15],14,-660478335),n=nr(n,o,s,t,r[i+4],20,-405537848),t=nr(t,n,o,s,r[i+9],5,568446438),s=nr(s,t,n,o,r[i+14],9,-1019803690),o=nr(o,s,t,n,r[i+3],14,-187363961),n=nr(n,o,s,t,r[i+8],20,1163531501),t=nr(t,n,o,s,r[i+13],5,-1444681467),s=nr(s,t,n,o,r[i+2],9,-51403784),o=nr(o,s,t,n,r[i+7],14,1735328473),n=nr(n,o,s,t,r[i+12],20,-1926607734),t=or(t,n,o,s,r[i+5],4,-378558),s=or(s,t,n,o,r[i+8],11,-2022574463),o=or(o,s,t,n,r[i+11],16,1839030562),n=or(n,o,s,t,r[i+14],23,-35309556),t=or(t,n,o,s,r[i+1],4,-1530992060),s=or(s,t,n,o,r[i+4],11,1272893353),o=or(o,s,t,n,r[i+7],16,-155497632),n=or(n,o,s,t,r[i+10],23,-1094730640),t=or(t,n,o,s,r[i+13],4,681279174),s=or(s,t,n,o,r[i],11,-358537222),o=or(o,s,t,n,r[i+3],16,-722521979),n=or(n,o,s,t,r[i+6],23,76029189),t=or(t,n,o,s,r[i+9],4,-640364487),s=or(s,t,n,o,r[i+12],11,-421815835),o=or(o,s,t,n,r[i+15],16,530742520),n=or(n,o,s,t,r[i+2],23,-995338651),t=sr(t,n,o,s,r[i],6,-198630844),s=sr(s,t,n,o,r[i+7],10,1126891415),o=sr(o,s,t,n,r[i+14],15,-1416354905),n=sr(n,o,s,t,r[i+5],21,-57434055),t=sr(t,n,o,s,r[i+12],6,1700485571),s=sr(s,t,n,o,r[i+3],10,-1894986606),o=sr(o,s,t,n,r[i+10],15,-1051523),n=sr(n,o,s,t,r[i+1],21,-2054922799),t=sr(t,n,o,s,r[i+8],6,1873313359),s=sr(s,t,n,o,r[i+15],10,-30611744),o=sr(o,s,t,n,r[i+6],15,-1560198380),n=sr(n,o,s,t,r[i+13],21,1309151649),t=sr(t,n,o,s,r[i+4],6,-145523070),s=sr(s,t,n,o,r[i+11],10,-1120210379),o=sr(o,s,t,n,r[i+2],15,718787259),n=sr(n,o,s,t,r[i+9],21,-343485551),t=oo(t,u),n=oo(n,f),o=oo(o,d),s=oo(s,w)}return[t,n,o,s]}function QB(r){if(r.length===0)return[];let e=r.length*8,t=new Uint32Array(Sv(e));for(let n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function oo(r,e){let t=(r&65535)+(e&65535);return(r>>16)+(e>>16)+(t>>16)<<16|t&65535}function XB(r,e){return r<<e|r>>>32-e}function Xc(r,e,t,n,o,s){return oo(XB(oo(oo(e,r),oo(n,s)),o),t)}function rr(r,e,t,n,o,s,i){return Xc(e&t|~e&n,r,e,o,s,i)}function nr(r,e,t,n,o,s,i){return Xc(e&n|t&~n,r,e,o,s,i)}function or(r,e,t,n,o,s,i){return Xc(e^t^n,r,e,o,s,i)}function sr(r,e,t,n,o,s,i){return Xc(t^(e|~n),r,e,o,s,i)}var eT=ZB;eu.default=eT});var kv=be(tu=>{"use strict";h();Object.defineProperty(tu,"__esModule",{value:!0});tu.default=void 0;var tT=Ev(fh()),rT=Ev(_v());function Ev(r){return r&&r.__esModule?r:{default:r}}var nT=(0,tT.default)("v3",48,rT.default),oT=nT;tu.default=oT});var Iv=be(ru=>{"use strict";h();Object.defineProperty(ru,"__esModule",{value:!0});ru.default=void 0;var sT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iT={randomUUID:sT};ru.default=iT});var Bv=be(nu=>{"use strict";h();Object.defineProperty(nu,"__esModule",{value:!0});nu.default=void 0;var Av=Rv(Iv()),aT=Rv(sh()),cT=Fi();function Rv(r){return r&&r.__esModule?r:{default:r}}function uT(r,e,t){if(Av.default.randomUUID&&!e&&!r)return Av.default.randomUUID();r=r||{};let n=r.random||(r.rng||aT.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=n[o];return e}return(0,cT.unsafeStringify)(n)}var fT=uT;nu.default=fT});var Tv=be(ou=>{"use strict";h();Object.defineProperty(ou,"__esModule",{value:!0});ou.default=void 0;function lT(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function lh(r,e){return r<<e|r>>>32-e}function pT(r){let e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){let i=unescape(encodeURIComponent(r));r=[];for(let u=0;u<i.length;++u)r.push(i.charCodeAt(u))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);let n=r.length/4+2,o=Math.ceil(n/16),s=new Array(o);for(let i=0;i<o;++i){let u=new Uint32Array(16);for(let f=0;f<16;++f)u[f]=r[i*64+f*4]<<24|r[i*64+f*4+1]<<16|r[i*64+f*4+2]<<8|r[i*64+f*4+3];s[i]=u}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(let i=0;i<o;++i){let u=new Uint32Array(80);for(let A=0;A<16;++A)u[A]=s[i][A];for(let A=16;A<80;++A)u[A]=lh(u[A-3]^u[A-8]^u[A-14]^u[A-16],1);let f=t[0],d=t[1],w=t[2],b=t[3],T=t[4];for(let A=0;A<80;++A){let D=Math.floor(A/20),j=lh(f,5)+lT(D,d,w,b)+T+e[D]+u[A]>>>0;T=b,b=w,w=lh(d,30)>>>0,d=f,f=j}t[0]=t[0]+f>>>0,t[1]=t[1]+d>>>0,t[2]=t[2]+w>>>0,t[3]=t[3]+b>>>0,t[4]=t[4]+T>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var hT=pT;ou.default=hT});var zv=be(su=>{"use strict";h();Object.defineProperty(su,"__esModule",{value:!0});su.default=void 0;var dT=Pv(fh()),yT=Pv(Tv());function Pv(r){return r&&r.__esModule?r:{default:r}}var mT=(0,dT.default)("v5",80,yT.default),gT=mT;su.default=gT});var Mv=be(iu=>{"use strict";h();Object.defineProperty(iu,"__esModule",{value:!0});iu.default=void 0;var xT="00000000-0000-0000-0000-000000000000";iu.default=xT});var Lv=be(au=>{"use strict";h();Object.defineProperty(au,"__esModule",{value:!0});au.default=void 0;var bT=wT(Di());function wT(r){return r&&r.__esModule?r:{default:r}}function vT(r){if(!(0,bT.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var ST=vT;au.default=ST});var ph=be(Fr=>{"use strict";h();Object.defineProperty(Fr,"__esModule",{value:!0});Object.defineProperty(Fr,"NIL",{enumerable:!0,get:function(){return AT.default}});Object.defineProperty(Fr,"parse",{enumerable:!0,get:function(){return PT.default}});Object.defineProperty(Fr,"stringify",{enumerable:!0,get:function(){return TT.default}});Object.defineProperty(Fr,"v1",{enumerable:!0,get:function(){return _T.default}});Object.defineProperty(Fr,"v3",{enumerable:!0,get:function(){return ET.default}});Object.defineProperty(Fr,"v4",{enumerable:!0,get:function(){return kT.default}});Object.defineProperty(Fr,"v5",{enumerable:!0,get:function(){return IT.default}});Object.defineProperty(Fr,"validate",{enumerable:!0,get:function(){return BT.default}});Object.defineProperty(Fr,"version",{enumerable:!0,get:function(){return RT.default}});var _T=In(bv()),ET=In(kv()),kT=In(Bv()),IT=In(zv()),AT=In(Mv()),RT=In(Lv()),BT=In(Di()),TT=In(Fi()),PT=In(uh());function In(r){return r&&r.__esModule?r:{default:r}}});var Nv=be((MD,Cv)=>{"use strict";h();var zT=ph().v4,MT=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let s={method:r};if(o===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof t>"u"){let i=typeof n.generator=="function"?n.generator:function(){return zT()};s.id=i(s,n)}else o===2&&t===null?n.notificationIdNull&&(s.id=null):s.id=t;return s};Cv.exports=MT});var Uv=be((CD,Ov)=>{"use strict";h();var LT=ph().v4,CT=Nv(),Hi=function(r,e){if(!(this instanceof Hi))return new Hi(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return LT()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};Ov.exports=Hi;Hi.prototype.request=function(r,e,t,n){let o=this,s=null,i=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&i)throw new TypeError("JSON-RPC 1.0 does not support batching");if(i||!i&&r&&typeof r=="object"&&typeof e=="function")n=e,s=r;else{typeof t=="function"&&(n=t,t=void 0);let d=typeof n=="function";try{s=CT(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(w){if(d)return n(w);throw w}if(!d)return s}let f;try{f=JSON.stringify(s,this.options.replacer)}catch(d){return n(d)}return this.callServer(f,function(d,w){o._parseResponse(d,w,n)}),s};Hi.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(n)){let o=function(i){return typeof i.error<"u"},s=function(i){return!o(i)};return t(null,n.filter(o),n.filter(s))}else return t(null,n.error,n.result);t(null,n)}});var hh=be((OD,ji)=>{h();function NT(r){return r&&r.__esModule?r:{default:r}}ji.exports=NT,ji.exports.__esModule=!0,ji.exports.default=ji.exports});var qs=be((DD,An)=>{h();function dh(r){return An.exports=dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An.exports.__esModule=!0,An.exports.default=An.exports,dh(r)}An.exports=dh,An.exports.__esModule=!0,An.exports.default=An.exports});var qv=be((FD,Rn)=>{h();var OT=qs().default;function Dv(){"use strict";Rn.exports=Dv=function(){return r},Rn.exports.__esModule=!0,Rn.exports.default=Rn.exports;var r={},e=Object.prototype,t=e.hasOwnProperty,n=Object.defineProperty||function(C,g,a){C[g]=a.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(C,g,a){return Object.defineProperty(C,g,{value:a,enumerable:!0,configurable:!0,writable:!0}),C[g]}try{f({},"")}catch{f=function(a,l,y){return a[l]=y}}function d(C,g,a,l){var y=g&&g.prototype instanceof T?g:T,x=Object.create(y.prototype),v=new Pe(l||[]);return n(x,"_invoke",{value:G(C,a,v)}),x}function w(C,g,a){try{return{type:"normal",arg:C.call(g,a)}}catch(l){return{type:"throw",arg:l}}}r.wrap=d;var b={};function T(){}function A(){}function D(){}var j={};f(j,s,function(){return this});var J=Object.getPrototypeOf,re=J&&J(J(Ve([])));re&&re!==e&&t.call(re,s)&&(j=re);var xe=D.prototype=T.prototype=Object.create(j);function X(C){["next","throw","return"].forEach(function(g){f(C,g,function(a){return this._invoke(g,a)})})}function V(C,g){function a(y,x,v,I){var B=w(C[y],C,x);if(B.type!=="throw"){var S=B.arg,p=S.value;return p&&OT(p)=="object"&&t.call(p,"__await")?g.resolve(p.__await).then(function(_){a("next",_,v,I)},function(_){a("throw",_,v,I)}):g.resolve(p).then(function(_){S.value=_,v(S)},function(_){return a("throw",_,v,I)})}I(B.arg)}var l;n(this,"_invoke",{value:function(x,v){function I(){return new g(function(B,S){a(x,v,B,S)})}return l=l?l.then(I,I):I()}})}function G(C,g,a){var l="suspendedStart";return function(y,x){if(l==="executing")throw new Error("Generator is already running");if(l==="completed"){if(y==="throw")throw x;return ee()}for(a.method=y,a.arg=x;;){var v=a.delegate;if(v){var I=le(v,a);if(I){if(I===b)continue;return I}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(l==="suspendedStart")throw l="completed",a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);l="executing";var B=w(C,g,a);if(B.type==="normal"){if(l=a.done?"completed":"suspendedYield",B.arg===b)continue;return{value:B.arg,done:a.done}}B.type==="throw"&&(l="completed",a.method="throw",a.arg=B.arg)}}}function le(C,g){var a=g.method,l=C.iterator[a];if(l===void 0)return g.delegate=null,a==="throw"&&C.iterator.return&&(g.method="return",g.arg=void 0,le(C,g),g.method==="throw")||a!=="return"&&(g.method="throw",g.arg=new TypeError("The iterator does not provide a '"+a+"' method")),b;var y=w(l,C.iterator,g.arg);if(y.type==="throw")return g.method="throw",g.arg=y.arg,g.delegate=null,b;var x=y.arg;return x?x.done?(g[C.resultName]=x.value,g.next=C.nextLoc,g.method!=="return"&&(g.method="next",g.arg=void 0),g.delegate=null,b):x:(g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,b)}function ge(C){var g={tryLoc:C[0]};1 in C&&(g.catchLoc=C[1]),2 in C&&(g.finallyLoc=C[2],g.afterLoc=C[3]),this.tryEntries.push(g)}function oe(C){var g=C.completion||{};g.type="normal",delete g.arg,C.completion=g}function Pe(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(ge,this),this.reset(!0)}function Ve(C){if(C){var g=C[s];if(g)return g.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var a=-1,l=function y(){for(;++a<C.length;)if(t.call(C,a))return y.value=C[a],y.done=!1,y;return y.value=void 0,y.done=!0,y};return l.next=l}}return{next:ee}}function ee(){return{value:void 0,done:!0}}return A.prototype=D,n(xe,"constructor",{value:D,configurable:!0}),n(D,"constructor",{value:A,configurable:!0}),A.displayName=f(D,u,"GeneratorFunction"),r.isGeneratorFunction=function(C){var g=typeof C=="function"&&C.constructor;return!!g&&(g===A||(g.displayName||g.name)==="GeneratorFunction")},r.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,D):(C.__proto__=D,f(C,u,"GeneratorFunction")),C.prototype=Object.create(xe),C},r.awrap=function(C){return{__await:C}},X(V.prototype),f(V.prototype,i,function(){return this}),r.AsyncIterator=V,r.async=function(C,g,a,l,y){y===void 0&&(y=Promise);var x=new V(d(C,g,a,l),y);return r.isGeneratorFunction(g)?x:x.next().then(function(v){return v.done?v.value:x.next()})},X(xe),f(xe,u,"Generator"),f(xe,s,function(){return this}),f(xe,"toString",function(){return"[object Generator]"}),r.keys=function(C){var g=Object(C),a=[];for(var l in g)a.push(l);return a.reverse(),function y(){for(;a.length;){var x=a.pop();if(x in g)return y.value=x,y.done=!1,y}return y.done=!0,y}},r.values=Ve,Pe.prototype={constructor:Pe,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(oe),!g)for(var a in this)a.charAt(0)==="t"&&t.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var a=this;function l(S,p){return v.type="throw",v.arg=g,a.next=S,p&&(a.method="next",a.arg=void 0),!!p}for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y],v=x.completion;if(x.tryLoc==="root")return l("end");if(x.tryLoc<=this.prev){var I=t.call(x,"catchLoc"),B=t.call(x,"finallyLoc");if(I&&B){if(this.prev<x.catchLoc)return l(x.catchLoc,!0);if(this.prev<x.finallyLoc)return l(x.finallyLoc)}else if(I){if(this.prev<x.catchLoc)return l(x.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<x.finallyLoc)return l(x.finallyLoc)}}}},abrupt:function(g,a){for(var l=this.tryEntries.length-1;l>=0;--l){var y=this.tryEntries[l];if(y.tryLoc<=this.prev&&t.call(y,"finallyLoc")&&this.prev<y.finallyLoc){var x=y;break}}x&&(g==="break"||g==="continue")&&x.tryLoc<=a&&a<=x.finallyLoc&&(x=null);var v=x?x.completion:{};return v.type=g,v.arg=a,x?(this.method="next",this.next=x.finallyLoc,b):this.complete(v)},complete:function(g,a){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&a&&(this.next=a),b},finish:function(g){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.finallyLoc===g)return this.complete(l.completion,l.afterLoc),oe(l),b}},catch:function(g){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc===g){var y=l.completion;if(y.type==="throw"){var x=y.arg;oe(l)}return x}}throw new Error("illegal catch attempt")},delegateYield:function(g,a,l){return this.delegate={iterator:Ve(g),resultName:a,nextLoc:l},this.method==="next"&&(this.arg=void 0),b}},r}Rn.exports=Dv,Rn.exports.__esModule=!0,Rn.exports.default=Rn.exports});var Hv=be((jD,Fv)=>{h();var cu=qv()();Fv.exports=cu;try{regeneratorRuntime=cu}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=cu:Function("r","regeneratorRuntime = r")(cu)}});var Wv=be(($D,Wi)=>{h();function jv(r,e,t,n,o,s,i){try{var u=r[s](i),f=u.value}catch(d){t(d);return}u.done?e(f):Promise.resolve(f).then(n,o)}function UT(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var s=r.apply(e,t);function i(f){jv(s,n,o,i,u,"next",f)}function u(f){jv(s,n,o,i,u,"throw",f)}i(void 0)})}}Wi.exports=UT,Wi.exports.__esModule=!0,Wi.exports.default=Wi.exports});var yh=be((VD,$i)=>{h();function DT(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}$i.exports=DT,$i.exports.__esModule=!0,$i.exports.default=$i.exports});var Kv=be((ZD,Ki)=>{h();var $v=qs().default;function qT(r,e){if($v(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if($v(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}Ki.exports=qT,Ki.exports.__esModule=!0,Ki.exports.default=Ki.exports});var Vv=be((JD,Vi)=>{h();var FT=qs().default,HT=Kv();function jT(r){var e=HT(r,"string");return FT(e)==="symbol"?e:String(e)}Vi.exports=jT,Vi.exports.__esModule=!0,Vi.exports.default=Vi.exports});var mh=be((XD,Gi)=>{h();var WT=Vv();function Gv(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,WT(n.key),n)}}function $T(r,e,t){return e&&Gv(r.prototype,e),t&&Gv(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}Gi.exports=$T,Gi.exports.__esModule=!0,Gi.exports.default=Gi.exports});var Zv=be((tq,Bn)=>{h();function gh(r,e){return Bn.exports=gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Bn.exports.__esModule=!0,Bn.exports.default=Bn.exports,gh(r,e)}Bn.exports=gh,Bn.exports.__esModule=!0,Bn.exports.default=Bn.exports});var xh=be((nq,Zi)=>{h();var KT=Zv();function VT(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&KT(r,e)}Zi.exports=VT,Zi.exports.__esModule=!0,Zi.exports.default=Zi.exports});var Yv=be((sq,Yi)=>{h();function GT(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}Yi.exports=GT,Yi.exports.__esModule=!0,Yi.exports.default=Yi.exports});var bh=be((aq,Ji)=>{h();var ZT=qs().default,YT=Yv();function JT(r,e){if(e&&(ZT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YT(r)}Ji.exports=JT,Ji.exports.__esModule=!0,Ji.exports.default=Ji.exports});var vh=be((uq,Tn)=>{h();function wh(r){return Tn.exports=wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tn.exports.__esModule=!0,Tn.exports.default=Tn.exports,wh(r)}Tn.exports=wh,Tn.exports.__esModule=!0,Tn.exports.default=Tn.exports});var fu=be((lq,Sh)=>{"use strict";h();var QT=Object.prototype.hasOwnProperty,pr="~";function Qi(){}Object.create&&(Qi.prototype=Object.create(null),new Qi().__proto__||(pr=!1));function XT(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function Jv(r,e,t,n,o){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new XT(t,n||r,o),i=pr?pr+e:e;return r._events[i]?r._events[i].fn?r._events[i]=[r._events[i],s]:r._events[i].push(s):(r._events[i]=s,r._eventsCount++),r}function uu(r,e){--r._eventsCount===0?r._events=new Qi:delete r._events[e]}function ir(){this._events=new Qi,this._eventsCount=0}ir.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)QT.call(t,n)&&e.push(pr?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};ir.prototype.listeners=function(e){var t=pr?pr+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,i=new Array(s);o<s;o++)i[o]=n[o].fn;return i};ir.prototype.listenerCount=function(e){var t=pr?pr+e:e,n=this._events[t];return n?n.fn?1:n.length:0};ir.prototype.emit=function(e,t,n,o,s,i){var u=pr?pr+e:e;if(!this._events[u])return!1;var f=this._events[u],d=arguments.length,w,b;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),d){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,o),!0;case 5:return f.fn.call(f.context,t,n,o,s),!0;case 6:return f.fn.call(f.context,t,n,o,s,i),!0}for(b=1,w=new Array(d-1);b<d;b++)w[b-1]=arguments[b];f.fn.apply(f.context,w)}else{var T=f.length,A;for(b=0;b<T;b++)switch(f[b].once&&this.removeListener(e,f[b].fn,void 0,!0),d){case 1:f[b].fn.call(f[b].context);break;case 2:f[b].fn.call(f[b].context,t);break;case 3:f[b].fn.call(f[b].context,t,n);break;case 4:f[b].fn.call(f[b].context,t,n,o);break;default:if(!w)for(A=1,w=new Array(d-1);A<d;A++)w[A-1]=arguments[A];f[b].fn.apply(f[b].context,w)}}return!0};ir.prototype.on=function(e,t,n){return Jv(this,e,t,n,!1)};ir.prototype.once=function(e,t,n){return Jv(this,e,t,n,!0)};ir.prototype.removeListener=function(e,t,n,o){var s=pr?pr+e:e;if(!this._events[s])return this;if(!t)return uu(this,s),this;var i=this._events[s];if(i.fn)i.fn===t&&(!o||i.once)&&(!n||i.context===n)&&uu(this,s);else{for(var u=0,f=[],d=i.length;u<d;u++)(i[u].fn!==t||o&&!i[u].once||n&&i[u].context!==n)&&f.push(i[u]);f.length?this._events[s]=f.length===1?f[0]:f:uu(this,s)}return this};ir.prototype.removeAllListeners=function(e){var t;return e?(t=pr?pr+e:e,this._events[t]&&uu(this,t)):(this._events=new Qi,this._eventsCount=0),this};ir.prototype.off=ir.prototype.removeListener;ir.prototype.addListener=ir.prototype.on;ir.prefixed=pr;ir.EventEmitter=ir;typeof Sh<"u"&&(Sh.exports=ir)});var Xv=be(pu=>{"use strict";h();var io=hh();Object.defineProperty(pu,"__esModule",{value:!0});pu.default=void 0;var so=io(Hv()),lu=io(Wv()),e3=io(qs()),t3=io(yh()),r3=io(mh()),n3=io(xh()),o3=io(bh()),Qv=io(vh()),s3=fu();function i3(r){var e=a3();return function(){var n=(0,Qv.default)(r),o;if(e){var s=(0,Qv.default)(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return(0,o3.default)(this,o)}}function a3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var c3=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t},u3=function(r){(0,n3.default)(t,r);var e=i3(t);function t(n){var o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;(0,t3.default)(this,t);var f=i.autoconnect,d=f===void 0?!0:f,w=i.reconnect,b=w===void 0?!0:w,T=i.reconnect_interval,A=T===void 0?1e3:T,D=i.max_reconnects,j=D===void 0?5:D,J=c3(i,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return o=e.call(this),o.webSocketFactory=n,o.queue={},o.rpc_id=0,o.address=s,o.autoconnect=d,o.ready=!1,o.reconnect=b,o.reconnect_timer_id=void 0,o.reconnect_interval=A,o.max_reconnects=j,o.rest_options=J,o.current_reconnects=0,o.generate_request_id=u||function(){return++o.rpc_id},o.autoconnect&&o._connect(o.address,Object.assign({autoconnect:o.autoconnect,reconnect:o.reconnect,reconnect_interval:o.reconnect_interval,max_reconnects:o.max_reconnects},o.rest_options)),o}return(0,r3.default)(t,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(o,s,i,u){var f=this;return!u&&(0,e3.default)(i)==="object"&&(u=i,i=null),new Promise(function(d,w){if(!f.ready)return w(new Error("socket not ready"));var b=f.generate_request_id(o,s),T={jsonrpc:"2.0",method:o,params:s||null,id:b};f.socket.send(JSON.stringify(T),u,function(A){if(A)return w(A);f.queue[b]={promise:[d,w]},i&&(f.queue[b].timeout=setTimeout(function(){delete f.queue[b],w(new Error("reply timeout"))},i))})})}},{key:"login",value:function(){var n=(0,lu.default)(so.default.mark(function s(i){var u;return so.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.call("rpc.login",i);case 2:if(u=d.sent,u){d.next=5;break}throw new Error("authentication failed");case 5:return d.abrupt("return",u);case 6:case"end":return d.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"listMethods",value:function(){var n=(0,lu.default)(so.default.mark(function s(){return so.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.call("__listMethods");case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s,this)}));function o(){return n.apply(this,arguments)}return o}()},{key:"notify",value:function(o,s){var i=this;return new Promise(function(u,f){if(!i.ready)return f(new Error("socket not ready"));var d={jsonrpc:"2.0",method:o,params:s||null};i.socket.send(JSON.stringify(d),function(w){if(w)return f(w);u()})})}},{key:"subscribe",value:function(){var n=(0,lu.default)(so.default.mark(function s(i){var u;return so.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return typeof i=="string"&&(i=[i]),d.next=3,this.call("rpc.on",i);case 3:if(u=d.sent,!(typeof i=="string"&&u[i]!=="ok")){d.next=6;break}throw new Error("Failed subscribing to an event '"+i+"' with: "+u[i]);case 6:return d.abrupt("return",u);case 7:case"end":return d.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"unsubscribe",value:function(){var n=(0,lu.default)(so.default.mark(function s(i){var u;return so.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return typeof i=="string"&&(i=[i]),d.next=3,this.call("rpc.off",i);case 3:if(u=d.sent,!(typeof i=="string"&&u[i]!=="ok")){d.next=6;break}throw new Error("Failed unsubscribing from an event with: "+u);case 6:return d.abrupt("return",u);case 7:case"end":return d.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"close",value:function(o,s){this.socket.close(o||1e3,s)}},{key:"_connect",value:function(o,s){var i=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(o,s),this.socket.addEventListener("open",function(){i.ready=!0,i.emit("open"),i.current_reconnects=0}),this.socket.addEventListener("message",function(u){var f=u.data;f instanceof ArrayBuffer&&(f=E.from(f).toString());try{f=JSON.parse(f)}catch{return}if(f.notification&&i.listeners(f.notification).length){if(!Object.keys(f.params).length)return i.emit(f.notification);var d=[f.notification];if(f.params.constructor===Object)d.push(f.params);else for(var w=0;w<f.params.length;w++)d.push(f.params[w]);return Promise.resolve().then(function(){i.emit.apply(i,d)})}if(!i.queue[f.id])return f.method&&f.params?Promise.resolve().then(function(){i.emit(f.method,f.params)}):void 0;"error"in f=="result"in f&&i.queue[f.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),i.queue[f.id].timeout&&clearTimeout(i.queue[f.id].timeout),f.error?i.queue[f.id].promise[1](f.error):i.queue[f.id].promise[0](f.result),delete i.queue[f.id]}),this.socket.addEventListener("error",function(u){return i.emit("error",u)}),this.socket.addEventListener("close",function(u){var f=u.code,d=u.reason;i.ready&&setTimeout(function(){return i.emit("close",f,d)},0),i.ready=!1,i.socket=void 0,f!==1e3&&(i.current_reconnects++,i.reconnect&&(i.max_reconnects>i.current_reconnects||i.max_reconnects===0)&&(i.reconnect_timer_id=setTimeout(function(){return i._connect(o,s)},i.reconnect_interval)))})}}]),t}(s3.EventEmitter);pu.default=u3});var tS=be(_h=>{"use strict";h();var Xi=hh();Object.defineProperty(_h,"__esModule",{value:!0});_h.default=x3;var f3=Xi(yh()),l3=Xi(mh()),p3=Xi(xh()),h3=Xi(bh()),eS=Xi(vh()),d3=fu();function y3(r){var e=m3();return function(){var n=(0,eS.default)(r),o;if(e){var s=(0,eS.default)(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return(0,h3.default)(this,o)}}function m3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var g3=function(r){(0,p3.default)(t,r);var e=y3(t);function t(n,o,s){var i;return(0,f3.default)(this,t),i=e.call(this),i.socket=new window.WebSocket(n,s),i.socket.onopen=function(){return i.emit("open")},i.socket.onmessage=function(u){return i.emit("message",u.data)},i.socket.onerror=function(u){return i.emit("error",u)},i.socket.onclose=function(u){i.emit("close",u.code,u.reason)},i}return(0,l3.default)(t,[{key:"send",value:function(o,s,i){var u=i||s;try{this.socket.send(o),u()}catch(f){u(f)}}},{key:"close",value:function(o,s){this.socket.close(o,s)}},{key:"addEventListener",value:function(o,s,i){this.socket.addEventListener(o,s,i)}}]),t}(d3.EventEmitter);function x3(r,e){return new g3(r,e)}});var ha=be((Yh,Jh)=>{h();(function(r,e){typeof Yh=="object"&&typeof Jh<"u"?Jh.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=e()})(Yh,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",o="second",s="minute",i="hour",u="day",f="week",d="month",w="quarter",b="year",T="date",A="Invalid Date",D=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,J={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ee){var C=["th","st","nd","rd"],g=ee%100;return"["+ee+(C[(g-20)%10]||C[g]||C[0])+"]"}},re=function(ee,C,g){var a=String(ee);return!a||a.length>=C?ee:""+Array(C+1-a.length).join(g)+ee},xe={s:re,z:function(ee){var C=-ee.utcOffset(),g=Math.abs(C),a=Math.floor(g/60),l=g%60;return(C<=0?"+":"-")+re(a,2,"0")+":"+re(l,2,"0")},m:function ee(C,g){if(C.date()<g.date())return-ee(g,C);var a=12*(g.year()-C.year())+(g.month()-C.month()),l=C.clone().add(a,d),y=g-l<0,x=C.clone().add(a+(y?-1:1),d);return+(-(a+(g-l)/(y?l-x:x-l))||0)},a:function(ee){return ee<0?Math.ceil(ee)||0:Math.floor(ee)},p:function(ee){return{M:d,y:b,w:f,d:u,D:T,h:i,m:s,s:o,ms:n,Q:w}[ee]||String(ee||"").toLowerCase().replace(/s$/,"")},u:function(ee){return ee===void 0}},X="en",V={};V[X]=J;var G=function(ee){return ee instanceof Pe},le=function ee(C,g,a){var l;if(!C)return X;if(typeof C=="string"){var y=C.toLowerCase();V[y]&&(l=y),g&&(V[y]=g,l=y);var x=C.split("-");if(!l&&x.length>1)return ee(x[0])}else{var v=C.name;V[v]=C,l=v}return!a&&l&&(X=l),l||!a&&X},ge=function(ee,C){if(G(ee))return ee.clone();var g=typeof C=="object"?C:{};return g.date=ee,g.args=arguments,new Pe(g)},oe=xe;oe.l=le,oe.i=G,oe.w=function(ee,C){return ge(ee,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var Pe=function(){function ee(g){this.$L=le(g.locale,null,!0),this.parse(g)}var C=ee.prototype;return C.parse=function(g){this.$d=function(a){var l=a.date,y=a.utc;if(l===null)return new Date(NaN);if(oe.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var x=l.match(D);if(x){var v=x[2]-1||0,I=(x[7]||"0").substring(0,3);return y?new Date(Date.UTC(x[1],v,x[3]||1,x[4]||0,x[5]||0,x[6]||0,I)):new Date(x[1],v,x[3]||1,x[4]||0,x[5]||0,x[6]||0,I)}}return new Date(l)}(g),this.$x=g.x||{},this.init()},C.init=function(){var g=this.$d;this.$y=g.getFullYear(),this.$M=g.getMonth(),this.$D=g.getDate(),this.$W=g.getDay(),this.$H=g.getHours(),this.$m=g.getMinutes(),this.$s=g.getSeconds(),this.$ms=g.getMilliseconds()},C.$utils=function(){return oe},C.isValid=function(){return this.$d.toString()!==A},C.isSame=function(g,a){var l=ge(g);return this.startOf(a)<=l&&l<=this.endOf(a)},C.isAfter=function(g,a){return ge(g)<this.startOf(a)},C.isBefore=function(g,a){return this.endOf(a)<ge(g)},C.$g=function(g,a,l){return oe.u(g)?this[a]:this.set(l,g)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(g,a){var l=this,y=!!oe.u(a)||a,x=oe.p(g),v=function(L,U){var W=oe.w(l.$u?Date.UTC(l.$y,U,L):new Date(l.$y,U,L),l);return y?W:W.endOf(u)},I=function(L,U){return oe.w(l.toDate()[L].apply(l.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(U)),l)},B=this.$W,S=this.$M,p=this.$D,_="set"+(this.$u?"UTC":"");switch(x){case b:return y?v(1,0):v(31,11);case d:return y?v(1,S):v(0,S+1);case f:var ae=this.$locale().weekStart||0,m=(B<ae?B+7:B)-ae;return v(y?p-m:p+(6-m),S);case u:case T:return I(_+"Hours",0);case i:return I(_+"Minutes",1);case s:return I(_+"Seconds",2);case o:return I(_+"Milliseconds",3);default:return this.clone()}},C.endOf=function(g){return this.startOf(g,!1)},C.$set=function(g,a){var l,y=oe.p(g),x="set"+(this.$u?"UTC":""),v=(l={},l[u]=x+"Date",l[T]=x+"Date",l[d]=x+"Month",l[b]=x+"FullYear",l[i]=x+"Hours",l[s]=x+"Minutes",l[o]=x+"Seconds",l[n]=x+"Milliseconds",l)[y],I=y===u?this.$D+(a-this.$W):a;if(y===d||y===b){var B=this.clone().set(T,1);B.$d[v](I),B.init(),this.$d=B.set(T,Math.min(this.$D,B.daysInMonth())).$d}else v&&this.$d[v](I);return this.init(),this},C.set=function(g,a){return this.clone().$set(g,a)},C.get=function(g){return this[oe.p(g)]()},C.add=function(g,a){var l,y=this;g=Number(g);var x=oe.p(a),v=function(S){var p=ge(y);return oe.w(p.date(p.date()+Math.round(S*g)),y)};if(x===d)return this.set(d,this.$M+g);if(x===b)return this.set(b,this.$y+g);if(x===u)return v(1);if(x===f)return v(7);var I=(l={},l[s]=e,l[i]=t,l[o]=r,l)[x]||1,B=this.$d.getTime()+g*I;return oe.w(B,this)},C.subtract=function(g,a){return this.add(-1*g,a)},C.format=function(g){var a=this,l=this.$locale();if(!this.isValid())return l.invalidDate||A;var y=g||"YYYY-MM-DDTHH:mm:ssZ",x=oe.z(this),v=this.$H,I=this.$m,B=this.$M,S=l.weekdays,p=l.months,_=function(U,W,Y,me){return U&&(U[W]||U(a,y))||Y[W].slice(0,me)},ae=function(U){return oe.s(v%12||12,U,"0")},m=l.meridiem||function(U,W,Y){var me=U<12?"AM":"PM";return Y?me.toLowerCase():me},L={YY:String(this.$y).slice(-2),YYYY:oe.s(this.$y,4,"0"),M:B+1,MM:oe.s(B+1,2,"0"),MMM:_(l.monthsShort,B,p,3),MMMM:_(p,B),D:this.$D,DD:oe.s(this.$D,2,"0"),d:String(this.$W),dd:_(l.weekdaysMin,this.$W,S,2),ddd:_(l.weekdaysShort,this.$W,S,3),dddd:S[this.$W],H:String(v),HH:oe.s(v,2,"0"),h:ae(1),hh:ae(2),a:m(v,I,!0),A:m(v,I,!1),m:String(I),mm:oe.s(I,2,"0"),s:String(this.$s),ss:oe.s(this.$s,2,"0"),SSS:oe.s(this.$ms,3,"0"),Z:x};return y.replace(j,function(U,W){return W||L[U]||x.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(g,a,l){var y,x=oe.p(a),v=ge(g),I=(v.utcOffset()-this.utcOffset())*e,B=this-v,S=oe.m(this,v);return S=(y={},y[b]=S/12,y[d]=S,y[w]=S/3,y[f]=(B-I)/6048e5,y[u]=(B-I)/864e5,y[i]=B/t,y[s]=B/e,y[o]=B/r,y)[x]||B,l?S:oe.a(S)},C.daysInMonth=function(){return this.endOf(d).$D},C.$locale=function(){return V[this.$L]},C.locale=function(g,a){if(!g)return this.$L;var l=this.clone(),y=le(g,a,!0);return y&&(l.$L=y),l},C.clone=function(){return oe.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},ee}(),Ve=Pe.prototype;return ge.prototype=Ve,[["$ms",n],["$s",o],["$m",s],["$H",i],["$W",u],["$M",d],["$y",b],["$D",T]].forEach(function(ee){Ve[ee[1]]=function(C){return this.$g(C,ee[0],ee[1])}}),ge.extend=function(ee,C){return ee.$i||(ee(C,Pe,ge),ee.$i=!0),ge},ge.locale=le,ge.isDayjs=G,ge.unix=function(ee){return ge(1e3*ee)},ge.en=V[X],ge.Ls=V,ge.p={},ge})});var JS=be((Qh,Xh)=>{h();(function(r,e){typeof Qh=="object"&&typeof Xh<"u"?Xh.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_duration=e()})(Qh,function(){"use strict";var r,e,t=1e3,n=6e4,o=36e5,s=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,f=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,w={years:u,months:f,days:s,hours:o,minutes:n,seconds:t,milliseconds:1,weeks:6048e5},b=function(X){return X instanceof xe},T=function(X,V,G){return new xe(X,G,V.$l)},A=function(X){return e.p(X)+"s"},D=function(X){return X<0},j=function(X){return D(X)?Math.ceil(X):Math.floor(X)},J=function(X){return Math.abs(X)},re=function(X,V){return X?D(X)?{negative:!0,format:""+J(X)+V}:{negative:!1,format:""+X+V}:{negative:!1,format:""}},xe=function(){function X(G,le,ge){var oe=this;if(this.$d={},this.$l=ge,G===void 0&&(this.$ms=0,this.parseFromMilliseconds()),le)return T(G*w[A(le)],this);if(typeof G=="number")return this.$ms=G,this.parseFromMilliseconds(),this;if(typeof G=="object")return Object.keys(G).forEach(function(ee){oe.$d[A(ee)]=G[ee]}),this.calMilliseconds(),this;if(typeof G=="string"){var Pe=G.match(d);if(Pe){var Ve=Pe.slice(2).map(function(ee){return ee!=null?Number(ee):0});return this.$d.years=Ve[0],this.$d.months=Ve[1],this.$d.weeks=Ve[2],this.$d.days=Ve[3],this.$d.hours=Ve[4],this.$d.minutes=Ve[5],this.$d.seconds=Ve[6],this.calMilliseconds(),this}}return this}var V=X.prototype;return V.calMilliseconds=function(){var G=this;this.$ms=Object.keys(this.$d).reduce(function(le,ge){return le+(G.$d[ge]||0)*w[ge]},0)},V.parseFromMilliseconds=function(){var G=this.$ms;this.$d.years=j(G/u),G%=u,this.$d.months=j(G/f),G%=f,this.$d.days=j(G/s),G%=s,this.$d.hours=j(G/o),G%=o,this.$d.minutes=j(G/n),G%=n,this.$d.seconds=j(G/t),G%=t,this.$d.milliseconds=G},V.toISOString=function(){var G=re(this.$d.years,"Y"),le=re(this.$d.months,"M"),ge=+this.$d.days||0;this.$d.weeks&&(ge+=7*this.$d.weeks);var oe=re(ge,"D"),Pe=re(this.$d.hours,"H"),Ve=re(this.$d.minutes,"M"),ee=this.$d.seconds||0;this.$d.milliseconds&&(ee+=this.$d.milliseconds/1e3);var C=re(ee,"S"),g=G.negative||le.negative||oe.negative||Pe.negative||Ve.negative||C.negative,a=Pe.format||Ve.format||C.format?"T":"",l=(g?"-":"")+"P"+G.format+le.format+oe.format+a+Pe.format+Ve.format+C.format;return l==="P"||l==="-P"?"P0D":l},V.toJSON=function(){return this.toISOString()},V.format=function(G){var le=G||"YYYY-MM-DDTHH:mm:ss",ge={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return le.replace(i,function(oe,Pe){return Pe||String(ge[oe])})},V.as=function(G){return this.$ms/w[A(G)]},V.get=function(G){var le=this.$ms,ge=A(G);return ge==="milliseconds"?le%=1e3:le=ge==="weeks"?j(le/w[ge]):this.$d[ge],le===0?0:le},V.add=function(G,le,ge){var oe;return oe=le?G*w[A(le)]:b(G)?G.$ms:T(G,this).$ms,T(this.$ms+oe*(ge?-1:1),this)},V.subtract=function(G,le){return this.add(G,le,!0)},V.locale=function(G){var le=this.clone();return le.$l=G,le},V.clone=function(){return T(this.$ms,this)},V.humanize=function(G){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!G)},V.valueOf=function(){return this.asMilliseconds()},V.milliseconds=function(){return this.get("milliseconds")},V.asMilliseconds=function(){return this.as("milliseconds")},V.seconds=function(){return this.get("seconds")},V.asSeconds=function(){return this.as("seconds")},V.minutes=function(){return this.get("minutes")},V.asMinutes=function(){return this.as("minutes")},V.hours=function(){return this.get("hours")},V.asHours=function(){return this.as("hours")},V.days=function(){return this.get("days")},V.asDays=function(){return this.as("days")},V.weeks=function(){return this.get("weeks")},V.asWeeks=function(){return this.as("weeks")},V.months=function(){return this.get("months")},V.asMonths=function(){return this.as("months")},V.years=function(){return this.get("years")},V.asYears=function(){return this.as("years")},X}();return function(X,V,G){r=G,e=G().$utils(),G.duration=function(oe,Pe){var Ve=G.locale();return T(oe,{$l:Ve},Pe)},G.isDuration=b;var le=V.prototype.add,ge=V.prototype.subtract;V.prototype.add=function(oe,Pe){return b(oe)&&(oe=oe.asMilliseconds()),le.bind(this)(oe,Pe)},V.prototype.subtract=function(oe,Pe){return b(oe)&&(oe=oe.asMilliseconds()),ge.bind(this)(oe,Pe)}}})});var e_=be((ed,td)=>{h();(function(r,e){typeof ed=="object"&&typeof td<"u"?td.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isToday=e()})(ed,function(){"use strict";return function(r,e,t){e.prototype.isToday=function(){var n="YYYY-MM-DD",o=t();return this.format(n)===o.format(n)}}})});var t_=be((rd,nd)=>{h();(function(r,e){typeof rd=="object"&&typeof nd<"u"?nd.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isYesterday=e()})(rd,function(){"use strict";return function(r,e,t){e.prototype.isYesterday=function(){var n="YYYY-MM-DD",o=t().subtract(1,"day");return this.format(n)===o.format(n)}}})});var o_=be((sd,id)=>{h();(function(r,e){typeof sd=="object"&&typeof id<"u"?id.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_calendar=e()})(sd,function(){"use strict";return function(r,e,t){var n="h:mm A",o={lastDay:"[Yesterday at] "+n,sameDay:"[Today at] "+n,nextDay:"[Tomorrow at] "+n,nextWeek:"dddd [at] "+n,lastWeek:"[Last] dddd [at] "+n,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(s,i){var u=i||this.$locale().calendar||o,f=t(s||void 0).startOf("d"),d=this.diff(f,"d",!0),w="sameElse",b=d<-6?w:d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":w,T=u[b]||o[b];return typeof T=="function"?T.call(this,t()):this.format(T)}}})});h();h();h();var ai,ci,ui,fi,li,pi,Af=class{constructor({address:e,publicKey:t,label:n,icon:o,chains:s,features:i}){Oe(this,ai,void 0);Oe(this,ci,void 0);Oe(this,ui,void 0);Oe(this,fi,void 0);Oe(this,li,void 0);Oe(this,pi,void 0);new.target===Af&&Object.freeze(this),Ht(this,ai,e),Ht(this,ci,t),Ht(this,ui,s),Ht(this,fi,i),Ht(this,li,n),Ht(this,pi,o)}get address(){return ne(this,ai)}get publicKey(){return ne(this,ci).slice()}get chains(){return ne(this,ui).slice()}get features(){return ne(this,fi).slice()}get label(){return ne(this,li)}get icon(){return ne(this,pi)}},ii=Af;ai=new WeakMap,ci=new WeakMap,ui=new WeakMap,fi=new WeakMap,li=new WeakMap,pi=new WeakMap;h();var Rf="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjEwOCIgdmlld0JveD0iMCAwIDEwOCAxMDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPgo=";h();function Tf(r){let e=({register:t})=>t(r);try{window.dispatchEvent(new Bf(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}var hi,Bf=class extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1});Oe(this,hi,void 0);Ht(this,hi,t)}get detail(){return ne(this,hi)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};hi=new WeakMap;h();var jd="solana:mainnet",Wd="solana:devnet",$d="solana:testnet",Kd="solana:localnet",di=[jd,Wd,$d,Kd];function Pf(r){return di.includes(r)}h();h();function zf(r,e){return Vd(r,e)}function Vd(r,e){if(r===e)return!0;let t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}h();h();h();var tl={};Z(tl,{error:()=>fm,method:()=>am,params:()=>cm,request:()=>dE,response:()=>yE,result:()=>um});h();h();var We;(function(r){r.assertEqual=o=>o;function e(o){}r.assertIs=e;function t(o){throw new Error}r.assertNever=t,r.arrayToEnum=o=>{let s={};for(let i of o)s[i]=i;return s},r.getValidEnumValues=o=>{let s=r.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),i={};for(let u of s)i[u]=o[u];return r.objectValues(i)},r.objectValues=o=>r.objectKeys(o).map(function(s){return o[s]}),r.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let s=[];for(let i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},r.find=(o,s)=>{for(let i of o)if(s(i))return i},r.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,s=" | "){return o.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}r.joinValues=n,r.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(We||(We={}));var Lf;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Lf||(Lf={}));var ce=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Un=r=>{switch(typeof r){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(r)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(r)?ce.array:r===null?ce.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?ce.promise:typeof Map<"u"&&r instanceof Map?ce.map:typeof Set<"u"&&r instanceof Set?ce.set:typeof Date<"u"&&r instanceof Date?ce.date:ce.object;default:return ce.unknown}},Q=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),r2=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),cr=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(s){return s.message},n={_errors:[]},o=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let u=n,f=0;for(;f<i.path.length;){let d=i.path[f];f===i.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(t(i))):u[d]=u[d]||{_errors:[]},u=u[d],f++}}};return o(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};cr.create=r=>new cr(r);var yi=(r,e)=>{let t;switch(r.code){case Q.invalid_type:r.received===ce.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Q.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,We.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:t=`Unrecognized key(s) in object: ${We.joinValues(r.keys,", ")}`;break;case Q.invalid_union:t="Invalid input";break;case Q.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${We.joinValues(r.options)}`;break;case Q.invalid_enum_value:t=`Invalid enum value. Expected ${We.joinValues(r.options)}, received '${r.received}'`;break;case Q.invalid_arguments:t="Invalid function arguments";break;case Q.invalid_return_type:t="Invalid function return type";break;case Q.invalid_date:t="Invalid date";break;case Q.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:We.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Q.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Q.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Q.custom:t="Invalid input";break;case Q.invalid_intersection_types:t="Intersection results could not be merged";break;case Q.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Q.not_finite:t="Number must be finite";break;default:t=e.defaultError,We.assertNever(r)}return{message:t}},Yd=yi;function n2(r){Yd=r}function Ra(){return Yd}var Ba=r=>{let{data:e,path:t,errorMaps:n,issueData:o}=r,s=[...t,...o.path||[]],i={...o,path:s},u="",f=n.filter(d=>!!d).slice().reverse();for(let d of f)u=d(i,{data:e,defaultError:u}).message;return{...o,path:s,message:o.message||u}},o2=[];function ue(r,e){let t=Ba({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ra(),yi].filter(n=>!!n)});r.common.issues.push(t)}var Vt=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let o of t){if(o.status==="aborted")return Ae;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let o of t)n.push({key:await o.key,value:await o.value});return Vt.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let o of t){let{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return Ae;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(n[s.value]=i.value)}return{status:e.value,value:n}}},Ae=Object.freeze({status:"aborted"}),Jd=r=>({status:"dirty",value:r}),ur=r=>({status:"valid",value:r}),Cf=r=>r.status==="aborted",Nf=r=>r.status==="dirty",mi=r=>r.status==="valid",Ta=r=>typeof Promise<"u"&&r instanceof Promise,Se;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(Se||(Se={}));var Br=class{constructor(e,t,n,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Gd=(r,e)=>{if(mi(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new cr(r.common.issues);return this._error=t,this._error}}};function Be(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:o}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(i,u)=>i.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:n??u.defaultError}:{message:t??u.defaultError},description:o}}var Te=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Un(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vt,ctx:{common:e.parent.common,data:e.data,parsedType:Un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Ta(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let o={common:{issues:[],async:(n=t?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Un(e)},s=this._parseSync({data:e,path:o.path,parent:o});return Gd(o,s)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Un(e)},o=this._parse({data:e,path:n.path,parent:n}),s=await(Ta(o)?o:Promise.resolve(o));return Gd(n,s)}refine(e,t){let n=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,s)=>{let i=e(o),u=()=>s.addIssue({code:Q.custom,...n(o)});return typeof Promise<"u"&&i instanceof Promise?i.then(f=>f?!0:(u(),!1)):i?!0:(u(),!1)})}refinement(e,t){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof t=="function"?t(n,o):t),!1))}_refinement(e){return new Sr({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Cr.create(this,this._def)}nullable(){return wn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vr.create(this,this._def)}promise(){return Fn.create(this,this._def)}or(e){return No.create([this,e],this._def)}and(e){return Oo.create(this,e,this._def)}transform(e){return new Sr({...Be(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new Ho({...Be(this._def),innerType:this,defaultValue:t,typeName:Ee.ZodDefault})}brand(){return new Pa({typeName:Ee.ZodBranded,type:this,...Be(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new xs({...Be(this._def),innerType:this,catchValue:t,typeName:Ee.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return jo.create(this,e)}readonly(){return ws.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},s2=/^c[^\s-]{8,}$/i,i2=/^[a-z][a-z0-9]*$/,a2=/^[0-9A-HJKMNP-TV-Z]{26}$/,c2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u2=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Mf,l2=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,p2=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,h2=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function d2(r,e){return!!((e==="v4"||!e)&&l2.test(r)||(e==="v6"||!e)&&p2.test(r))}var wr=class extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_type,expected:ce.string,received:s.parsedType}),Ae}let n=new Vt,o;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let i=e.data.length>s.value,u=e.data.length<s.value;(i||u)&&(o=this._getOrReturnCtx(e,o),i?ue(o,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&ue(o,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")u2.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"email",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Mf||(Mf=new RegExp(f2,"u")),Mf.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"emoji",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")c2.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"uuid",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")s2.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"cuid",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")i2.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"cuid2",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")a2.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"ulid",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ue(o,{validation:"url",code:Q.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"regex",code:Q.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?h2(s).test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?d2(e.data,s.version)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"ip",code:Q.invalid_string,message:s.message}),n.dirty()):We.assertNever(s);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(o=>e.test(o),{validation:t,code:Q.invalid_string,...Se.errToObj(n)})}_addCheck(e){return new wr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Se.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,...Se.errToObj(e?.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Se.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Se.errToObj(t)})}nonempty(e){return this.min(1,Se.errToObj(e))}trim(){return new wr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};wr.create=r=>{var e;return new wr({checks:[],typeName:Ee.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...Be(r)})};function y2(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=t>n?t:n,s=parseInt(r.toFixed(o).replace(".","")),i=parseInt(e.toFixed(o).replace(".",""));return s%i/Math.pow(10,o)}var Jr=class extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_type,expected:ce.number,received:s.parsedType}),Ae}let n,o=new Vt;for(let s of this._def.checks)s.kind==="int"?We.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?y2(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.not_finite,message:s.message}),o.dirty()):We.assertNever(s);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,n,o){return new Jr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Se.toString(o)}]})}_addCheck(e){return new Jr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&We.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Jr.create=r=>new Jr({checks:[],typeName:Ee.ZodNumber,coerce:r?.coerce||!1,...Be(r)});var Qr=class extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ce.bigint){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_type,expected:ce.bigint,received:s.parsedType}),Ae}let n,o=new Vt;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):We.assertNever(s);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,n,o){return new Qr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Se.toString(o)}]})}_addCheck(e){return new Qr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Qr.create=r=>{var e;return new Qr({checks:[],typeName:Ee.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...Be(r)})};var Mo=class extends Te{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ce.boolean){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ce.boolean,received:n.parsedType}),Ae}return ur(e.data)}};Mo.create=r=>new Mo({typeName:Ee.ZodBoolean,coerce:r?.coerce||!1,...Be(r)});var xn=class extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_type,expected:ce.date,received:s.parsedType}),Ae}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_date}),Ae}let n=new Vt,o;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):We.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Se.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};xn.create=r=>new xn({checks:[],coerce:r?.coerce||!1,typeName:Ee.ZodDate,...Be(r)});var ds=class extends Te{_parse(e){if(this._getType(e)!==ce.symbol){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ce.symbol,received:n.parsedType}),Ae}return ur(e.data)}};ds.create=r=>new ds({typeName:Ee.ZodSymbol,...Be(r)});var Lo=class extends Te{_parse(e){if(this._getType(e)!==ce.undefined){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ce.undefined,received:n.parsedType}),Ae}return ur(e.data)}};Lo.create=r=>new Lo({typeName:Ee.ZodUndefined,...Be(r)});var Co=class extends Te{_parse(e){if(this._getType(e)!==ce.null){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ce.null,received:n.parsedType}),Ae}return ur(e.data)}};Co.create=r=>new Co({typeName:Ee.ZodNull,...Be(r)});var qn=class extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return ur(e.data)}};qn.create=r=>new qn({typeName:Ee.ZodAny,...Be(r)});var gn=class extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ur(e.data)}};gn.create=r=>new gn({typeName:Ee.ZodUnknown,...Be(r)});var Nr=class extends Te{_parse(e){let t=this._getOrReturnCtx(e);return ue(t,{code:Q.invalid_type,expected:ce.never,received:t.parsedType}),Ae}};Nr.create=r=>new Nr({typeName:Ee.ZodNever,...Be(r)});var ys=class extends Te{_parse(e){if(this._getType(e)!==ce.undefined){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ce.void,received:n.parsedType}),Ae}return ur(e.data)}};ys.create=r=>new ys({typeName:Ee.ZodVoid,...Be(r)});var vr=class extends Te{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),o=this._def;if(t.parsedType!==ce.array)return ue(t,{code:Q.invalid_type,expected:ce.array,received:t.parsedType}),Ae;if(o.exactLength!==null){let i=t.data.length>o.exactLength.value,u=t.data.length<o.exactLength.value;(i||u)&&(ue(t,{code:i?Q.too_big:Q.too_small,minimum:u?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(ue(t,{code:Q.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(ue(t,{code:Q.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((i,u)=>o.type._parseAsync(new Br(t,i,t.path,u)))).then(i=>Vt.mergeArray(n,i));let s=[...t.data].map((i,u)=>o.type._parseSync(new Br(t,i,t.path,u)));return Vt.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new vr({...this._def,minLength:{value:e,message:Se.toString(t)}})}max(e,t){return new vr({...this._def,maxLength:{value:e,message:Se.toString(t)}})}length(e,t){return new vr({...this._def,exactLength:{value:e,message:Se.toString(t)}})}nonempty(e){return this.min(1,e)}};vr.create=(r,e)=>new vr({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Be(e)});function hs(r){if(r instanceof Lt){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=Cr.create(hs(n))}return new Lt({...r._def,shape:()=>e})}else return r instanceof vr?new vr({...r._def,type:hs(r.element)}):r instanceof Cr?Cr.create(hs(r.unwrap())):r instanceof wn?wn.create(hs(r.unwrap())):r instanceof Tr?Tr.create(r.items.map(e=>hs(e))):r}var Lt=class extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=We.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ce.object){let d=this._getOrReturnCtx(e);return ue(d,{code:Q.invalid_type,expected:ce.object,received:d.parsedType}),Ae}let{status:n,ctx:o}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),u=[];if(!(this._def.catchall instanceof Nr&&this._def.unknownKeys==="strip"))for(let d in o.data)i.includes(d)||u.push(d);let f=[];for(let d of i){let w=s[d],b=o.data[d];f.push({key:{status:"valid",value:d},value:w._parse(new Br(o,b,o.path,d)),alwaysSet:d in o.data})}if(this._def.catchall instanceof Nr){let d=this._def.unknownKeys;if(d==="passthrough")for(let w of u)f.push({key:{status:"valid",value:w},value:{status:"valid",value:o.data[w]}});else if(d==="strict")u.length>0&&(ue(o,{code:Q.unrecognized_keys,keys:u}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let w of u){let b=o.data[w];f.push({key:{status:"valid",value:w},value:d._parse(new Br(o,b,o.path,w)),alwaysSet:w in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let d=[];for(let w of f){let b=await w.key;d.push({key:b,value:await w.value,alwaysSet:w.alwaysSet})}return d}).then(d=>Vt.mergeObjectSync(n,d)):Vt.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return Se.errToObj,new Lt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var o,s,i,u;let f=(i=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,t,n).message)!==null&&i!==void 0?i:n.defaultError;return t.code==="unrecognized_keys"?{message:(u=Se.errToObj(e).message)!==null&&u!==void 0?u:f}:{message:f}}}:{}})}strip(){return new Lt({...this._def,unknownKeys:"strip"})}passthrough(){return new Lt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Lt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Lt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Lt({...this._def,catchall:e})}pick(e){let t={};return We.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new Lt({...this._def,shape:()=>t})}omit(e){let t={};return We.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new Lt({...this._def,shape:()=>t})}deepPartial(){return hs(this)}partial(e){let t={};return We.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];e&&!e[n]?t[n]=o:t[n]=o.optional()}),new Lt({...this._def,shape:()=>t})}required(e){let t={};return We.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Cr;)s=s._def.innerType;t[n]=s}}),new Lt({...this._def,shape:()=>t})}keyof(){return Qd(We.objectKeys(this.shape))}};Lt.create=(r,e)=>new Lt({shape:()=>r,unknownKeys:"strip",catchall:Nr.create(),typeName:Ee.ZodObject,...Be(e)});Lt.strictCreate=(r,e)=>new Lt({shape:()=>r,unknownKeys:"strict",catchall:Nr.create(),typeName:Ee.ZodObject,...Be(e)});Lt.lazycreate=(r,e)=>new Lt({shape:r,unknownKeys:"strip",catchall:Nr.create(),typeName:Ee.ZodObject,...Be(e)});var No=class extends Te{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function o(s){for(let u of s)if(u.result.status==="valid")return u.result;for(let u of s)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let i=s.map(u=>new cr(u.ctx.common.issues));return ue(t,{code:Q.invalid_union,unionErrors:i}),Ae}if(t.common.async)return Promise.all(n.map(async s=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(o);{let s,i=[];for(let f of n){let d={...t,common:{...t.common,issues:[]},parent:null},w=f._parseSync({data:t.data,path:t.path,parent:d});if(w.status==="valid")return w;w.status==="dirty"&&!s&&(s={result:w,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;let u=i.map(f=>new cr(f));return ue(t,{code:Q.invalid_union,unionErrors:u}),Ae}}get options(){return this._def.options}};No.create=(r,e)=>new No({options:r,typeName:Ee.ZodUnion,...Be(e)});var Aa=r=>r instanceof Do?Aa(r.schema):r instanceof Sr?Aa(r.innerType()):r instanceof qo?[r.value]:r instanceof Xr?r.options:r instanceof Fo?Object.keys(r.enum):r instanceof Ho?Aa(r._def.innerType):r instanceof Lo?[void 0]:r instanceof Co?[null]:null,ms=class extends Te{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ce.object)return ue(t,{code:Q.invalid_type,expected:ce.object,received:t.parsedType}),Ae;let n=this.discriminator,o=t.data[n],s=this.optionsMap.get(o);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(ue(t,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let o=new Map;for(let s of t){let i=Aa(s.shape[e]);if(!i)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of i){if(o.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);o.set(u,s)}}return new ms({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...Be(n)})}};function Of(r,e){let t=Un(r),n=Un(e);if(r===e)return{valid:!0,data:r};if(t===ce.object&&n===ce.object){let o=We.objectKeys(e),s=We.objectKeys(r).filter(u=>o.indexOf(u)!==-1),i={...r,...e};for(let u of s){let f=Of(r[u],e[u]);if(!f.valid)return{valid:!1};i[u]=f.data}return{valid:!0,data:i}}else if(t===ce.array&&n===ce.array){if(r.length!==e.length)return{valid:!1};let o=[];for(let s=0;s<r.length;s++){let i=r[s],u=e[s],f=Of(i,u);if(!f.valid)return{valid:!1};o.push(f.data)}return{valid:!0,data:o}}else return t===ce.date&&n===ce.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Oo=class extends Te{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),o=(s,i)=>{if(Cf(s)||Cf(i))return Ae;let u=Of(s.value,i.value);return u.valid?((Nf(s)||Nf(i))&&t.dirty(),{status:t.value,value:u.data}):(ue(n,{code:Q.invalid_intersection_types}),Ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Oo.create=(r,e,t)=>new Oo({left:r,right:e,typeName:Ee.ZodIntersection,...Be(t)});var Tr=class extends Te{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.array)return ue(n,{code:Q.invalid_type,expected:ce.array,received:n.parsedType}),Ae;if(n.data.length<this._def.items.length)return ue(n,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&n.data.length>this._def.items.length&&(ue(n,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...n.data].map((i,u)=>{let f=this._def.items[u]||this._def.rest;return f?f._parse(new Br(n,i,n.path,u)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>Vt.mergeArray(t,i)):Vt.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Tr({...this._def,rest:e})}};Tr.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tr({items:r,typeName:Ee.ZodTuple,rest:null,...Be(e)})};var Uo=class extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return ue(n,{code:Q.invalid_type,expected:ce.object,received:n.parsedType}),Ae;let o=[],s=this._def.keyType,i=this._def.valueType;for(let u in n.data)o.push({key:s._parse(new Br(n,u,n.path,u)),value:i._parse(new Br(n,n.data[u],n.path,u))});return n.common.async?Vt.mergeObjectAsync(t,o):Vt.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof Te?new Uo({keyType:e,valueType:t,typeName:Ee.ZodRecord,...Be(n)}):new Uo({keyType:wr.create(),valueType:e,typeName:Ee.ZodRecord,...Be(t)})}},gs=class extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.map)return ue(n,{code:Q.invalid_type,expected:ce.map,received:n.parsedType}),Ae;let o=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([u,f],d)=>({key:o._parse(new Br(n,u,n.path,[d,"key"])),value:s._parse(new Br(n,f,n.path,[d,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let f of i){let d=await f.key,w=await f.value;if(d.status==="aborted"||w.status==="aborted")return Ae;(d.status==="dirty"||w.status==="dirty")&&t.dirty(),u.set(d.value,w.value)}return{status:t.value,value:u}})}else{let u=new Map;for(let f of i){let d=f.key,w=f.value;if(d.status==="aborted"||w.status==="aborted")return Ae;(d.status==="dirty"||w.status==="dirty")&&t.dirty(),u.set(d.value,w.value)}return{status:t.value,value:u}}}};gs.create=(r,e,t)=>new gs({valueType:e,keyType:r,typeName:Ee.ZodMap,...Be(t)});var bn=class extends Te{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.set)return ue(n,{code:Q.invalid_type,expected:ce.set,received:n.parsedType}),Ae;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(ue(n,{code:Q.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(ue(n,{code:Q.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());let s=this._def.valueType;function i(f){let d=new Set;for(let w of f){if(w.status==="aborted")return Ae;w.status==="dirty"&&t.dirty(),d.add(w.value)}return{status:t.value,value:d}}let u=[...n.data.values()].map((f,d)=>s._parse(new Br(n,f,n.path,d)));return n.common.async?Promise.all(u).then(f=>i(f)):i(u)}min(e,t){return new bn({...this._def,minSize:{value:e,message:Se.toString(t)}})}max(e,t){return new bn({...this._def,maxSize:{value:e,message:Se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};bn.create=(r,e)=>new bn({valueType:r,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Be(e)});var Dn=class extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ce.function)return ue(t,{code:Q.invalid_type,expected:ce.function,received:t.parsedType}),Ae;function n(u,f){return Ba({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ra(),yi].filter(d=>!!d),issueData:{code:Q.invalid_arguments,argumentsError:f}})}function o(u,f){return Ba({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ra(),yi].filter(d=>!!d),issueData:{code:Q.invalid_return_type,returnTypeError:f}})}let s={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Fn){let u=this;return ur(async function(...f){let d=new cr([]),w=await u._def.args.parseAsync(f,s).catch(A=>{throw d.addIssue(n(f,A)),d}),b=await Reflect.apply(i,this,w);return await u._def.returns._def.type.parseAsync(b,s).catch(A=>{throw d.addIssue(o(b,A)),d})})}else{let u=this;return ur(function(...f){let d=u._def.args.safeParse(f,s);if(!d.success)throw new cr([n(f,d.error)]);let w=Reflect.apply(i,this,d.data),b=u._def.returns.safeParse(w,s);if(!b.success)throw new cr([o(w,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Dn({...this._def,args:Tr.create(e).rest(gn.create())})}returns(e){return new Dn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Dn({args:e||Tr.create([]).rest(gn.create()),returns:t||gn.create(),typeName:Ee.ZodFunction,...Be(n)})}},Do=class extends Te{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Do.create=(r,e)=>new Do({getter:r,typeName:Ee.ZodLazy,...Be(e)});var qo=class extends Te{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ue(t,{received:t.data,code:Q.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:e.data}}get value(){return this._def.value}};qo.create=(r,e)=>new qo({value:r,typeName:Ee.ZodLiteral,...Be(e)});function Qd(r,e){return new Xr({values:r,typeName:Ee.ZodEnum,...Be(e)})}var Xr=class extends Te{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return ue(t,{expected:We.joinValues(n),received:t.parsedType,code:Q.invalid_type}),Ae}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),n=this._def.values;return ue(t,{received:t.data,code:Q.invalid_enum_value,options:n}),Ae}return ur(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return Xr.create(e)}exclude(e){return Xr.create(this.options.filter(t=>!e.includes(t)))}};Xr.create=Qd;var Fo=class extends Te{_parse(e){let t=We.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ce.string&&n.parsedType!==ce.number){let o=We.objectValues(t);return ue(n,{expected:We.joinValues(o),received:n.parsedType,code:Q.invalid_type}),Ae}if(t.indexOf(e.data)===-1){let o=We.objectValues(t);return ue(n,{received:n.data,code:Q.invalid_enum_value,options:o}),Ae}return ur(e.data)}get enum(){return this._def.values}};Fo.create=(r,e)=>new Fo({values:r,typeName:Ee.ZodNativeEnum,...Be(e)});var Fn=class extends Te{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ce.promise&&t.common.async===!1)return ue(t,{code:Q.invalid_type,expected:ce.promise,received:t.parsedType}),Ae;let n=t.parsedType===ce.promise?t.data:Promise.resolve(t.data);return ur(n.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Fn.create=(r,e)=>new Fn({type:r,typeName:Ee.ZodPromise,...Be(e)});var Sr=class extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:i=>{ue(n,i),i.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let i=o.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(i).then(u=>this._def.schema._parseAsync({data:u,path:n.path,parent:n})):this._def.schema._parseSync({data:i,path:n.path,parent:n})}if(o.type==="refinement"){let i=u=>{let f=o.refinement(u,s);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Ae:(u.status==="dirty"&&t.dirty(),i(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Ae:(u.status==="dirty"&&t.dirty(),i(u.value).then(()=>({status:t.value,value:u.value}))))}if(o.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mi(i))return i;let u=o.transform(i.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>mi(i)?Promise.resolve(o.transform(i.value,s)).then(u=>({status:t.value,value:u})):i);We.assertNever(o)}};Sr.create=(r,e,t)=>new Sr({schema:r,typeName:Ee.ZodEffects,effect:e,...Be(t)});Sr.createWithPreprocess=(r,e,t)=>new Sr({schema:e,effect:{type:"preprocess",transform:r},typeName:Ee.ZodEffects,...Be(t)});var Cr=class extends Te{_parse(e){return this._getType(e)===ce.undefined?ur(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Cr.create=(r,e)=>new Cr({innerType:r,typeName:Ee.ZodOptional,...Be(e)});var wn=class extends Te{_parse(e){return this._getType(e)===ce.null?ur(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};wn.create=(r,e)=>new wn({innerType:r,typeName:Ee.ZodNullable,...Be(e)});var Ho=class extends Te{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Ho.create=(r,e)=>new Ho({innerType:r,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});var xs=class extends Te{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ta(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new cr(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new cr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};xs.create=(r,e)=>new xs({innerType:r,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});var bs=class extends Te{_parse(e){if(this._getType(e)!==ce.nan){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ce.nan,received:n.parsedType}),Ae}return{status:"valid",value:e.data}}};bs.create=r=>new bs({typeName:Ee.ZodNaN,...Be(r)});var m2=Symbol("zod_brand"),Pa=class extends Te{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},jo=class extends Te{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ae:s.status==="dirty"?(t.dirty(),Jd(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ae:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,t){return new jo({in:e,out:t,typeName:Ee.ZodPipeline})}},ws=class extends Te{_parse(e){let t=this._def.innerType._parse(e);return mi(t)&&(t.value=Object.freeze(t.value)),t}};ws.create=(r,e)=>new ws({innerType:r,typeName:Ee.ZodReadonly,...Be(e)});var Xd=(r,e={},t)=>r?qn.create().superRefine((n,o)=>{var s,i;if(!r(n)){let u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,f=(i=(s=u.fatal)!==null&&s!==void 0?s:t)!==null&&i!==void 0?i:!0,d=typeof u=="string"?{message:u}:u;o.addIssue({code:"custom",...d,fatal:f})}}):qn.create(),g2={object:Lt.lazycreate},Ee;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));var x2=(r,e={message:`Input not instance of ${r.name}`})=>Xd(t=>t instanceof r,e),ey=wr.create,ty=Jr.create,b2=bs.create,w2=Qr.create,ry=Mo.create,v2=xn.create,S2=ds.create,_2=Lo.create,E2=Co.create,k2=qn.create,I2=gn.create,A2=Nr.create,R2=ys.create,B2=vr.create,T2=Lt.create,P2=Lt.strictCreate,z2=No.create,M2=ms.create,L2=Oo.create,C2=Tr.create,N2=Uo.create,O2=gs.create,U2=bn.create,D2=Dn.create,q2=Do.create,F2=qo.create,H2=Xr.create,j2=Fo.create,W2=Fn.create,Zd=Sr.create,$2=Cr.create,K2=wn.create,V2=Sr.createWithPreprocess,G2=jo.create,Z2=()=>ey().optional(),Y2=()=>ty().optional(),J2=()=>ry().optional(),Q2={string:r=>wr.create({...r,coerce:!0}),number:r=>Jr.create({...r,coerce:!0}),boolean:r=>Mo.create({...r,coerce:!0}),bigint:r=>Qr.create({...r,coerce:!0}),date:r=>xn.create({...r,coerce:!0})},X2=Ae,c=Object.freeze({__proto__:null,defaultErrorMap:yi,setErrorMap:n2,getErrorMap:Ra,makeIssue:Ba,EMPTY_PATH:o2,addIssueToContext:ue,ParseStatus:Vt,INVALID:Ae,DIRTY:Jd,OK:ur,isAborted:Cf,isDirty:Nf,isValid:mi,isAsync:Ta,get util(){return We},get objectUtil(){return Lf},ZodParsedType:ce,getParsedType:Un,ZodType:Te,ZodString:wr,ZodNumber:Jr,ZodBigInt:Qr,ZodBoolean:Mo,ZodDate:xn,ZodSymbol:ds,ZodUndefined:Lo,ZodNull:Co,ZodAny:qn,ZodUnknown:gn,ZodNever:Nr,ZodVoid:ys,ZodArray:vr,ZodObject:Lt,ZodUnion:No,ZodDiscriminatedUnion:ms,ZodIntersection:Oo,ZodTuple:Tr,ZodRecord:Uo,ZodMap:gs,ZodSet:bn,ZodFunction:Dn,ZodLazy:Do,ZodLiteral:qo,ZodEnum:Xr,ZodNativeEnum:Fo,ZodPromise:Fn,ZodEffects:Sr,ZodTransformer:Sr,ZodOptional:Cr,ZodNullable:wn,ZodDefault:Ho,ZodCatch:xs,ZodNaN:bs,BRAND:m2,ZodBranded:Pa,ZodPipeline:jo,ZodReadonly:ws,custom:Xd,Schema:Te,ZodSchema:Te,late:g2,get ZodFirstPartyTypeKind(){return Ee},coerce:Q2,any:k2,array:B2,bigint:w2,boolean:ry,date:v2,discriminatedUnion:M2,effect:Zd,enum:H2,function:D2,instanceof:x2,intersection:L2,lazy:q2,literal:F2,map:O2,nan:b2,nativeEnum:j2,never:A2,null:E2,nullable:K2,number:ty,object:T2,oboolean:J2,onumber:Y2,optional:$2,ostring:Z2,pipeline:G2,preprocess:V2,promise:W2,record:N2,set:U2,strictObject:P2,string:ey,symbol:S2,transformer:Zd,tuple:C2,undefined:_2,union:z2,unknown:I2,void:R2,NEVER:X2,ZodIssueCode:Q,quotelessJson:r2,ZodError:cr});h();var Ry=ze(ls());h();h();h();h();var ny="logger/5.7.0";var oy=!1,sy=!1,za={debug:1,default:2,info:2,warning:3,error:4,off:5},iy=za.default,Uf=null;function eE(){try{let r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}var ay=eE(),Df;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Df||(Df={}));var Or;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Or||(Or={}));var cy="0123456789abcdef",Je=class{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let n=e.toLowerCase();za[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(iy>za[n])&&console.log.apply(console,t)}debug(...e){this._log(Je.levels.DEBUG,e)}info(...e){this._log(Je.levels.INFO,e)}warn(...e){this._log(Je.levels.WARNING,e)}makeError(e,t,n){if(sy)return this.makeError("censored error",t,{});t||(t=Je.errors.UNKNOWN_ERROR),n||(n={});let o=[];Object.keys(n).forEach(f=>{let d=n[f];try{if(d instanceof Uint8Array){let w="";for(let b=0;b<d.length;b++)w+=cy[d[b]>>4],w+=cy[d[b]&15];o.push(f+"=Uint8Array(0x"+w+")")}else o.push(f+"="+JSON.stringify(d))}catch{o.push(f+"="+JSON.stringify(n[f].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);let s=e,i="";switch(t){case Or.NUMERIC_FAULT:{i="NUMERIC_FAULT";let f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":i+="-"+f;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result";break}break}case Or.CALL_EXCEPTION:case Or.INSUFFICIENT_FUNDS:case Or.MISSING_NEW:case Or.NONCE_EXPIRED:case Or.REPLACEMENT_UNDERPRICED:case Or.TRANSACTION_REPLACED:case Or.UNPREDICTABLE_GAS_LIMIT:i=t;break}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),o.length&&(e+=" ("+o.join(", ")+")");let u=new Error(e);return u.reason=s,u.code=t,Object.keys(n).forEach(function(f){u[f]=n[f]}),u}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Je.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),ay&&this.throwError("platform missing String.prototype.normalize",Je.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ay})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Je.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Je.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Je.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Je.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Je.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Uf||(Uf=new Je(ny)),Uf}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),oy){if(!e)return;this.globalLogger().throwError("error censorship permanent",Je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}sy=!!e,oy=!!t}static setLogLevel(e){let t=za[e.toLowerCase()];if(t==null){Je.globalLogger().warn("invalid log level - "+e);return}iy=t}static from(e){return new Je(e)}};Je.errors=Or;Je.levels=Df;h();var uy="bytes/5.7.0";var qf=new Je(uy);function tE(r){return!!r.toHexString}function Ma(r){return r.slice||(r.slice=function(){let e=Array.prototype.slice.call(arguments);return Ma(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function fy(r){return typeof r=="number"&&r==r&&r%1===0}function rE(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!fy(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){let t=r[e];if(!fy(t)||t<0||t>=256)return!1}return!0}function La(r,e){if(e||(e={}),typeof r=="number"){qf.checkSafeUint53(r,"invalid arrayify value");let t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Ma(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),tE(r)&&(r=r.toHexString()),Ff(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":qf.throwArgumentError("hex data is odd-length","value",r));let n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return Ma(new Uint8Array(n))}return rE(r)?Ma(new Uint8Array(r)):qf.throwArgumentError("invalid arrayify value","value",r)}function Ff(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}h();h();var dy=ze(Ca());h();var hy="bignumber/5.7.0";var nE=dy.default.BN,uM=new Je(hy);function jf(r){return new nE(r,36).toString(16)}h();var my=ze(yy());function gy(r){return"0x"+my.default.keccak_256(La(r))}h();var xy="address/5.7.0";var gi=new Je(xy);function by(r){Ff(r,20)||gi.throwArgumentError("invalid address","address",r),r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let o=0;o<40;o++)t[o]=e[o].charCodeAt(0);let n=La(gy(t));for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(n[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}var sE=9007199254740991;function iE(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var Wf={};for(let r=0;r<10;r++)Wf[String(r)]=String(r);for(let r=0;r<26;r++)Wf[String.fromCharCode(65+r)]=String(10+r);var wy=Math.floor(iE(sE));function aE(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Wf[n]).join("");for(;e.length>=wy;){let n=e.substring(0,wy);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function cE(r){let e=null;if(typeof r!="string"&&gi.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=by(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&gi.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==aE(r)&&gi.throwArgumentError("bad icap checksum","address",r),e=jf(r.substring(4));e.length<40;)e="0"+e;e=by("0x"+e)}else gi.throwArgumentError("invalid address","address",r);return e}function vy(r){try{return cE(r),!0}catch{}return!1}var Da=ze(Hn());var Ze=c.string().min(2,{message:"Must be 2 or more characters long"}).regex(/^0x[0-9A-Fa-f]*$/,{message:"String must be '0x'-prefixed and followed by valid hex characters"}),H=c.number().transform(r=>`0x${r.toString(16)}`).or(Ze.min(3,{message:"Must be 3 or more characters long (should always have at least one digit - zero is '0x0')."})).refine(r=>r==="0x0"?!0:r[2]!=="0",{message:"Invalid hex quantity: leading zero digits are not allowed."}),Le=Ze.refine(r=>r.length%2===0,{message:"Invalid hex-encoded data: must be even number of digits"}),vs=c.string().transform(r=>{let e=Le.safeParse(r);return e.success?e.data:`0x${Ry.Buffer.from(r).toString("hex")}`}),Kf=c.union([c.string(),c.number()]).transform((r,e)=>{if(typeof r=="number")return r;let t=r.startsWith("0x")?16:10,n=parseInt(r,t);return Number.isNaN(n)&&e.addIssue({code:c.ZodIssueCode.custom,message:"Could not parse as LenientInteger"}),n}),Vf=r=>Le.refine(e=>e.length===r*2+2,{message:`Invalid byte length. (Expected ${r} bytes)`}),pe=Ze.refine(vy,{message:"Invalid Ethereum address."}),we=Vf(32),Gf=Vf(256),tn=c.object({blockHash:we,address:pe,logIndex:H,data:Le,removed:c.boolean().optional(),topics:c.array(we),blockNumber:H.nullable(),transactionIndex:H,transactionHash:we}),xi=c.object({transactionHash:we,transactionIndex:H,blockHash:we,blockNumber:H,from:pe,to:pe.nullable().optional(),root:we.optional(),status:c.literal("0x1").or(c.literal("0x0")).optional(),cumulativeGasUsed:H,gasUsed:H,contractAddress:pe.nullable(),logs:c.array(tn),logsBloom:Gf,effectiveGasPrice:H.optional(),type:H.optional()}),bi=c.object({from:pe.optional(),chainId:H.optional(),to:pe.optional(),gas:H.optional(),gasPrice:H.optional(),value:H.optional(),data:Le.optional(),nonce:H.optional()}),vn=c.object({name:c.string(),type:c.string()}),qa=c.array(vn),By=c.object({chainId:Kf.optional(),name:c.string(),verifyingContract:pe,version:c.string().optional()}),Zf=c.object({type:c.string(),name:c.string(),value:c.string()}).array(),Fa=c.object({domain:By,message:c.record(c.any()),primaryType:c.string(),types:c.object({EIP712Domain:qa}).and(c.record(vn.array()))}),Yf=c.object({chainId:Kf.optional(),name:c.string().optional(),verifyingContract:pe.optional(),version:c.string().optional(),salt:c.string().optional()}),Ha=c.object({domain:Yf,message:c.record(c.any()),primaryType:c.string(),types:c.object({EIP712Domain:qa}).and(c.record(vn.array()))}),Ty=c.object({name:c.literal("owner"),type:c.literal("address")}),Py=c.object({name:c.literal("spender"),type:c.literal("address")}),zy=c.object({name:c.literal("value"),type:c.literal("uint256")}),My=c.object({name:c.literal("value"),type:c.literal("uint256")}),Ly=c.object({name:c.literal("deadline"),type:c.literal("uint256")}),Cy=c.tuple([vn,vn,vn,vn,vn]).refine(r=>{let e=[Ty,Py,zy,My,Ly],t=new Set(["owner","spender","value","nonce","deadline"]);for(let n of r)for(let o of e){let s=o.safeParse(n);s.success&&t.delete(s.data.name)}return t.size===0}).transform(()=>[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]),Ny=c.literal("Permit"),Oy=c.object({EIP712Domain:qa,Permit:Cy}),Uy=c.object({owner:pe,spender:pe,value:H,nonce:H,deadline:H}),pE=c.object({domain:Yf,primaryType:Ny,types:Oy,message:Uy}),Jf=(n=>(n.legacy="0x0",n.eip2930="0x1",n.eip1559="0x2",n))(Jf||{}),Dy=c.tuple([pe,c.array(we)]),$o=c.object({chainId:H.optional(),data:Le.optional(),from:pe,gas:H.optional(),gasPrice:H.optional(),nonce:H.optional(),to:pe.optional(),value:H.optional(),type:c.nativeEnum(Jf).optional(),accessList:c.array(Dy).optional(),maxPriorityFeePerGas:H.optional(),maxFeePerGas:H.optional(),gasLimit:H.optional()}).transform(r=>(r.gas==null&&r.gasLimit!=null&&(r.gas=r.gasLimit,delete r.gasLimit),r)).brand("EthUnsignedTransactionObject"),rn=c.object({blockHash:we.nullish(),blockNumber:H.nullish(),from:pe,gas:H,gasPrice:H.nullish(),hash:we,input:Le,nonce:H,to:pe.nullable(),transactionIndex:H.nullish(),value:H,v:H,r:H,s:H}),Qf=c.object({address:pe.optional(),balance:H,codeHash:we,nonce:H,storageHash:we,accountProof:c.array(Ze),storageProof:c.array(c.object({key:H,value:H,proof:c.array(Ze)}))}),et=c.literal("latest").or(c.literal("earliest")).or(c.literal("pending")).or(c.literal("finalized")),Sn=c.object({number:H.nullable(),hash:we.nullable(),parentHash:we,nonce:Vf(8).nullable(),sha3Uncles:we,logsBloom:Gf.nullable(),transactionsRoot:we,stateRoot:we,receiptsRoot:we,miner:pe.nullable(),mixHash:we.optional(),difficulty:H,totalDifficulty:H.nullable(),extraData:Le,size:H,gasLimit:H,gasUsed:H,timestamp:H,transactions:c.array(rn).or(c.array(we)),uncles:c.array(we),baseFeePerGas:H.optional()}),wi=c.enum(["CONTINUE_WITH_PHANTOM","CONTINUE_WITH_METAMASK","ALWAYS_USE_PHANTOM","ALWAYS_USE_METAMASK"]),vi=c.string().refine(r=>{try{return Da.default.decode(r).byteLength===32}catch(e){return!1}},{message:"String must be a valid solana public key of 32 bytes"}),qy=c.union([c.literal("bip122_p2tr"),c.literal("bip122_p2wpkh"),c.literal("bip122_p2sh"),c.literal("bip122_p2pkh")]),Fy=c.object({address:c.string(),publicKey:c.string(),addressType:qy}),Ko=Fy.and(c.object({purpose:c.union([c.literal("payment"),c.literal("ordinals")])})),hE=c.string().refine(r=>{try{return Da.default.decode(r).byteLength===64}catch(e){return!1}},{message:"String must be a valid solana address of 64 bytes"}),Fe=c.string().refine(r=>{try{return Da.default.decode(r),!0}catch(e){return!1}},{message:"String must be a base 58 encoded"}),Me=c.object({url:c.string().url(),title:c.string(),icon:c.string().nullable(),tabId:c.number().optional()}),Hy=c.array(c.any()),ja=c.unknown().transform((r,e)=>typeof r=="object"&&r!==null?r:(e.addIssue({code:c.ZodIssueCode.custom,message:"Not an object"}),c.NEVER)),Ss=c.union([c.null(),c.string(),c.number(),c.boolean(),Hy,ja]),Si=c.literal("2.0"),_s=c.union([c.string(),c.number(),c.null()]),Wa=c.object({jsonrpc:c.literal("2.0"),id:_s,method:c.string(),params:Ss.optional()}),Xf=c.array(Wa),_i=c.object({jsonrpc:c.literal("2.0"),method:c.string(),params:Ss}),$a=(A=>(A[A.ParseError=-32700]="ParseError",A[A.InternalError=-32603]="InternalError",A[A.InvalidParams=-32602]="InvalidParams",A[A.MethodNotFound=-32601]="MethodNotFound",A[A.InvalidRequest=-32600]="InvalidRequest",A[A.TransactionRejected=-32003]="TransactionRejected",A[A.ResourceUnavailable=-32002]="ResourceUnavailable",A[A.InvalidInput=-32e3]="InvalidInput",A[A.UserRejectedRequest=4001]="UserRejectedRequest",A[A.Unauthorized=4100]="Unauthorized",A[A.Disconnected=4900]="Disconnected",A[A.ChainDisconnected=4901]="ChainDisconnected",A[A.ExecutionReverted=3]="ExecutionReverted",A))($a||{});var P=c.object({code:c.nativeEnum($a).or(c.number()),message:c.string()}),jy=c.object({error:P}).or(c.object({result:Ss})),Ka=c.object({jsonrpc:c.literal("2.0"),id:_s}).and(jy),el=c.array(Ka),Ei=c.object({domain:c.string().optional(),address:c.string().optional(),statement:c.string().optional(),uri:c.string().optional(),version:c.string().optional(),chainId:c.string().optional(),nonce:c.string().optional(),issuedAt:c.string().optional(),expirationTime:c.string().optional(),notBefore:c.string().optional(),requestId:c.string().optional(),resources:c.array(c.string()).optional()}),Wy=c.literal("mainnet"),$y=c.literal("testnet"),Ky=c.literal("devnet"),Vy=c.literal("localnet"),Gy=c.enum([Wy.value,$y.value,Ky.value,Vy.value]),Zy=c.literal("1"),Yy=c.literal("5"),Jy=c.literal("11155111"),Qy=c.enum([Zy.value,Yy.value,Jy.value]),Xy=c.literal("0x1"),em=c.literal("0x5"),tm=c.literal("0xaa36a7"),Va=c.enum([Xy.value,em.value,tm.value]),rm=c.literal("137"),nm=c.literal("80001"),om=c.enum([rm.value,nm.value]),sm=c.literal("0x89"),im=c.literal("0x13881"),Ga=c.enum([sm.value,im.value]);h();function z(r,e){return c.object({jsonrpc:Si,id:_s,method:r,params:e})}function M(r,e){return c.object({jsonrpc:Si,id:_s}).and(c.object({result:r}).or(c.object({error:e})))}function Ur(r,e){return c.object({jsonrpc:Si,method:r,params:e})}var am=c.literal("btc_requestAccounts"),cm=c.tuple([]),um=c.array(Ko),fm=P,dE=z(am,cm),yE=M(um,fm);var rl={};Z(rl,{error:()=>dm,method:()=>lm,params:()=>pm,request:()=>mE,response:()=>gE,result:()=>hm});h();var lm=c.literal("btc_signPSBT"),pm=c.tuple([c.instanceof(Uint8Array),c.object({inputsToSign:c.array(c.object({address:c.string(),signingIndexes:c.array(c.number()),sigHash:c.number().optional()})),finalize:c.boolean()})]),hm=c.instanceof(Uint8Array),dm=P,mE=z(lm,pm),gE=M(hm,dm);var nl={};Z(nl,{error:()=>xm,method:()=>ym,params:()=>mm,request:()=>xE,response:()=>bE,result:()=>gm});h();var ym=c.literal("btc_signMessage"),mm=c.object({address:c.string(),message:c.instanceof(Uint8Array)}),gm=c.object({signature:c.instanceof(Uint8Array),signedMessage:c.instanceof(Uint8Array)}),xm=P,xE=z(ym,mm),bE=M(gm,xm);h();var ol={};Z(ol,{error:()=>Sm,method:()=>bm,params:()=>wm,request:()=>vE,response:()=>SE,result:()=>vm});h();var bm=c.literal("eth_accounts"),wm=c.tuple([]),vm=c.array(pe),Sm=P,vE=z(bm,wm),SE=M(vm,Sm);var sl={};Z(sl,{error:()=>Im,method:()=>_m,params:()=>Em,request:()=>_E,response:()=>EE,result:()=>km});h();var _m=c.literal("eth_blockNumber"),Em=c.tuple([]),km=H,Im=P,_E=z(_m,Em),EE=M(km,Im);var il={};Z(il,{error:()=>Tm,method:()=>Am,params:()=>Rm,request:()=>kE,response:()=>IE,result:()=>Bm});h();var Am=c.literal("eth_call"),Rm=c.tuple([bi,H.or(et)]),Bm=Le,Tm=P,kE=z(Am,Rm),IE=M(Bm,Tm);var al={};Z(al,{error:()=>Lm,method:()=>Pm,params:()=>zm,request:()=>AE,response:()=>RE,result:()=>Mm});h();var Pm=c.literal("eth_cancelPrivateTransaction"),zm=c.tuple([c.object({txHash:we})]),Mm=c.boolean(),Lm=P,AE=z(Pm,zm),RE=M(Mm,Lm);var cl={};Z(cl,{error:()=>Um,method:()=>Cm,params:()=>Nm,request:()=>BE,response:()=>TE,result:()=>Om});h();var Cm=c.literal("eth_chainId"),Nm=c.tuple([]),Om=Ze,Um=P,BE=z(Cm,Nm),TE=M(Om,Um);var ul={};Z(ul,{error:()=>Hm,method:()=>Dm,params:()=>qm,request:()=>PE,response:()=>zE,result:()=>Fm});h();var Dm=c.literal("eth_estimateGas"),qm=c.tuple([bi]),Fm=H,Hm=P,PE=z(Dm,qm),zE=M(Fm,Hm);var fl={};Z(fl,{error:()=>Km,method:()=>jm,params:()=>Wm,request:()=>ME,response:()=>LE,result:()=>$m});h();var jm=c.literal("eth_feeHistory"),Wm=c.tuple([c.number(),H.or(et),c.array(c.number()).optional()]),$m=c.object({oldestBlock:c.number(),reward:c.array(c.tuple([H,H])).optional(),baseFeePerGas:c.array(H),gasUsedRatio:c.array(c.number())}),Km=P,ME=z(jm,Wm),LE=M($m,Km);var ll={};Z(ll,{error:()=>Ym,method:()=>Vm,params:()=>Gm,request:()=>CE,response:()=>NE,result:()=>Zm});h();var Vm=c.literal("eth_gasPrice"),Gm=c.tuple([]),Zm=H,Ym=P,CE=z(Vm,Gm),NE=M(Zm,Ym);var pl={};Z(pl,{error:()=>e0,method:()=>Jm,params:()=>Qm,request:()=>OE,response:()=>UE,result:()=>Xm});h();var Jm=c.literal("eth_getBalance"),Qm=c.tuple([pe,H.or(et)]),Xm=H,e0=P,OE=z(Jm,Qm),UE=M(Xm,e0);var hl={};Z(hl,{error:()=>o0,method:()=>t0,params:()=>r0,request:()=>DE,response:()=>qE,result:()=>n0});h();var t0=c.literal("eth_getBlockByHash"),r0=c.tuple([we,c.boolean()]),n0=Sn,o0=P,DE=z(t0,r0),qE=M(n0,o0);var dl={};Z(dl,{error:()=>c0,method:()=>s0,params:()=>i0,request:()=>FE,response:()=>HE,result:()=>a0});h();var s0=c.literal("eth_getBlockByNumber"),i0=c.tuple([H.or(et),c.boolean()]),a0=Sn,c0=P,FE=z(s0,i0),HE=M(a0,c0);var yl={};Z(yl,{error:()=>p0,method:()=>u0,params:()=>f0,request:()=>jE,response:()=>WE,result:()=>l0});h();var u0=c.literal("eth_getBlockReceipts"),f0=c.tuple([we.or(H).or(et)]),l0=c.array(xi),p0=P,jE=z(u0,f0),WE=M(l0,p0);var ml={};Z(ml,{error:()=>m0,method:()=>h0,params:()=>d0,request:()=>$E,response:()=>KE,result:()=>y0});h();var h0=c.literal("eth_getBlockTransactionCountByHash"),d0=c.tuple([we]),y0=H,m0=P,$E=z(h0,d0),KE=M(y0,m0);var gl={};Z(gl,{error:()=>w0,method:()=>g0,params:()=>x0,request:()=>VE,response:()=>GE,result:()=>b0});h();var g0=c.literal("eth_getBlockTransactionCountByNumber"),x0=c.tuple([H]),b0=H,w0=P,VE=z(g0,x0),GE=M(b0,w0);var xl={};Z(xl,{error:()=>E0,method:()=>v0,params:()=>S0,request:()=>ZE,response:()=>YE,result:()=>_0});h();var v0=c.literal("eth_getCode"),S0=c.tuple([pe,c.union([H,et])]),_0=Le,E0=P,ZE=z(v0,S0),YE=M(_0,E0);var bl={};Z(bl,{error:()=>R0,method:()=>k0,params:()=>I0,request:()=>JE,response:()=>QE,result:()=>A0});h();var k0=c.literal("eth_getFilterChanges"),I0=c.tuple([H]),A0=c.array(tn),R0=P,JE=z(k0,I0),QE=M(A0,R0);var wl={};Z(wl,{error:()=>z0,method:()=>B0,params:()=>T0,request:()=>XE,response:()=>ek,result:()=>P0});h();var B0=c.literal("eth_getFilterLogs"),T0=c.tuple([H]),P0=c.array(tn),z0=P,XE=z(B0,T0),ek=M(P0,z0);var vl={};Z(vl,{error:()=>N0,method:()=>M0,params:()=>L0,request:()=>tk,response:()=>rk,result:()=>C0});h();var M0=c.literal("eth_getLogs"),L0=c.tuple([c.object({fromBlock:H.or(et).optional(),toBlock:c.string().optional(),address:pe.optional(),topics:c.array(we).optional(),blockHash:we.optional()})]),C0=c.array(tn),N0=P,tk=z(M0,L0),rk=M(C0,N0);var Sl={};Z(Sl,{error:()=>q0,method:()=>O0,params:()=>U0,request:()=>nk,response:()=>ok,result:()=>D0});h();var O0=c.literal("eth_getProof"),U0=c.tuple([pe,c.array(we),H.or(et)]),D0=Qf,q0=P,nk=z(O0,U0),ok=M(D0,q0);var _l={};Z(_l,{error:()=>W0,method:()=>F0,params:()=>H0,request:()=>sk,response:()=>ik,result:()=>j0});h();var F0=c.literal("eth_getStorageAt"),H0=c.tuple([pe,H,H.or(et)]),j0=Le,W0=P,sk=z(F0,H0),ik=M(j0,W0);var El={};Z(El,{error:()=>G0,method:()=>$0,params:()=>K0,request:()=>ak,response:()=>ck,result:()=>V0});h();var $0=c.literal("eth_getTransactionByBlockHashAndIndex"),K0=c.tuple([we,H]),V0=rn.nullable(),G0=P,ak=z($0,K0),ck=M(V0,G0);var kl={};Z(kl,{error:()=>Q0,method:()=>Z0,params:()=>Y0,request:()=>uk,response:()=>fk,result:()=>J0});h();var Z0=c.literal("eth_getTransactionByBlockNumberAndIndex"),Y0=c.tuple([c.string(),H]),J0=rn,Q0=P,uk=z(Z0,Y0),fk=M(J0,Q0);var Il={};Z(Il,{error:()=>rg,method:()=>X0,params:()=>eg,request:()=>lk,response:()=>pk,result:()=>tg});h();var X0=c.literal("eth_getTransactionByHash"),eg=c.tuple([we]),tg=rn.nullable(),rg=P,lk=z(X0,eg),pk=M(tg,rg);var Al={};Z(Al,{error:()=>ig,method:()=>ng,params:()=>og,request:()=>hk,response:()=>dk,result:()=>sg});h();var ng=c.literal("eth_getTransactionCount"),og=c.tuple([pe,H.or(et)]),sg=H,ig=P,hk=z(ng,og),dk=M(sg,ig);var Rl={};Z(Rl,{error:()=>fg,method:()=>ag,params:()=>cg,request:()=>yk,response:()=>mk,result:()=>ug});h();var ag=c.literal("eth_getTransactionReceipt"),cg=c.tuple([we]),ug=xi.nullable(),fg=P,yk=z(ag,cg),mk=M(ug,fg);var Bl={};Z(Bl,{error:()=>dg,method:()=>lg,params:()=>pg,request:()=>gk,response:()=>xk,result:()=>hg});h();var lg=c.literal("eth_getUncleByBlockHashAndIndex"),pg=c.tuple([H.or(et),H]),hg=Sn,dg=P,gk=z(lg,pg),xk=M(hg,dg);var Tl={};Z(Tl,{error:()=>xg,method:()=>yg,params:()=>mg,request:()=>bk,response:()=>wk,result:()=>gg});h();var yg=c.literal("eth_getUncleByBlockNumberAndIndex"),mg=c.tuple([H.or(et),H]),gg=Sn,xg=P,bk=z(yg,mg),wk=M(gg,xg);var Pl={};Z(Pl,{error:()=>Sg,method:()=>bg,params:()=>wg,request:()=>vk,response:()=>Sk,result:()=>vg});h();var bg=c.literal("eth_getUncleCountByBlockHash"),wg=c.tuple([we]),vg=H,Sg=P,vk=z(bg,wg),Sk=M(vg,Sg);var zl={};Z(zl,{error:()=>Ig,method:()=>_g,params:()=>Eg,request:()=>_k,response:()=>Ek,result:()=>kg});h();var _g=c.literal("eth_getUncleCountByBlockNumber"),Eg=c.tuple([H.or(et)]),kg=H,Ig=P,_k=z(_g,Eg),Ek=M(kg,Ig);var Ml={};Z(Ml,{error:()=>Tg,method:()=>Ag,params:()=>Rg,request:()=>kk,response:()=>Ik,result:()=>Bg});h();var Ag=c.literal("eth_maxPriorityFeePerGas"),Rg=c.tuple([]),Bg=H,Tg=P,kk=z(Ag,Rg),Ik=M(Bg,Tg);var Ll={};Z(Ll,{error:()=>Lg,method:()=>Pg,params:()=>zg,request:()=>Ak,response:()=>Rk,result:()=>Mg});h();var Pg=c.literal("eth_newBlockFilter"),zg=c.tuple([]),Mg=H,Lg=P,Ak=z(Pg,zg),Rk=M(Mg,Lg);var Cl={};Z(Cl,{error:()=>Ug,method:()=>Cg,params:()=>Ng,request:()=>Bk,response:()=>Tk,result:()=>Og});h();var Cg=c.literal("eth_newFilter"),Ng=c.tuple([c.object({fromBlock:H.optional(),toBlock:H.optional(),address:pe.or(c.array(pe)).optional(),topics:c.array(Le.nullable().or(c.array(Le.nullable()))).optional()})]),Og=H,Ug=P,Bk=z(Cg,Ng),Tk=M(Og,Ug);var Nl={};Z(Nl,{error:()=>Hg,method:()=>Dg,params:()=>qg,request:()=>Pk,response:()=>zk,result:()=>Fg});h();var Dg=c.literal("eth_newPendingTransactionFilter"),qg=c.tuple([]),Fg=H,Hg=P,Pk=z(Dg,qg),zk=M(Fg,Hg);var Ol={};Z(Ol,{error:()=>Kg,method:()=>jg,params:()=>Wg,request:()=>Mk,response:()=>Lk,result:()=>$g});h();var jg=c.literal("personal_sign"),Wg=c.union([c.tuple([vs,pe]),c.tuple([vs,pe,c.unknown()])]),$g=Le,Kg=P,Mk=z(jg,Wg),Lk=M($g,Kg);var Ul={};Z(Ul,{error:()=>Yg,method:()=>Vg,params:()=>Gg,request:()=>Ck,response:()=>Nk,result:()=>Zg});h();var Vg=c.literal("eth_protocolVersion"),Gg=c.tuple([]),Zg=c.string(),Yg=P,Ck=z(Vg,Gg),Nk=M(Zg,Yg);var Dl={};Z(Dl,{error:()=>ex,method:()=>Jg,params:()=>Qg,request:()=>Ok,response:()=>Uk,result:()=>Xg});h();var Jg=c.literal("eth_requestAccounts"),Qg=c.tuple([]),Xg=c.array(pe),ex=P,Ok=z(Jg,Qg),Uk=M(Xg,ex);var ql={};Z(ql,{error:()=>ox,method:()=>tx,params:()=>rx,request:()=>Dk,response:()=>qk,result:()=>nx});h();var tx=c.literal("eth_sendPrivateTransaction"),rx=c.tuple([c.object({tx:we,maxBlockNumber:H.optional(),preferences:c.object({fast:c.boolean()}).optional()})]),nx=we,ox=P,Dk=z(tx,rx),qk=M(nx,ox);var Fl={};Z(Fl,{error:()=>cx,method:()=>sx,params:()=>ix,request:()=>Fk,response:()=>Hk,result:()=>ax});h();var sx=c.literal("eth_sendRawTransaction"),ix=c.tuple([Le]),ax=we,cx=P,Fk=z(sx,ix),Hk=M(ax,cx);var Hl={};Z(Hl,{error:()=>px,method:()=>ux,params:()=>fx,request:()=>jk,response:()=>Wk,result:()=>lx});h();var ux=c.literal("eth_sendTransaction"),fx=c.tuple([$o]),lx=we,px=P,jk=z(ux,fx),Wk=M(lx,px);var jl={};Z(jl,{error:()=>mx,method:()=>hx,params:()=>dx,request:()=>$k,response:()=>Kk,result:()=>yx});h();var hx=c.literal("eth_sign"),dx=c.tuple([pe,vs]),yx=Le,mx=P,$k=z(hx,dx),Kk=M(yx,mx);var Wl={};Z(Wl,{error:()=>wx,method:()=>gx,params:()=>xx,request:()=>Vk,response:()=>Gk,result:()=>bx});h();var gx=c.literal("eth_signTransaction"),xx=c.tuple([$o]),bx=Le,wx=P,Vk=z(gx,xx),Gk=M(bx,wx);var $l={};Z($l,{error:()=>Ex,method:()=>vx,params:()=>Sx,request:()=>Zk,response:()=>Yk,result:()=>_x});h();var vx=c.literal("eth_signTypedData"),Sx=c.tuple([Zf,pe]),_x=Le,Ex=P,Zk=z(vx,Sx),Yk=M(_x,Ex);var Kl={};Z(Kl,{error:()=>Rx,method:()=>kx,params:()=>Ix,request:()=>Jk,response:()=>Qk,result:()=>Ax});h();var kx=c.literal("eth_signTypedData_v3"),Ix=c.tuple([pe,c.string().transform((r,e)=>{try{let t=JSON.parse(r);return Fa.parse(t)}catch(t){return e.addIssue({code:c.ZodIssueCode.custom,message:"Invalid typed data:"+t.message,fatal:!0}),c.NEVER}}).or(Fa)]),Ax=Le,Rx=P,Jk=z(kx,Ix),Qk=M(Ax,Rx);var Vl={};Z(Vl,{error:()=>zx,method:()=>Bx,params:()=>Tx,request:()=>Xk,response:()=>eI,result:()=>Px});h();var Bx=c.literal("eth_signTypedData_v4"),Tx=c.tuple([pe,c.string().transform((r,e)=>{try{let t=JSON.parse(r);return Ha.parse(t)}catch(t){return e.addIssue({code:c.ZodIssueCode.custom,message:"Invalid typed data:"+t.message,fatal:!0}),c.NEVER}}).or(Ha)]),Px=Le,zx=P,Xk=z(Bx,Tx),eI=M(Px,zx);var Gl={};Z(Gl,{error:()=>Nx,method:()=>Mx,params:()=>Lx,request:()=>tI,response:()=>rI,result:()=>Cx});h();var Mx=c.literal("eth_subscribe"),Lx=c.union([c.tuple([c.union([c.literal("alchemy_pendingTransactions"),c.literal("newPendingTransactions"),c.literal("newHeads"),c.literal("logs")])]),c.tuple([c.union([c.literal("alchemy_pendingTransactions"),c.literal("newPendingTransactions"),c.literal("newHeads"),c.literal("logs")]),c.union([c.object({fromAddress:c.union([pe,c.array(pe)]).optional(),toAddress:c.union([pe,c.array(pe)]).optional(),hashesOnly:c.boolean().optional()}),c.object({address:c.union([pe,c.array(pe)]).optional(),topics:c.array(c.union([c.null(),pe,c.array(pe)]))})])])]),Cx=c.union([Ze,c.object({result:rn,subscription:Ze}),c.object({result:we,subscription:Ze}),c.object({result:c.object({difficulty:Ze,extraData:Ze,gasLimit:Ze,gasUsed:Ze,logsBloom:Ze,miner:pe,nonce:Ze,number:Ze,parentHash:we,receiptRoot:we,sha3Uncles:we,stateRoot:we,timestamp:Ze,transactionsRoot:we}),subscription:Ze}),c.object({result:tn,subscription:Ze})]),Nx=P,tI=z(Mx,Lx),rI=M(Cx,Nx);var Zl={};Z(Zl,{error:()=>qx,method:()=>Ox,params:()=>Ux,request:()=>nI,response:()=>oI,result:()=>Dx});h();var Ox=c.literal("eth_uninstallFilter"),Ux=c.tuple([H]),Dx=c.boolean(),qx=P,nI=z(Ox,Ux),oI=M(Dx,qx);var Yl={};Z(Yl,{error:()=>Wx,method:()=>Fx,params:()=>Hx,request:()=>sI,response:()=>iI,result:()=>jx});h();var Fx=c.literal("eth_unsubscribe"),Hx=c.tuple([H]),jx=c.boolean(),Wx=P,sI=z(Fx,Hx),iI=M(jx,Wx);var Jl={};Z(Jl,{error:()=>Gx,method:()=>$x,params:()=>Kx,request:()=>aI,response:()=>cI,result:()=>Vx});h();var $x=c.literal("net_listening"),Kx=c.tuple([]),Vx=c.boolean(),Gx=P,aI=z($x,Kx),cI=M(Vx,Gx);var Ql={};Z(Ql,{error:()=>Qx,method:()=>Zx,params:()=>Yx,request:()=>uI,response:()=>fI,result:()=>Jx});h();var Zx=c.literal("net_version"),Yx=c.tuple([]),Jx=c.string(),Qx=P,uI=z(Zx,Yx),fI=M(Jx,Qx);var Xl={};Z(Xl,{error:()=>rb,method:()=>Xx,params:()=>eb,request:()=>lI,response:()=>pI,result:()=>tb});h();var Xx=c.literal("wallet_addEthereumChain"),eb=c.tuple([c.object({chainId:Ze,chainName:c.string(),nativeCurrency:c.object({name:c.string(),symbol:c.string().refine(r=>{let{length:e}=r;return e>=2&&e<=6},{message:"Value is not a valid symbol."}),decimals:c.number()}),rpcUrls:c.array(c.string()),blockExplorerUrls:c.union([c.tuple([c.string()]),c.null()]).optional(),iconUrls:c.array(c.string()).optional()})]),tb=c.null(),rb=P,lI=z(Xx,eb),pI=M(tb,rb);var ep={};Z(ep,{error:()=>ib,method:()=>nb,params:()=>ob,request:()=>hI,response:()=>dI,result:()=>sb});h();var nb=c.literal("wallet_selectEthereumProvider"),ob=c.tuple([]),sb=wi,ib=P,hI=z(nb,ob),dI=M(sb,ib);var tp={};Z(tp,{error:()=>fb,method:()=>ab,params:()=>cb,request:()=>yI,response:()=>mI,result:()=>ub});h();var ab=c.literal("wallet_switchEthereumChain"),cb=c.tuple([c.object({chainId:Ze})]),ub=c.null(),fb=P,yI=z(ab,cb),mI=M(ub,fb);var rp={};Z(rp,{error:()=>db,method:()=>lb,params:()=>pb,request:()=>gI,response:()=>xI,result:()=>hb});h();var lb=c.literal("wallet_watchAsset"),pb=c.object({type:c.literal("ERC20"),options:c.object({address:pe,symbol:c.string(),decimals:c.number(),image:c.string()})}),hb=c.boolean(),db=P,gI=z(lb,pb),xI=M(hb,db);var np={};Z(np,{error:()=>xb,method:()=>yb,params:()=>mb,request:()=>bI,response:()=>wI,result:()=>gb});h();var yb=c.literal("web3_clientVersion"),mb=c.tuple([]),gb=c.string(),xb=P,bI=z(yb,mb),wI=M(gb,xb);var op={};Z(op,{error:()=>Sb,method:()=>bb,params:()=>wb,request:()=>vI,response:()=>SI,result:()=>vb});h();var bb=c.literal("web3_sha3"),wb=c.tuple([Le]),vb=Le,Sb=P,vI=z(bb,wb),SI=M(vb,Sb);var Es={};Z(Es,{phantom_accountChanged:()=>Za,phantom_chainChanged:()=>Ya,phantom_dappIcon:()=>Ja,phantom_dappMeta:()=>Qa,phantom_trustRevoked:()=>Xa});h();var Za={};Z(Za,{method:()=>_b,notification:()=>EI,params:()=>Eb});h();var _b=c.literal("phantom_accountChanged"),Eb=c.object({evm:c.optional(pe),sol:c.optional(vi),btc:c.array(Ko)}).nullable(),EI=Ur(_b,Eb);var Ya={};Z(Ya,{method:()=>kb,notification:()=>kI,params:()=>Ib});h();var kb=c.literal("phantom_chainChanged"),Ib=c.object({evm:c.optional(Va.or(Ga))}).nullable(),kI=Ur(kb,Ib);var Ja={};Z(Ja,{method:()=>Ab,notification:()=>II,params:()=>Rb});h();var Ab=c.literal("phantom_dappIcon"),Rb=c.string().nullable(),II=Ur(Ab,Rb);var Qa={};Z(Qa,{method:()=>Bb,notification:()=>AI,params:()=>Tb});h();var Bb=c.literal("phantom_dappMeta"),Tb=c.object({title:c.string(),url:c.string(),icons:c.object({href:c.string(),size:c.object({width:c.number(),height:c.number()})}).array()}),AI=Ur(Bb,Tb);var Xa={};Z(Xa,{method:()=>Pb,notification:()=>RI,params:()=>zb});h();var Pb=c.literal("phantom_trustRevoked"),zb=c.object({evm:c.optional(pe),sol:c.optional(vi),btc:c.array(Ko)}).nullable(),RI=Ur(Pb,zb);var Pr={};Z(Pr,{common:()=>nc,sol_connect:()=>ec,sol_disconnect:()=>tc,sol_signAllTransactions:()=>rc,sol_signAndSendAllTransactions:()=>sc,sol_signAndSendTransaction:()=>oc,sol_signIn:()=>ac,sol_signMessage:()=>ic,sol_signTransaction:()=>cc});h();var ec={};Z(ec,{error:()=>Nb,method:()=>Mb,params:()=>Lb,request:()=>BI,response:()=>TI,result:()=>Cb});h();var Mb=c.literal("sol_connect"),Lb=c.object({onlyIfTrusted:c.optional(c.boolean())}),Cb=c.object({publicKey:c.string()}),Nb=P,BI=z(Mb,Lb),TI=M(Cb,Nb);var tc={};Z(tc,{error:()=>qb,method:()=>Ob,params:()=>Ub,request:()=>PI,response:()=>zI,result:()=>Db});h();var Ob=c.literal("sol_disconnect"),Ub=Ss.optional(),Db=c.null(),qb=P,PI=z(Ob,Ub),zI=M(Db,qb);var rc={};Z(rc,{error:()=>Wb,method:()=>Fb,params:()=>Hb,request:()=>MI,response:()=>LI,result:()=>jb});h();var Fb=c.literal("sol_signAllTransactions"),Hb=c.object({transactions:c.array(Fe)}),jb=c.array(c.object({signature:c.string(),transaction:Fe,version:c.union([c.literal("legacy"),c.number()])})),Wb=P,MI=z(Fb,Hb),LI=M(jb,Wb);var oc={};Z(oc,{error:()=>Gb,method:()=>$b,params:()=>Kb,request:()=>CI,response:()=>NI,result:()=>Vb});h();var nc={};Z(nc,{SolanaProviderEvent:()=>sp,SolanaSendOptions:()=>ki});h();var ki=c.optional(c.object({skipPreflight:c.optional(c.boolean()),preflightCommitment:c.optional(c.union([c.literal("processed"),c.literal("confirmed"),c.literal("finalized"),c.literal("recent"),c.literal("single"),c.literal("singleGossip"),c.literal("root"),c.literal("max")])),maxRetries:c.optional(c.number()),minContextSlot:c.optional(c.number())})),sp=(n=>(n.Connect="connect",n.Disconnect="disconnect",n.AccountChanged="accountChanged",n))(sp||{}),jN=c.nativeEnum(sp);var $b=c.literal("sol_signAndSendTransaction"),Kb=c.object({transaction:Fe,options:ki}),Vb=c.object({signature:c.string(),publicKey:c.string()}),Gb=P,CI=z($b,Kb),NI=M(Vb,Gb);var sc={};Z(sc,{error:()=>Qb,method:()=>Zb,params:()=>Yb,request:()=>OI,response:()=>UI,result:()=>Jb});h();var Zb=c.literal("sol_signAndSendAllTransactions"),Yb=c.object({transactions:c.array(Fe),options:ki}),Jb=c.object({signatures:c.array(c.union([c.string(),c.null()])),publicKey:c.string()}),Qb=P,OI=z(Zb,Yb),UI=M(Jb,Qb);var ic={};Z(ic,{error:()=>rw,method:()=>Xb,params:()=>ew,request:()=>DI,response:()=>qI,result:()=>tw});h();var Xb=c.literal("sol_signMessage"),ew=c.object({message:Fe,display:c.union([c.literal("utf8"),c.literal("hex")])}),tw=c.object({signature:c.string(),publicKey:c.string()}),rw=P,DI=z(Xb,ew),qI=M(tw,rw);var ac={};Z(ac,{error:()=>iw,method:()=>nw,params:()=>ow,request:()=>FI,response:()=>HI,result:()=>sw});h();var nw=c.literal("sol_signIn"),ow=c.object({signInData:Ei}),sw=c.object({address:c.string(),signedMessage:c.string(),signature:c.string()}),iw=P,FI=z(nw,ow),HI=M(sw,iw);var cc={};Z(cc,{error:()=>fw,method:()=>aw,params:()=>cw,request:()=>jI,response:()=>WI,result:()=>uw});h();var aw=c.literal("sol_signTransaction"),cw=c.object({transaction:Fe}),uw=c.object({signature:c.string(),transaction:Fe,version:c.union([c.literal("legacy"),c.number()])}),fw=P,jI=z(aw,cw),WI=M(uw,fw);h();var ip={};Z(ip,{error:()=>dw,method:()=>lw,params:()=>pw,request:()=>$I,response:()=>KI,result:()=>hw});h();var lw=c.literal("user_approveBtcRequestAccounts"),pw=c.tuple([Me]),hw=c.null(),dw=P,$I=z(lw,pw),KI=M(hw,dw);var ap={};Z(ap,{error:()=>xw,method:()=>yw,params:()=>mw,request:()=>VI,response:()=>GI,result:()=>gw});h();var yw=c.literal("user_approveBtcSignPSBT"),mw=c.tuple([Me,c.object({psbt:c.instanceof(Uint8Array),sequenceId:c.string()})]),gw=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signature:c.string()})]),xw=P,VI=z(yw,mw),GI=M(gw,xw);var cp={};Z(cp,{error:()=>Sw,method:()=>bw,params:()=>ww,request:()=>ZI,response:()=>YI,result:()=>vw});h();var bw=c.literal("user_approveBtcSignMessage"),ww=c.tuple([Me,c.object({message:c.instanceof(Uint8Array),sequenceId:c.string()})]),vw=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signature:c.string()})]),Sw=P,ZI=z(bw,ww),YI=M(vw,Sw);var up={};Z(up,{error:()=>Iw,method:()=>_w,params:()=>Ew,request:()=>JI,response:()=>QI,result:()=>kw});h();var _w=c.literal("user_approveEthRequestAccounts"),Ew=c.tuple([Me]),kw=c.null(),Iw=P,JI=z(_w,Ew),QI=M(kw,Iw);var fp={};Z(fp,{error:()=>Tw,method:()=>Aw,params:()=>Rw,request:()=>XI,response:()=>eA,result:()=>Bw});h();h();var Xt=(A=>(A.OK="OK",A.FeatureFlagDisabled="FEATURE_FLAG_DISABLED",A.WalletLocked="WALLET_LOCKED",A.TabNotFocused="TAB_NOT_FOCUSED",A.Disabled="DISABLED",A.SessionExpired="SESSION_EXPIRED",A.RateLimitExceeded="RATE_LIMIT_EXCEEDED",A.SimulationFailed="SIMULATION_FAILED",A.UnsupportedDapp="UNSUPPORTED_DAPP",A.UnsupportedNetworkId="UNSUPPORTED_NETWORK_ID",A.UnsupportedMethod="UNSUPPORTED_METHOD",A.Unimplemented="UNIMPLEMENTED",A.Unknown="UNKNOWN",A))(Xt||{});var Aw=c.literal("user_approveEthSendTransaction"),Rw=c.tuple([Me,c.object({transaction:$o,autoConfirmStatusCode:c.nativeEnum(Xt),sequenceId:c.string()})]),Bw=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend"),maxFeePerGas:H,maxPriorityFeePerGas:H}),c.object({type:c.literal("send"),signature:Ze,maxFeePerGas:H,maxPriorityFeePerGas:H})]),Tw=P,XI=z(Aw,Rw),eA=M(Bw,Tw);var lp={};Z(lp,{error:()=>Lw,method:()=>Pw,params:()=>zw,request:()=>tA,response:()=>rA,result:()=>Mw});h();var Pw=c.literal("user_approveEthSignMessage"),zw=c.tuple([Me,c.object({signer:pe,message:Le,originalMethod:c.enum(["eth_sign","personal_sign","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"]),chainId:c.string(),autoConfirmStatusCode:c.nativeEnum(Xt),sequenceId:c.string()})]),Mw=c.discriminatedUnion("approvalType",[c.object({approvalType:c.literal("user")}),c.object({approvalType:c.literal("hardware"),signature:Ze})]),Lw=P,tA=z(Pw,zw),rA=M(Mw,Lw);var pp={};Z(pp,{error:()=>Uw,method:()=>Cw,params:()=>Nw,request:()=>nA,response:()=>oA,result:()=>Ow});h();var Cw=c.literal("user_approveSolConnect"),Nw=c.tuple([Me]),Ow=c.null(),Uw=P,nA=z(Cw,Nw),oA=M(Ow,Uw);var hp={};Z(hp,{error:()=>Hw,method:()=>Dw,params:()=>qw,request:()=>sA,response:()=>iA,result:()=>Fw});h();var Dw=c.literal("user_approveSolSignAllTransactions"),qw=c.tuple([Me,c.object({transactions:c.array(Fe),autoConfirmStatusCode:c.nativeEnum(Xt),sequenceId:c.string()})]),Fw=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),result:c.array(c.object({signedTransaction:Fe,signature:Fe,version:c.union([c.literal("legacy"),c.number()])}))})]),Hw=P,sA=z(Dw,qw),iA=M(Fw,Hw);var dp={};Z(dp,{error:()=>Kw,method:()=>jw,params:()=>Ww,request:()=>aA,response:()=>cA,result:()=>$w});h();var jw=c.literal("user_approveSolSignAndSendTransaction"),Ww=c.tuple([Me,c.object({transaction:c.string(),autoConfirmStatusCode:c.nativeEnum(Xt),sequenceId:c.string()})]),$w=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signedTransaction:Fe,signature:Fe,version:c.union([c.literal("legacy"),c.number()])})]),Kw=P,aA=z(jw,Ww),cA=M($w,Kw);var yp={};Z(yp,{error:()=>Yw,method:()=>Vw,params:()=>Gw,request:()=>uA,response:()=>fA,result:()=>Zw});h();var Vw=c.literal("user_approveSolSignAndSendAllTransactions"),Gw=c.tuple([Me,c.object({transactions:c.array(Fe),autoConfirmStatusCode:c.nativeEnum(Xt),sequenceId:c.string()})]),Zw=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),result:c.array(c.object({signedTransaction:Fe,signature:Fe,version:c.union([c.literal("legacy"),c.number()])}))})]),Yw=P,uA=z(Vw,Gw),fA=M(Zw,Yw);var mp={};Z(mp,{error:()=>e1,method:()=>Jw,params:()=>Qw,request:()=>lA,response:()=>pA,result:()=>Xw});h();var Jw=c.literal("user_approveSolSignIn"),Qw=c.tuple([Me,c.object({connect:c.boolean(),signInData:Ei,message:Fe,errorDetails:c.array(c.object({label:c.string(),message:c.string()})).optional(),sequenceId:c.string()})]),Xw=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signature:Fe})]),e1=P,lA=z(Jw,Qw),pA=M(Xw,e1);var gp={};Z(gp,{error:()=>o1,method:()=>t1,params:()=>r1,request:()=>hA,response:()=>dA,result:()=>n1});h();var t1=c.literal("user_approveSolSignMessage"),r1=c.tuple([Me,c.object({message:Fe,display:c.union([c.literal("utf8"),c.literal("hex")]),autoConfirmStatusCode:c.nativeEnum(Xt),sequenceId:c.string()})]),n1=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signature:Fe})]),o1=P,hA=z(t1,r1),dA=M(n1,o1);var xp={};Z(xp,{error:()=>c1,method:()=>s1,params:()=>i1,request:()=>yA,response:()=>mA,result:()=>a1});h();var s1=c.literal("user_approveSolSignTransaction"),i1=c.tuple([Me,c.object({transaction:c.string(),autoConfirmStatusCode:c.nativeEnum(Xt),sequenceId:c.string()})]),a1=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signedTransaction:Fe,signature:Fe,version:c.union([c.literal("legacy"),c.number()])})]),c1=P,yA=z(s1,i1),mA=M(a1,c1);var bp={};Z(bp,{error:()=>p1,method:()=>u1,params:()=>f1,request:()=>gA,response:()=>xA,result:()=>l1});h();var u1=c.literal("user_confirmEIP712IncorrectChainId"),f1=c.tuple([Me,c.object({connectedChainId:c.string(),messageChainId:c.string()})]),l1=c.null(),p1=P,gA=z(u1,f1),xA=M(l1,p1);var wp={};Z(wp,{error:()=>m1,method:()=>h1,params:()=>d1,request:()=>bA,response:()=>wA,result:()=>y1});h();var h1=c.literal("user_confirmIncorrectMode"),d1=c.tuple([Me,c.enum(["mainnet","testnet"])]),y1=c.null(),m1=P,bA=z(h1,d1),wA=M(y1,m1);var vp={};Z(vp,{error:()=>w1,method:()=>g1,params:()=>x1,request:()=>vA,response:()=>SA,result:()=>b1});h();var g1=c.literal("user_confirmUnsupportedAccount"),x1=c.tuple([Me,c.literal("ethereum").or(c.literal("solana"))]),b1=c.null(),w1=P,vA=z(g1,x1),SA=M(b1,w1);var Sp={};Z(Sp,{error:()=>E1,method:()=>v1,params:()=>S1,request:()=>_A,response:()=>EA,result:()=>_1});h();var v1=c.literal("user_confirmUnsupportedNetwork"),S1=c.tuple([Me]),_1=c.null(),E1=P,_A=z(v1,S1),EA=M(_1,E1);var _p={};Z(_p,{error:()=>R1,method:()=>k1,params:()=>I1,request:()=>kA,response:()=>IA,result:()=>A1});h();var k1=c.literal("user_selectEthWallet"),I1=c.tuple([Me]),A1=wi,R1=P,kA=z(k1,I1),IA=M(A1,R1);h();var Ej=ze(Rs());h();var ke=ze(zi());h();h();h();function Cp(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function eR(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function $1(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function tR(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Cp(r.outputLen),Cp(r.blockLen)}function rR(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function nR(r,e){$1(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var oR={number:Cp,bool:eR,bytes:$1,hash:tR,exists:rR,output:nR},tr=oR;h();h();var sR={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var K1=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Tc=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Dr=(r,e)=>r<<32-e|r>>>e,iR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!iR)throw new Error("Non little-endian hardware is not supported");var w5=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function aR(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Kn(r){if(typeof r=="string"&&(r=aR(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}var $n=class{clone(){return this._cloneInto()}};function on(r){let e=n=>r().update(Kn(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function V1(r){let e=(n,o)=>r(o).update(Kn(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function cR(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(t>>o&s),u=Number(t&s),f=n?4:0,d=n?0:4;r.setUint32(e+f,i,n),r.setUint32(e+d,u,n)}var Ms=class extends $n{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Tc(this.buffer)}update(e){tr.exists(this);let{view:t,buffer:n,blockLen:o}=this;e=Kn(e);let s=e.length;for(let i=0;i<s;){let u=Math.min(o-this.pos,s-i);if(u===o){let f=Tc(e);for(;o<=s-i;i+=o)this.process(f,i);continue}n.set(e.subarray(i,i+u),this.pos),this.pos+=u,i+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tr.exists(this),tr.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(n,0),i=0);for(let b=i;b<o;b++)t[b]=0;cR(n,o-8,BigInt(this.length*8),s),this.process(n,0);let u=Tc(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=f/4,w=this.get();if(d>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)u.setUint32(4*b,w[b],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:o,finished:s,destroyed:i,pos:u}=this;return e.length=o,e.pos=u,e.finished=s,e.destroyed=i,o%t&&e.buffer.set(n),e}};h();var Pc=BigInt(4294967295),Np=BigInt(32);function G1(r,e=!1){return e?{h:Number(r&Pc),l:Number(r>>Np&Pc)}:{h:Number(r>>Np&Pc)|0,l:Number(r&Pc)|0}}function uR(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:s,l:i}=G1(r[o],e);[t[o],n[o]]=[s,i]}return[t,n]}var fR=(r,e)=>BigInt(r>>>0)<<Np|BigInt(e>>>0),lR=(r,e,t)=>r>>>t,pR=(r,e,t)=>r<<32-t|e>>>t,hR=(r,e,t)=>r>>>t|e<<32-t,dR=(r,e,t)=>r<<32-t|e>>>t,yR=(r,e,t)=>r<<64-t|e>>>t-32,mR=(r,e,t)=>r>>>t-32|e<<64-t,gR=(r,e)=>e,xR=(r,e)=>r,bR=(r,e,t)=>r<<t|e>>>32-t,wR=(r,e,t)=>e<<t|r>>>32-t,vR=(r,e,t)=>e<<t-32|r>>>64-t,SR=(r,e,t)=>r<<t-32|e>>>64-t;function _R(r,e,t,n){let o=(e>>>0)+(n>>>0);return{h:r+t+(o/2**32|0)|0,l:o|0}}var ER=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),kR=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,IR=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),AR=(r,e,t,n,o)=>e+t+n+o+(r/2**32|0)|0,RR=(r,e,t,n,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0),BR=(r,e,t,n,o,s)=>e+t+n+o+s+(r/2**32|0)|0,TR={fromBig:G1,split:uR,toBig:fR,shrSH:lR,shrSL:pR,rotrSH:hR,rotrSL:dR,rotrBH:yR,rotrBL:mR,rotr32H:gR,rotr32L:xR,rotlSH:bR,rotlSL:wR,rotlBH:vR,rotlBL:SR,add:_R,add3L:ER,add3H:kR,add4L:IR,add4H:AR,add5H:BR,add5L:RR},Ie=TR;var[PR,zR]=Ie.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Vn=new Uint32Array(80),Gn=new Uint32Array(80),Ls=class extends Ms{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:o,Ch:s,Cl:i,Dh:u,Dl:f,Eh:d,El:w,Fh:b,Fl:T,Gh:A,Gl:D,Hh:j,Hl:J}=this;return[e,t,n,o,s,i,u,f,d,w,b,T,A,D,j,J]}set(e,t,n,o,s,i,u,f,d,w,b,T,A,D,j,J){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=i|0,this.Dh=u|0,this.Dl=f|0,this.Eh=d|0,this.El=w|0,this.Fh=b|0,this.Fl=T|0,this.Gh=A|0,this.Gl=D|0,this.Hh=j|0,this.Hl=J|0}process(e,t){for(let X=0;X<16;X++,t+=4)Vn[X]=e.getUint32(t),Gn[X]=e.getUint32(t+=4);for(let X=16;X<80;X++){let V=Vn[X-15]|0,G=Gn[X-15]|0,le=Ie.rotrSH(V,G,1)^Ie.rotrSH(V,G,8)^Ie.shrSH(V,G,7),ge=Ie.rotrSL(V,G,1)^Ie.rotrSL(V,G,8)^Ie.shrSL(V,G,7),oe=Vn[X-2]|0,Pe=Gn[X-2]|0,Ve=Ie.rotrSH(oe,Pe,19)^Ie.rotrBH(oe,Pe,61)^Ie.shrSH(oe,Pe,6),ee=Ie.rotrSL(oe,Pe,19)^Ie.rotrBL(oe,Pe,61)^Ie.shrSL(oe,Pe,6),C=Ie.add4L(ge,ee,Gn[X-7],Gn[X-16]),g=Ie.add4H(C,le,Ve,Vn[X-7],Vn[X-16]);Vn[X]=g|0,Gn[X]=C|0}let{Ah:n,Al:o,Bh:s,Bl:i,Ch:u,Cl:f,Dh:d,Dl:w,Eh:b,El:T,Fh:A,Fl:D,Gh:j,Gl:J,Hh:re,Hl:xe}=this;for(let X=0;X<80;X++){let V=Ie.rotrSH(b,T,14)^Ie.rotrSH(b,T,18)^Ie.rotrBH(b,T,41),G=Ie.rotrSL(b,T,14)^Ie.rotrSL(b,T,18)^Ie.rotrBL(b,T,41),le=b&A^~b&j,ge=T&D^~T&J,oe=Ie.add5L(xe,G,ge,zR[X],Gn[X]),Pe=Ie.add5H(oe,re,V,le,PR[X],Vn[X]),Ve=oe|0,ee=Ie.rotrSH(n,o,28)^Ie.rotrBH(n,o,34)^Ie.rotrBH(n,o,39),C=Ie.rotrSL(n,o,28)^Ie.rotrBL(n,o,34)^Ie.rotrBL(n,o,39),g=n&s^n&u^s&u,a=o&i^o&f^i&f;re=j|0,xe=J|0,j=A|0,J=D|0,A=b|0,D=T|0,{h:b,l:T}=Ie.add(d|0,w|0,Pe|0,Ve|0),d=u|0,w=f|0,u=s|0,f=i|0,s=n|0,i=o|0;let l=Ie.add3L(Ve,C,a);n=Ie.add3H(l,Pe,ee,g),o=l|0}({h:n,l:o}=Ie.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:i}=Ie.add(this.Bh|0,this.Bl|0,s|0,i|0),{h:u,l:f}=Ie.add(this.Ch|0,this.Cl|0,u|0,f|0),{h:d,l:w}=Ie.add(this.Dh|0,this.Dl|0,d|0,w|0),{h:b,l:T}=Ie.add(this.Eh|0,this.El|0,b|0,T|0),{h:A,l:D}=Ie.add(this.Fh|0,this.Fl|0,A|0,D|0),{h:j,l:J}=Ie.add(this.Gh|0,this.Gl|0,j|0,J|0),{h:re,l:xe}=Ie.add(this.Hh|0,this.Hl|0,re|0,xe|0),this.set(n,o,s,i,u,f,d,w,b,T,A,D,j,J,re,xe)}roundClean(){Vn.fill(0),Gn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Op=class extends Ls{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Up=class extends Ls{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Dp=class extends Ls{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Z1=on(()=>new Ls),z5=on(()=>new Op),M5=on(()=>new Up),L5=on(()=>new Dp);h();var MR=ze(qp(),1);var Zt=BigInt(0),Ue=BigInt(1),Jn=BigInt(2),LR=BigInt(8),Y1=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Ct=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Y1,n:Y1,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var tv=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Mi=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),q5=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),CR=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),NR=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),OR=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),UR=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Ne=class{constructor(e,t,n,o){this.x=e,this.y=t,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof tt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(tt.ZERO)?Ne.ZERO:new Ne(e.x,e.y,Ue,$(e.x*e.y))}static toAffineBatch(e){let t=FR(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Q1(e);let{x:t,y:n,z:o}=this,{x:s,y:i,z:u}=e,f=$(t*u),d=$(s*o),w=$(n*u),b=$(i*o);return f===d&&w===b}negate(){return new Ne($(-this.x),this.y,this.z,$(-this.t))}double(){let{x:e,y:t,z:n}=this,{a:o}=Ct,s=$(e*e),i=$(t*t),u=$(Jn*$(n*n)),f=$(o*s),d=e+t,w=$($(d*d)-s-i),b=f+i,T=b-u,A=f-i,D=$(w*T),j=$(b*A),J=$(w*A),re=$(T*b);return new Ne(D,j,re,J)}add(e){Q1(e);let{x:t,y:n,z:o,t:s}=this,{x:i,y:u,z:f,t:d}=e,w=$((n-t)*(u+i)),b=$((n+t)*(u-i)),T=$(b-w);if(T===Zt)return this.double();let A=$(o*Jn*d),D=$(s*Jn*f),j=D+A,J=b+w,re=D-A,xe=$(j*T),X=$(J*re),V=$(j*re),G=$(T*J);return new Ne(xe,X,G,V)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let t=1+256/e,n=[],o=this,s=o;for(let i=0;i<t;i++){s=o,n.push(s);for(let u=1;u<2**(e-1);u++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,t){!t&&this.equals(Ne.BASE)&&(t=tt.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&Wp.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=Ne.normalizeZ(o),Wp.set(t,o)));let s=Ne.ZERO,i=Ne.BASE,u=1+256/n,f=2**(n-1),d=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let T=0;T<u;T++){let A=T*f,D=Number(e&d);e>>=b,D>f&&(D-=w,e+=Ue);let j=A,J=A+Math.abs(D)-1,re=T%2!==0,xe=D<0;D===0?i=i.add(J1(re,o[j])):s=s.add(J1(xe,o[J]))}return Ne.normalizeZ([s,i])[0]}multiply(e,t){return this.wNAF(Mc(e,Ct.l),t)}multiplyUnsafe(e){let t=Mc(e,Ct.l,!1),n=Ne.BASE,o=Ne.ZERO;if(t===Zt)return o;if(this.equals(o)||t===Ue)return this;if(this.equals(n))return this.wNAF(t);let s=o,i=this;for(;t>Zt;)t&Ue&&(s=s.add(i)),i=i.double(),t>>=Ue;return s}isSmallOrder(){return this.multiplyUnsafe(Ct.h).equals(Ne.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Ct.l/Jn).double();return Ct.l%Jn&&(e=e.add(this)),e.equals(Ne.ZERO)}toAffine(e){let{x:t,y:n,z:o}=this,s=this.equals(Ne.ZERO);e==null&&(e=s?LR:Cc(o));let i=$(t*e),u=$(n*e),f=$(o*e);if(s)return tt.ZERO;if(f!==Ue)throw new Error("invZ was invalid");return new tt(i,u)}fromRistrettoBytes(){Hp()}toRistrettoBytes(){Hp()}fromRistrettoHash(){Hp()}};Ne.BASE=new Ne(Ct.Gx,Ct.Gy,Ue,$(Ct.Gx*Ct.Gy));Ne.ZERO=new Ne(Zt,Ue,Ue,Zt);function J1(r,e){let t=e.negate();return r?t:e}function Q1(r){if(!(r instanceof Ne))throw new TypeError("ExtendedPoint expected")}function Fp(r){if(!(r instanceof xr))throw new TypeError("RistrettoPoint expected")}function Hp(){throw new Error("Legacy method: switch to RistrettoPoint")}var xr=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:t}=Ct,n=$(Mi*e*e),o=$((n+Ue)*OR),s=BigInt(-1),i=$((s-t*n)*$(n+t)),{isValid:u,value:f}=Kp(o,i),d=$(f*e);Yn(d)||(d=$(-d)),u||(f=d),u||(s=n);let w=$(s*(n-Ue)*UR-i),b=f*f,T=$((f+f)*i),A=$(w*CR),D=$(Ue-b),j=$(Ue+b);return new Ne($(T*j),$(D*A),$(A*j),$(T*D))}static hashToCurve(e){e=Qn(e,64);let t=jp(e.slice(0,32)),n=this.calcElligatorRistrettoMap(t),o=jp(e.slice(32,64)),s=this.calcElligatorRistrettoMap(o);return new xr(n.add(s))}static fromHex(e){e=Qn(e,32);let{a:t,d:n}=Ct,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=jp(e);if(!jR(Ci(s),e)||Yn(s))throw new Error(o);let i=$(s*s),u=$(Ue+t*i),f=$(Ue-t*i),d=$(u*u),w=$(f*f),b=$(t*n*d-w),{isValid:T,value:A}=ev($(b*w)),D=$(A*f),j=$(A*D*b),J=$((s+s)*D);Yn(J)&&(J=$(-J));let re=$(u*j),xe=$(J*re);if(!T||Yn(xe)||re===Zt)throw new Error(o);return new xr(new Ne(J,re,Ue,xe))}toRawBytes(){let{x:e,y:t,z:n,t:o}=this.ep,s=$($(n+t)*$(n-t)),i=$(e*t),u=$(i*i),{value:f}=ev($(s*u)),d=$(f*s),w=$(f*i),b=$(d*w*o),T;if(Yn(o*b)){let D=$(t*Mi),j=$(e*Mi);e=D,t=j,T=$(d*NR)}else T=w;Yn(e*b)&&(t=$(-t));let A=$((n-t)*T);return Yn(A)&&(A=$(-A)),Ci(A)}toHex(){return Ni(this.toRawBytes())}toString(){return this.toHex()}equals(e){Fp(e);let t=this.ep,n=e.ep,o=$(t.x*n.y)===$(t.y*n.x),s=$(t.y*n.y)===$(t.x*n.x);return o||s}add(e){return Fp(e),new xr(this.ep.add(e.ep))}subtract(e){return Fp(e),new xr(this.ep.subtract(e.ep))}multiply(e){return new xr(this.ep.multiply(e))}multiplyUnsafe(e){return new xr(this.ep.multiplyUnsafe(e))}};xr.BASE=new xr(Ne.BASE);xr.ZERO=new xr(Ne.ZERO);var Wp=new WeakMap,tt=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Wp.delete(this)}static fromHex(e,t=!0){let{d:n,P:o}=Ct;e=Qn(e,32);let s=e.slice();s[31]=e[31]&-129;let i=Oi(s);if(t&&i>=o)throw new Error("Expected 0 < hex < P");if(!t&&i>=tv)throw new Error("Expected 0 < hex < 2**256");let u=$(i*i),f=$(u-Ue),d=$(n*u+Ue),{isValid:w,value:b}=Kp(f,d);if(!w)throw new Error("Point.fromHex: invalid y coordinate");let T=(b&Ue)===Ue;return(e[31]&128)!==0!==T&&(b=$(-b)),new tt(b,i)}static async fromPrivateKey(e){return(await sv(e)).point}toRawBytes(){let e=Ci(this.y);return e[31]|=this.x&Ue?128:0,e}toHex(){return Ni(this.toRawBytes())}toX25519(){let{y:e}=this,t=$((Ue+e)*Cc(Ue-e));return Ci(t)}isTorsionFree(){return Ne.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new tt($(-this.x),this.y)}add(e){return Ne.fromAffine(this).add(Ne.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ne.fromAffine(this).multiply(e,this).toAffine()}};tt.BASE=new tt(Ct.Gx,Ct.Gy);tt.ZERO=new tt(Zt,Ue);var Go=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=Qn(e,64),n=tt.fromHex(t.slice(0,32),!1),o=Oi(t.slice(32,64));return new Go(n,o)}assertValidity(){let{r:e,s:t}=this;if(!(e instanceof tt))throw new Error("Expected Point instance");return Mc(t,Ct.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Ci(this.s),32),e}toHex(){return Ni(this.toRawBytes())}};function X1(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];let e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){let s=r[n];t.set(s,o),o+=s.length}return t}var DR=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Ni(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=DR[r[t]];return e}function $p(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,o=r.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function rv(r){let t=r.toString(16).padStart(64,"0");return $p(t)}function Ci(r){return rv(r).reverse()}function Yn(r){return($(r)&Ue)===Ue}function Oi(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Ni(Uint8Array.from(r).reverse()))}var qR=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function jp(r){return $(Oi(r)&qR)}function $(r,e=Ct.P){let t=r%e;return t>=Zt?t:e+t}function Cc(r,e=Ct.P){if(r===Zt||e<=Zt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=$(r,e),n=e,o=Zt,s=Ue,i=Ue,u=Zt;for(;t!==Zt;){let d=n/t,w=n%t,b=o-i*d,T=s-u*d;n=t,t=w,o=i,s=u,i=b,u=T}if(n!==Ue)throw new Error("invert: does not exist");return $(o,e)}function FR(r,e=Ct.P){let t=new Array(r.length),n=r.reduce((s,i,u)=>i===Zt?s:(t[u]=s,$(s*i,e)),Ue),o=Cc(n,e);return r.reduceRight((s,i,u)=>i===Zt?s:(t[u]=$(s*t[u],e),$(s*i,e)),o),t}function sn(r,e){let{P:t}=Ct,n=r;for(;e-- >Zt;)n*=n,n%=t;return n}function HR(r){let{P:e}=Ct,t=BigInt(5),n=BigInt(10),o=BigInt(20),s=BigInt(40),i=BigInt(80),f=r*r%e*r%e,d=sn(f,Jn)*f%e,w=sn(d,Ue)*r%e,b=sn(w,t)*w%e,T=sn(b,n)*b%e,A=sn(T,o)*T%e,D=sn(A,s)*A%e,j=sn(D,i)*D%e,J=sn(j,i)*D%e,re=sn(J,n)*b%e;return{pow_p_5_8:sn(re,Jn)*r%e,b2:f}}function Kp(r,e){let t=$(e*e*e),n=$(t*t*e),o=HR(r*n).pow_p_5_8,s=$(r*t*o),i=$(e*s*s),u=s,f=$(s*Mi),d=i===r,w=i===$(-r),b=i===$(-r*Mi);return d&&(s=u),(w||b)&&(s=f),Yn(s)&&(s=$(-s)),{isValid:d||w,value:s}}function ev(r){return Kp(Ue,r)}function zc(r){return $(Oi(r),Ct.l)}function jR(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Qn(r,e){let t=r instanceof Uint8Array?Uint8Array.from(r):$p(r);if(typeof e=="number"&&t.length!==e)throw new Error(`Expected ${e} bytes`);return t}function Mc(r,e,t=!0){if(!e)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<e){if(t){if(Zt<r)return r}else if(Zt<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function WR(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function nv(r){if(r=typeof r=="bigint"||typeof r=="number"?rv(Mc(r,tv)):Qn(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function ov(r){let e=WR(r.slice(0,32)),t=r.slice(32,64),n=zc(e),o=tt.BASE.multiply(n),s=o.toRawBytes();return{head:e,prefix:t,scalar:n,point:o,pointBytes:s}}var Li;function Lc(...r){if(typeof Li!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Li(...r)}async function sv(r){return ov(await Xn.sha512(nv(r)))}function Vp(r){return ov(Lc(nv(r)))}function $R(r){return Vp(r).pointBytes}function KR(r,e){r=Qn(r);let{prefix:t,scalar:n,pointBytes:o}=Vp(e),s=zc(Lc(t,r)),i=tt.BASE.multiply(s),u=zc(Lc(i.toRawBytes(),o,r)),f=$(s+u*n,Ct.l);return new Go(i,f).toRawBytes()}function VR(r,e,t){e=Qn(e),t instanceof tt||(t=tt.fromHex(t,!1));let{r:n,s:o}=r instanceof Go?r.assertValidity():Go.fromHex(r),s=Ne.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:s,pub:t,msg:e}}function GR(r,e,t,n){let o=zc(n),s=Ne.fromAffine(r).multiplyUnsafe(o);return Ne.fromAffine(e).add(s).subtract(t).multiplyUnsafe(Ct.h).equals(Ne.ZERO)}function ZR(r,e,t){let{r:n,SB:o,msg:s,pub:i}=VR(r,e,t),u=Lc(n.toRawBytes(),i.toRawBytes(),s);return GR(i,n,o,u)}var Nc={getExtendedPublicKey:Vp,getPublicKey:$R,sign:KR,verify:ZR};tt.BASE._setWindowSize(8);var Zn={node:MR,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Xn={bytesToHex:Ni,hexToBytes:$p,concatBytes:X1,getExtendedPublicKey:sv,mod:$,invert:Cc,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=Qn(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return $(Oi(r),Ct.l-Ue)+Ue},randomBytes:(r=32)=>{if(Zn.web)return Zn.web.getRandomValues(new Uint8Array(r));if(Zn.node){let{randomBytes:e}=Zn.node;return new Uint8Array(e(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Xn.randomBytes(32),sha512:async(...r)=>{let e=X1(...r);if(Zn.web){let t=await Zn.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(Zn.node)return Uint8Array.from(Zn.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,e=tt.BASE){let t=e.equals(tt.BASE)?e:new tt(e.x,e.y);return t._setWindowSize(r),t.multiply(Jn),t},sha512Sync:void 0};Object.defineProperties(Xn,{sha512Sync:{configurable:!1,get(){return Li},set(r){Li||(Li=r)}}});var Ch=ze(Ca()),ar=ze(Hn());h();var JR=(r,e,t)=>r&e^~r&t,QR=(r,e,t)=>r&e^r&t^e&t,XR=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),to=new Uint32Array(64),Oc=class extends Ms{constructor(){super(64,32,8,!1),this.A=eo[0]|0,this.B=eo[1]|0,this.C=eo[2]|0,this.D=eo[3]|0,this.E=eo[4]|0,this.F=eo[5]|0,this.G=eo[6]|0,this.H=eo[7]|0}get(){let{A:e,B:t,C:n,D:o,E:s,F:i,G:u,H:f}=this;return[e,t,n,o,s,i,u,f]}set(e,t,n,o,s,i,u,f){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=u|0,this.H=f|0}process(e,t){for(let b=0;b<16;b++,t+=4)to[b]=e.getUint32(t,!1);for(let b=16;b<64;b++){let T=to[b-15],A=to[b-2],D=Dr(T,7)^Dr(T,18)^T>>>3,j=Dr(A,17)^Dr(A,19)^A>>>10;to[b]=j+to[b-7]+D+to[b-16]|0}let{A:n,B:o,C:s,D:i,E:u,F:f,G:d,H:w}=this;for(let b=0;b<64;b++){let T=Dr(u,6)^Dr(u,11)^Dr(u,25),A=w+T+JR(u,f,d)+XR[b]+to[b]|0,j=(Dr(n,2)^Dr(n,13)^Dr(n,22))+QR(n,o,s)|0;w=d,d=f,f=u,u=i+A|0,i=s,s=o,o=n,n=A+j|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,u=u+this.E|0,f=f+this.F|0,d=d+this.G|0,w=w+this.H|0,this.set(n,o,s,i,u,f,d,w)}roundClean(){to.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Gp=class extends Oc{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Uc=on(()=>new Oc),W5=on(()=>new Gp);var Qs=ze(lv()),R=ze(Rs()),LS=ze(Rs()),pa=ze(eh());h();var th=class extends TypeError{constructor(e,t){let n,{message:o,...s}=e,{path:i}=e,u=i.length===0?o:"At path: "+i.join(".")+" -- "+o;super(u),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var f;return(f=n)!=null?f:n=[e,...t()]}}};function bB(r){return no(r)&&typeof r[Symbol.iterator]=="function"}function no(r){return typeof r=="object"&&r!=null}function qr(r){return typeof r=="string"?JSON.stringify(r):""+r}function wB(r){let{done:e,value:t}=r.next();return e?void 0:t}function vB(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});let{path:o,branch:s}=e,{type:i}=t,{refinement:u,message:f="Expected a value of type `"+i+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+qr(n)+"`"}=r;return{value:n,type:i,refinement:u,key:o[o.length-1],path:o,branch:s,...r,message:f}}function*pv(r,e,t,n){bB(r)||(r=[r]);for(let o of r){let s=vB(o,e,t,n);s&&(yield s)}}function*rh(r,e,t={}){let{path:n=[],branch:o=[r],coerce:s=!1,mask:i=!1}=t,u={path:n,branch:o};if(s&&(r=e.coercer(r,u),i&&e.type!=="type"&&no(e.schema)&&no(r)&&!Array.isArray(r)))for(let d in r)e.schema[d]===void 0&&delete r[d];let f=!0;for(let d of e.validator(r,u))f=!1,yield[d,void 0];for(let[d,w,b]of e.entries(r,u)){let T=rh(w,b,{path:d===void 0?n:[...n,d],branch:d===void 0?o:[...o,w],coerce:s,mask:i});for(let A of T)A[0]?(f=!1,yield[A[0],void 0]):s&&(w=A[1],d===void 0?r=w:r instanceof Map?r.set(d,w):r instanceof Set?r.add(w):no(r)&&(r[d]=w))}if(f)for(let d of e.refiner(r,u))f=!1,yield[d,void 0];f&&(yield[void 0,r])}var zr=class{constructor(e){let{type:t,schema:n,validator:o,refiner:s,coercer:i=f=>f,entries:u=function*(){}}=e;this.type=t,this.schema=n,this.entries=u,this.coercer=i,o?this.validator=(f,d)=>{let w=o(f,d);return pv(w,d,this,f)}:this.validator=()=>[],s?this.refiner=(f,d)=>{let w=s(f,d);return pv(w,d,this,f)}:this.refiner=()=>[]}assert(e){return hv(e,this)}create(e){return Os(e,this)}is(e){return dv(e,this)}mask(e){return SB(e,this)}validate(e,t={}){return Ui(e,this,t)}};function hv(r,e){let t=Ui(r,e);if(t[0])throw t[0]}function Os(r,e){let t=Ui(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function SB(r,e){let t=Ui(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function dv(r,e){return!Ui(r,e)[0]}function Ui(r,e,t={}){let n=rh(r,e,t),o=wB(n);if(o[0])return[new th(o[0],function*(){for(let i of n)i[0]&&(yield i[0])}),void 0];{let s=o[1];return[void 0,s]}}function Jo(r,e){return new zr({type:r,schema:null,validator:e})}function yv(){return Jo("any",()=>!0)}function ye(r){return new zr({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(let[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+qr(e)}})}function un(){return Jo("boolean",r=>typeof r=="boolean")}function Kc(r){return Jo("instance",e=>e instanceof r||"Expected a `"+r.name+"` instance, but received: "+qr(e))}function qt(r){let e=qr(r),t=typeof r;return new zr({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+e+"`, but received: "+qr(n)}})}function _B(){return Jo("never",()=>!1)}function fe(r){return new zr({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function O(){return Jo("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+qr(r))}function _e(r){return new zr({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function nh(r,e){return new zr({type:"record",schema:null,*entries(t){if(no(t))for(let n in t){let o=t[n];yield[n,n,r],yield[n,o,e]}},validator(t){return no(t)||"Expected an object, but received: "+qr(t)}})}function te(){return Jo("string",r=>typeof r=="string"||"Expected a string, but received: "+qr(r))}function Vc(r){let e=_B();return new zr({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){let n=Math.max(r.length,t.length);for(let o=0;o<n;o++)yield[o,t[o],r[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+qr(t)}})}function K(r){let e=Object.keys(r);return new zr({type:"type",schema:r,*entries(t){if(no(t))for(let n of e)yield[n,t[n],r[n]]},validator(t){return no(t)||"Expected an object, but received: "+qr(t)}})}function lr(r){let e=r.map(t=>t.type).join(" | ");return new zr({type:"union",schema:null,validator(t,n){let o=[];for(let s of r){let[...i]=rh(t,s,n),[u]=i;if(u[0])for(let[f]of i)f&&o.push(f);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+qr(t),...o]}})}function Us(){return Jo("unknown",()=>!0)}function Ds(r,e,t){return new zr({...r,coercer:(n,o)=>dv(n,e)?r.coercer(t(n,o),o):r.coercer(n,o)})}var F3=ze(Uv()),H3=ze(Xv()),j3=ze(tS());h();var[oS,sS,iS]=[[],[],[]],b3=BigInt(0),ea=BigInt(1),w3=BigInt(2),v3=BigInt(7),S3=BigInt(256),_3=BigInt(113);for(let r=0,e=ea,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],oS.push(2*(5*n+t)),sS.push((r+1)*(r+2)/2%64);let o=b3;for(let s=0;s<7;s++)e=(e<<ea^(e>>v3)*_3)%S3,e&w3&&(o^=ea<<(ea<<BigInt(s))-ea);iS.push(o)}var[E3,k3]=Ie.split(iS,!0),rS=(r,e,t)=>t>32?Ie.rotlBH(r,e,t):Ie.rotlSH(r,e,t),nS=(r,e,t)=>t>32?Ie.rotlBL(r,e,t):Ie.rotlSL(r,e,t);function I3(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let i=0;i<10;i++)t[i]=r[i]^r[i+10]^r[i+20]^r[i+30]^r[i+40];for(let i=0;i<10;i+=2){let u=(i+8)%10,f=(i+2)%10,d=t[f],w=t[f+1],b=rS(d,w,1)^t[u],T=nS(d,w,1)^t[u+1];for(let A=0;A<50;A+=10)r[i+A]^=b,r[i+A+1]^=T}let o=r[2],s=r[3];for(let i=0;i<24;i++){let u=sS[i],f=rS(o,s,u),d=nS(o,s,u),w=oS[i];o=r[w],s=r[w+1],r[w]=f,r[w+1]=d}for(let i=0;i<50;i+=10){for(let u=0;u<10;u++)t[u]=r[i+u];for(let u=0;u<10;u++)r[i+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=E3[n],r[1]^=k3[n]}t.fill(0)}var Fs=class extends $n{constructor(e,t,n,o=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,tr.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=K1(this.state)}keccak(){I3(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){tr.exists(this);let{blockLen:t,state:n}=this;e=Kn(e);let o=e.length;for(let s=0;s<o;){let i=Math.min(t-this.pos,o-s);for(let u=0;u<i;u++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:o}=this;e[n]^=t,(t&128)!==0&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){tr.exists(this,!1),tr.bytes(e),this.finish();let t=this.state,{blockLen:n}=this;for(let o=0,s=e.length;o<s;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,s-o);e.set(t.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:o,rounds:s,enableXOF:i}=this;return e||(e=new Fs(t,n,o,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=o,e.enableXOF=i,e.destroyed=this.destroyed,e}},ao=(r,e,t)=>on(()=>new Fs(e,r,t)),wq=ao(6,144,224/8),vq=ao(6,136,256/8),Sq=ao(6,104,384/8),_q=ao(6,72,512/8),Eq=ao(1,144,224/8),Eh=ao(1,136,256/8),kq=ao(1,104,384/8),Iq=ao(1,72,512/8),aS=(r,e,t)=>V1((n={})=>new Fs(e,r,n.dkLen===void 0?t:n.dkLen,!0)),Aq=aS(31,168,128/8),Rq=aS(31,136,256/8);h();var hu=class extends $n{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,tr.hash(e);let n=Kn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?e.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(e){return tr.exists(this),this.iHash.update(e),this}digestInto(e){tr.exists(this),tr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:o,destroyed:s,blockLen:i,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=i,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},kh=(r,e,t)=>new hu(r,e).update(t).digest();kh.create=(r,e)=>new hu(r,e);h();var A3=ze(qp(),1);var De=BigInt(0),Nt=BigInt(1),uo=BigInt(2),ra=BigInt(3),cS=BigInt(8),Wt=Object.freeze({a:De,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Nt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),uS=(r,e)=>(r+e/uo)/e,du={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){let{n:e}=Wt,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Nt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,i=BigInt("0x100000000000000000000000000000000"),u=uS(s*r,e),f=uS(-n*r,e),d=he(r-u*t-f*o,e),w=he(-u*n-f*s,e),b=d>i,T=w>i;if(b&&(d=e-d),T&&(w=e-w),d>i||w>i)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:b,k1:d,k2neg:T,k2:w}}},Hr=32,Ws=32,R3=32,fS=Hr+1,lS=2*Hr+1;function pS(r){let{a:e,b:t}=Wt,n=he(r*r),o=he(n*r);return he(o+e*r+t)}var yu=Wt.a===De,xu=class extends Error{constructor(e){super(e)}};function hS(r){if(!(r instanceof He))throw new TypeError("JacobianPoint expected")}var He=class{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof Ot))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Ot.ZERO)?He.ZERO:new He(e.x,e.y,Nt)}static toAffineBatch(e){let t=M3(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return He.toAffineBatch(e).map(He.fromAffine)}equals(e){hS(e);let{x:t,y:n,z:o}=this,{x:s,y:i,z:u}=e,f=he(o*o),d=he(u*u),w=he(t*d),b=he(s*f),T=he(he(n*u)*d),A=he(he(i*o)*f);return w===b&&T===A}negate(){return new He(this.x,he(-this.y),this.z)}double(){let{x:e,y:t,z:n}=this,o=he(e*e),s=he(t*t),i=he(s*s),u=e+s,f=he(uo*(he(u*u)-o-i)),d=he(ra*o),w=he(d*d),b=he(w-uo*f),T=he(d*(f-b)-cS*i),A=he(uo*t*n);return new He(b,T,A)}add(e){hS(e);let{x:t,y:n,z:o}=this,{x:s,y:i,z:u}=e;if(s===De||i===De)return this;if(t===De||n===De)return e;let f=he(o*o),d=he(u*u),w=he(t*d),b=he(s*f),T=he(he(n*u)*d),A=he(he(i*o)*f),D=he(b-w),j=he(A-T);if(D===De)return j===De?this.double():He.ZERO;let J=he(D*D),re=he(D*J),xe=he(w*J),X=he(j*j-re-uo*xe),V=he(j*(xe-X)-T*re),G=he(o*u*D);return new He(X,V,G)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=He.ZERO;if(typeof e=="bigint"&&e===De)return t;let n=mS(e);if(n===Nt)return this;if(!yu){let b=t,T=this;for(;n>De;)n&Nt&&(b=b.add(T)),T=T.double(),n>>=Nt;return b}let{k1neg:o,k1:s,k2neg:i,k2:u}=du.splitScalar(n),f=t,d=t,w=this;for(;s>De||u>De;)s&Nt&&(f=f.add(w)),u&Nt&&(d=d.add(w)),w=w.double(),s>>=Nt,u>>=Nt;return o&&(f=f.negate()),i&&(d=d.negate()),d=new He(he(d.x*du.beta),d.y,d.z),f.add(d)}precomputeWindow(e){let t=yu?128/e+1:256/e+1,n=[],o=this,s=o;for(let i=0;i<t;i++){s=o,n.push(s);for(let u=1;u<2**(e-1);u++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,t){!t&&this.equals(He.BASE)&&(t=Ot.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&Ah.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=He.normalizeZ(o),Ah.set(t,o)));let s=He.ZERO,i=He.BASE,u=1+(yu?128/n:256/n),f=2**(n-1),d=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let T=0;T<u;T++){let A=T*f,D=Number(e&d);e>>=b,D>f&&(D-=w,e+=Nt);let j=A,J=A+Math.abs(D)-1,re=T%2!==0,xe=D<0;D===0?i=i.add(mu(re,o[j])):s=s.add(mu(xe,o[J]))}return{p:s,f:i}}multiply(e,t){let n=mS(e),o,s;if(yu){let{k1neg:i,k1:u,k2neg:f,k2:d}=du.splitScalar(n),{p:w,f:b}=this.wNAF(u,t),{p:T,f:A}=this.wNAF(d,t);w=mu(i,w),T=mu(f,T),T=new He(he(T.x*du.beta),T.y,T.z),o=w.add(T),s=b.add(A)}else{let{p:i,f:u}=this.wNAF(n,t);o=i,s=u}return He.normalizeZ([o,s])[0]}toAffine(e){let{x:t,y:n,z:o}=this,s=this.equals(He.ZERO);e==null&&(e=s?cS:ia(o));let i=e,u=he(i*i),f=he(u*i),d=he(t*u),w=he(n*f),b=he(o*i);if(s)return Ot.ZERO;if(b!==Nt)throw new Error("invZ was invalid");return new Ot(d,w)}};He.BASE=new He(Wt.Gx,Wt.Gy,Nt);He.ZERO=new He(De,Nt,De);function mu(r,e){let t=e.negate();return r?t:e}var Ah=new WeakMap,Ot=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Ah.delete(this)}hasEvenY(){return this.y%uo===De}static fromCompressedHex(e){let t=e.length===32,n=fo(t?e:e.subarray(1));if(!Ih(n))throw new Error("Point is not on curve");let o=pS(n),s=z3(o),i=(s&Nt)===Nt;t?i&&(s=he(-s)):(e[0]&1)===1!==i&&(s=he(-s));let u=new Ot(n,s);return u.assertValidity(),u}static fromUncompressedHex(e){let t=fo(e.subarray(1,Hr+1)),n=fo(e.subarray(Hr+1,Hr*2+1)),o=new Ot(t,n);return o.assertValidity(),o}static fromHex(e){let t=oa(e),n=t.length,o=t[0];if(n===Hr)return this.fromCompressedHex(t);if(n===fS&&(o===2||o===3))return this.fromCompressedHex(t);if(n===lS&&o===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${fS} compressed bytes or ${lS} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Ot.BASE.multiply(wu(e))}static fromSignature(e,t,n){let{r:o,s}=N3(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let i=gS(oa(e)),{n:u}=Wt,f=n===2||n===3?o+u:o,d=ia(f,u),w=he(-i*d,u),b=he(s*d,u),T=n&1?"03":"02",A=Ot.fromHex(T+Hs(f)),D=Ot.BASE.multiplyAndAddUnsafe(A,w,b);if(!D)throw new Error("Cannot recover signature: point at infinify");return D.assertValidity(),D}toRawBytes(e=!1){return Xo(this.toHex(e))}toHex(e=!1){let t=Hs(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Hs(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Ih(t)||!Ih(n))throw new Error(e);let o=he(n*n),s=pS(t);if(he(o-s)!==De)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ot(this.x,he(-this.y))}double(){return He.fromAffine(this).double().toAffine()}add(e){return He.fromAffine(this).add(He.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return He.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){let o=He.fromAffine(this),s=t===De||t===Nt||this!==Ot.BASE?o.multiplyUnsafe(t):o.multiply(t),i=He.fromAffine(e).multiplyUnsafe(n),u=s.add(i);return u.equals(He.ZERO)?void 0:u.toAffine()}};Ot.BASE=new Ot(Wt.Gx,Wt.Gy);Ot.ZERO=new Ot(De,De);function dS(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function yS(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${$s(r)}`);let e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:fo(t),left:r.subarray(e+2)}}function B3(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${$s(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:t}=yS(r.subarray(2)),{data:n,left:o}=yS(t);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${$s(o)}`);return{r:e,s:n}}var ln=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);let o=t?$s(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new ln(bu(o.slice(0,64)),bu(o.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:o}=B3(t?e:Xo(e));return new ln(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!sa(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!sa(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Wt.n>>Nt;return this.s>e}normalizeS(){return this.hasHighS()?new ln(this.r,he(-this.s,Wt.n)):this}toDERRawBytes(){return Xo(this.toDERHex())}toDERHex(){let e=dS(ta(this.s)),t=dS(ta(this.r)),n=e.length/2,o=t.length/2,s=ta(n),i=ta(o);return`30${ta(o+n+4)}02${i}${t}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Xo(this.toCompactHex())}toCompactHex(){return Hs(this.r)+Hs(this.s)}};function co(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){let s=r[n];t.set(s,o),o+=s.length}return t}var T3=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function $s(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=T3[r[t]];return e}var P3=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Hs(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(De<=r&&r<P3))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function Rh(r){let e=Xo(Hs(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function ta(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function bu(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Xo(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,o=r.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function fo(r){return bu($s(r))}function oa(r){return r instanceof Uint8Array?Uint8Array.from(r):Xo(r)}function mS(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&sa(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function he(r,e=Wt.P){let t=r%e;return t>=De?t:e+t}function Mr(r,e){let{P:t}=Wt,n=r;for(;e-- >De;)n*=n,n%=t;return n}function z3(r){let{P:e}=Wt,t=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),i=BigInt(44),u=BigInt(88),f=r*r*r%e,d=f*f*r%e,w=Mr(d,ra)*d%e,b=Mr(w,ra)*d%e,T=Mr(b,uo)*f%e,A=Mr(T,n)*T%e,D=Mr(A,o)*A%e,j=Mr(D,i)*D%e,J=Mr(j,u)*j%e,re=Mr(J,i)*D%e,xe=Mr(re,ra)*d%e,X=Mr(xe,s)*A%e,V=Mr(X,t)*f%e,G=Mr(V,uo);if(G*G%e!==r)throw new Error("Cannot find square root");return G}function ia(r,e=Wt.P){if(r===De||e<=De)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=he(r,e),n=e,o=De,s=Nt,i=Nt,u=De;for(;t!==De;){let d=n/t,w=n%t,b=o-i*d,T=s-u*d;n=t,t=w,o=i,s=u,i=b,u=T}if(n!==Nt)throw new Error("invert: does not exist");return he(o,e)}function M3(r,e=Wt.P){let t=new Array(r.length),n=r.reduce((s,i,u)=>i===De?s:(t[u]=s,he(s*i,e)),Nt),o=ia(n,e);return r.reduceRight((s,i,u)=>i===De?s:(t[u]=he(s*t[u],e),he(s*i,e)),o),t}function L3(r){let e=r.length*8-Ws*8,t=fo(r);return e>0?t>>BigInt(e):t}function gS(r,e=!1){let t=L3(r);if(e)return t;let{n}=Wt;return t>=n?t-n:t}var js,na,Bh=class{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return fn.hmacSha256(this.k,...e)}hmacSync(...e){return na(this.k,...e)}checkSync(){if(typeof na!="function")throw new xu("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();t.push(n),e+=this.v.length}return co(...t)}generateSync(){this.checkSync(),this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();t.push(n),e+=this.v.length}return co(...t)}};function sa(r){return De<r&&r<Wt.n}function Ih(r){return De<r&&r<Wt.P}function C3(r,e,t,n=!0){let{n:o}=Wt,s=gS(r,!0);if(!sa(s))return;let i=ia(s,o),u=Ot.BASE.multiply(s),f=he(u.x,o);if(f===De)return;let d=he(i*he(e+t*f,o),o);if(d===De)return;let w=new ln(f,d),b=(u.x===w.r?0:2)|Number(u.y&Nt);return n&&w.hasHighS()&&(w=w.normalizeS(),b^=1),{sig:w,recovery:b}}function wu(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Ws)throw new Error("Expected 32 bytes of private key");e=bu(r)}else if(r instanceof Uint8Array){if(r.length!==Ws)throw new Error("Expected 32 bytes of private key");e=fo(r)}else throw new TypeError("Expected valid private key");if(!sa(e))throw new Error("Expected private key: 0 < key < n");return e}function N3(r){if(r instanceof ln)return r.assertValidity(),r;try{return ln.fromDER(r)}catch{return ln.fromCompact(r)}}function xS(r,e=!1){return Ot.fromPrivateKey(r).toRawBytes(e)}function bS(r){let e=r.length>Hr?r.slice(0,Hr):r;return fo(e)}function O3(r){let e=bS(r),t=he(e,Wt.n);return wS(t<De?e:t)}function wS(r){return Rh(r)}function U3(r,e,t){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);let n=oa(r),o=wu(e),s=[wS(o),O3(n)];if(t!=null){t===!0&&(t=fn.randomBytes(Hr));let f=oa(t);if(f.length!==Hr)throw new Error(`sign: Expected ${Hr} bytes of extra data`);s.push(f)}let i=co(...s),u=bS(n);return{seed:i,m:u,d:o}}function D3(r,e){let{sig:t,recovery:n}=r,{der:o,recovered:s}=Object.assign({canonical:!0,der:!0},e),i=o?t.toDERRawBytes():t.toCompactRawBytes();return s?[i,n]:i}function vS(r,e,t={}){let{seed:n,m:o,d:s}=U3(r,e,t.extraEntropy),i=new Bh(R3,Ws);i.reseedSync(n);let u;for(;!(u=C3(i.generateSync(),o,s,t.canonical));)i.reseedSync();return D3(u,t)}Ot.BASE._setWindowSize(8);var Er={node:A3,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var gu={},fn={bytesToHex:$s,hexToBytes:Xo,concatBytes:co,mod:he,invert:ia,isValidPrivateKey(r){try{return wu(r),!0}catch{return!1}},_bigintTo32Bytes:Rh,_normalizePrivateKey:wu,hashToPrivateKey:r=>{r=oa(r);let e=Ws+8;if(r.length<e||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let t=he(fo(r),Wt.n-Nt)+Nt;return Rh(t)},randomBytes:(r=32)=>{if(Er.web)return Er.web.getRandomValues(new Uint8Array(r));if(Er.node){let{randomBytes:e}=Er.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>fn.hashToPrivateKey(fn.randomBytes(Ws+8)),precompute(r=8,e=Ot.BASE){let t=e===Ot.BASE?e:new Ot(e.x,e.y);return t._setWindowSize(r),t.multiply(ra),t},sha256:async(...r)=>{if(Er.web){let e=await Er.web.subtle.digest("SHA-256",co(...r));return new Uint8Array(e)}else if(Er.node){let{createHash:e}=Er.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(Er.web){let t=await Er.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=co(...e),o=await Er.web.subtle.sign("HMAC",t,n);return new Uint8Array(o)}else if(Er.node){let{createHmac:t}=Er.node,n=t("sha256",r);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=gu[r];if(t===void 0){let n=await fn.sha256(Uint8Array.from(r,o=>o.charCodeAt(0)));t=co(n,n),gu[r]=t}return fn.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof js!="function")throw new xu("sha256Sync is undefined, you need to set it");let t=gu[r];if(t===void 0){let n=js(Uint8Array.from(r,o=>o.charCodeAt(0)));t=co(n,n),gu[r]=t}return js(t,...e)},_JacobianPoint:He};Object.defineProperties(fn,{sha256Sync:{configurable:!1,get(){return js},set(r){js||(js=r)}},hmacSha256Sync:{configurable:!1,get(){return na},set(r){na||(na=r)}}});Xn.sha512Sync=(...r)=>Z1(Xn.concatBytes(...r));var Fq=Xn.randomPrivateKey,SS=()=>{let r=Xn.randomPrivateKey(),e=Nh(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},Nh=Nc.getPublicKey;function _S(r){try{return tt.fromHex(r,!0),!0}catch{return!1}}var Wh=(r,e)=>Nc.sign(r,e.slice(0,32)),W3=Nc.verify,Ke=r=>ke.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ke.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ke.Buffer.from(r),Oh=class{constructor(e){Object.assign(this,e)}encode(){return ke.Buffer.from((0,Qs.serialize)(_u,this))}static decode(e){return(0,Qs.deserialize)(_u,this,e)}static decodeUnchecked(e){return(0,Qs.deserializeUnchecked)(_u,this,e)}};var _u=new Map,CS,$3=32,pn=32;function K3(r){return r._bn!==void 0}var ES=1;CS=Symbol.toStringTag;var ve=class extends Oh{constructor(e){if(super({}),this._bn=void 0,K3(e))this._bn=e._bn;else{if(typeof e=="string"){let t=ar.default.decode(e);if(t.length!=pn)throw new Error("Invalid public key input");this._bn=new Ch.default(t)}else this._bn=new Ch.default(e);if(this._bn.byteLength()>pn)throw new Error("Invalid public key input")}}static unique(){let e=new ve(ES);return ES+=1,new ve(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ar.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(ke.Buffer);if(e.length===pn)return e;let t=ke.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[CS](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let o=ke.Buffer.concat([e.toBuffer(),ke.Buffer.from(t),n.toBuffer()]),s=Uc(o);return new ve(s)}static createProgramAddressSync(e,t){let n=ke.Buffer.alloc(0);e.forEach(function(s){if(s.length>$3)throw new TypeError("Max seed length exceeded");n=ke.Buffer.concat([n,Ke(s)])}),n=ke.Buffer.concat([n,t.toBuffer(),ke.Buffer.from("ProgramDerivedAddress")]);let o=Uc(n);if(_S(o))throw new Error("Invalid seeds, address must fall off the curve");return new ve(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,o;for(;n!=0;){try{let s=e.concat(ke.Buffer.from([n]));o=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new ve(e);return _S(t.toBytes())}};ve.default=new ve("11111111111111111111111111111111");_u.set(ve,{kind:"struct",fields:[["_bn","u256"]]});var Hq=new ve("BPFLoader1111111111111111111111111111111111"),es=1280-40-8,$h=127,ca=64,Uh=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Uh.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Dh=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Dh.prototype,"name",{value:"TransactionExpiredTimeoutError"});var qh=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(qh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Vs=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,i)=>{n.set(s.toBase58(),i)});let o=s=>{let i=n.get(s.toBase58());if(i===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return i};return e.map(s=>({programIdIndex:o(s.programId),accountKeyIndexes:s.keys.map(i=>o(i.pubkey)),data:s.data}))}},Ce=(r="publicKey")=>R.blob(32,r),V3=(r="signature")=>R.blob(64,r),Ks=(r="string")=>{let e=R.struct([R.u32("length"),R.u32("lengthPadding"),R.blob(R.offset(R.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(s,i)=>t(s,i).chars.toString(),o.encode=(s,i,u)=>{let f={chars:ke.Buffer.from(s,"utf8")};return n(f,i,u)},o.alloc=s=>R.u32().span+R.u32().span+ke.Buffer.from(s,"utf8").length,o},G3=(r="authorized")=>R.struct([Ce("staker"),Ce("withdrawer")],r),Z3=(r="lockup")=>R.struct([R.ns64("unixTimestamp"),R.ns64("epoch"),Ce("custodian")],r),Y3=(r="voteInit")=>R.struct([Ce("nodePubkey"),Ce("authorizedVoter"),Ce("authorizedWithdrawer"),R.u8("commission")],r),J3=(r="voteAuthorizeWithSeedArgs")=>R.struct([R.u32("voteAuthorizationType"),Ce("currentAuthorityDerivedKeyOwnerPubkey"),Ks("currentAuthorityDerivedKeySeed"),Ce("newAuthorized")],r);function NS(r,e){let t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let s=e[o.property];if(Array.isArray(s))return s.length*t(o.elementLayout)}else if("fields"in o)return NS({layout:o},e[o.property]);return 0},n=0;return r.layout.fields.forEach(o=>{n+=t(o)}),n}function kr(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function Ir(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Ut(r,e){if(!r)throw new Error(e||"Assertion failed")}var Gs=class{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,o=i=>{let u=i.toBase58(),f=n.get(u);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,f)),f},s=o(t);s.isSigner=!0,s.isWritable=!0;for(let i of e){o(i.programId).isInvoked=!0;for(let u of i.keys){let f=o(u.pubkey);f.isSigner||(f.isSigner=u.isSigner),f.isWritable||(f.isWritable=u.isWritable)}}return new Gs(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Ut(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,f])=>f.isSigner&&f.isWritable),n=e.filter(([,f])=>f.isSigner&&!f.isWritable),o=e.filter(([,f])=>!f.isSigner&&f.isWritable),s=e.filter(([,f])=>!f.isSigner&&!f.isWritable),i={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Ut(t.length>0,"Expected at least one writable signer key");let[f]=t[0];Ut(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let u=[...t.map(([f])=>new ve(f)),...n.map(([f])=>new ve(f)),...o.map(([f])=>new ve(f)),...s.map(([f])=>new ve(f))];return[i,u]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,i=>!i.isSigner&&!i.isInvoked&&i.isWritable),[o,s]=this.drainKeysFoundInLookupTable(e.state.addresses,i=>!i.isSigner&&!i.isInvoked&&!i.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){let n=new Array,o=new Array;for(let[s,i]of this.keyMetaMap.entries())if(t(i)){let u=new ve(s),f=e.findIndex(d=>d.equals(u));f>=0&&(Ut(f<256,"Max lookup table index exceeded"),n.push(f),o.push(u),this.keyMetaMap.delete(s))}return[n,o]}},hn=class{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ve(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ar.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Vs(this.staticAccountKeys)}static compile(e){let t=Gs.compile(e.instructions,e.payerKey),[n,o]=t.getMessageComponents(),i=new Vs(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:ar.default.encode(u.data)}));return new hn({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Ir(t,e);let n=this.instructions.map(b=>{let{accounts:T,programIdIndex:A}=b,D=Array.from(ar.default.decode(b.data)),j=[];Ir(j,T.length);let J=[];return Ir(J,D.length),{programIdIndex:A,keyIndicesCount:ke.Buffer.from(j),keyIndices:T,dataLength:ke.Buffer.from(J),data:D}}),o=[];Ir(o,n.length);let s=ke.Buffer.alloc(es);ke.Buffer.from(o).copy(s);let i=o.length;n.forEach(b=>{i+=R.struct([R.u8("programIdIndex"),R.blob(b.keyIndicesCount.length,"keyIndicesCount"),R.seq(R.u8("keyIndex"),b.keyIndices.length,"keyIndices"),R.blob(b.dataLength.length,"dataLength"),R.seq(R.u8("userdatum"),b.data.length,"data")]).encode(b,s,i)}),s=s.slice(0,i);let u=R.struct([R.blob(1,"numRequiredSignatures"),R.blob(1,"numReadonlySignedAccounts"),R.blob(1,"numReadonlyUnsignedAccounts"),R.blob(t.length,"keyCount"),R.seq(Ce("key"),e,"keys"),Ce("recentBlockhash")]),f={numRequiredSignatures:ke.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ke.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ke.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ke.Buffer.from(t),keys:this.accountKeys.map(b=>Ke(b.toBytes())),recentBlockhash:ar.default.decode(this.recentBlockhash)},d=ke.Buffer.alloc(2048),w=u.encode(f,d);return s.copy(d,w),d.slice(0,w+s.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&$h))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let o=t.shift(),s=t.shift(),i=kr(t),u=[];for(let T=0;T<i;T++){let A=t.slice(0,pn);t=t.slice(pn),u.push(new ve(ke.Buffer.from(A)))}let f=t.slice(0,pn);t=t.slice(pn);let d=kr(t),w=[];for(let T=0;T<d;T++){let A=t.shift(),D=kr(t),j=t.slice(0,D);t=t.slice(D);let J=kr(t),re=t.slice(0,J),xe=ar.default.encode(ke.Buffer.from(re));t=t.slice(J),w.push({programIdIndex:A,accounts:j,data:xe})}let b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:s},recentBlockhash:ar.default.encode(ke.Buffer.from(f)),accountKeys:u,instructions:w};return new hn(b)}},ns=class{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Vs(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let o=e-n,s=this.addressTableLookups.reduce((i,u)=>i+u.writableIndexes.length,0);return o<s}else if(e>=this.header.numRequiredSignatures){let o=e-t,i=n-t-this.header.numReadonlyUnsignedAccounts;return o<i}else{let o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let o=e.find(s=>s.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<o.state.addresses.length)t.writable.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<o.state.addresses.length)t.readonly.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=Gs.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let w of s){let b=t.extractTableLookup(w);if(b!==void 0){let[T,{writable:A,readonly:D}]=b;n.push(T),o.writable.push(...A),o.readonly.push(...D)}}let[i,u]=t.getMessageComponents(),d=new Vs(u,o).compileInstructions(e.instructions);return new ns({header:i,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Ir(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();Ir(n,this.compiledInstructions.length);let o=this.serializeAddressTableLookups(),s=Array();Ir(s,this.addressTableLookups.length);let i=R.struct([R.u8("prefix"),R.struct([R.u8("numRequiredSignatures"),R.u8("numReadonlySignedAccounts"),R.u8("numReadonlyUnsignedAccounts")],"header"),R.blob(e.length,"staticAccountKeysLength"),R.seq(Ce(),this.staticAccountKeys.length,"staticAccountKeys"),Ce("recentBlockhash"),R.blob(n.length,"instructionsLength"),R.blob(t.length,"serializedInstructions"),R.blob(s.length,"addressTableLookupsLength"),R.blob(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(es),f=1<<7,d=i.encode({prefix:f,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(w=>w.toBytes()),recentBlockhash:ar.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:o},u);return u.slice(0,d)}serializeInstructions(){let e=0,t=new Uint8Array(es);for(let n of this.compiledInstructions){let o=Array();Ir(o,n.accountKeyIndexes.length);let s=Array();Ir(s,n.data.length),e+=R.struct([R.u8("programIdIndex"),R.blob(o.length,"encodedAccountKeyIndexesLength"),R.seq(R.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),R.blob(s.length,"encodedDataLength"),R.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(es);for(let n of this.addressTableLookups){let o=Array();Ir(o,n.writableIndexes.length);let s=Array();Ir(s,n.readonlyIndexes.length),e+=R.struct([Ce("accountKey"),R.blob(o.length,"encodedWritableIndexesLength"),R.seq(R.u8(),n.writableIndexes.length,"writableIndexes"),R.blob(s.length,"encodedReadonlyIndexesLength"),R.seq(R.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),o=n&$h;Ut(n!==o,"Expected versioned message but received legacy message");let s=o;Ut(s===0,`Expected versioned message with version 0 but found version ${s}`);let i={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],f=kr(t);for(let D=0;D<f;D++)u.push(new ve(t.splice(0,pn)));let d=ar.default.encode(t.splice(0,pn)),w=kr(t),b=[];for(let D=0;D<w;D++){let j=t.shift(),J=kr(t),re=t.splice(0,J),xe=kr(t),X=new Uint8Array(t.splice(0,xe));b.push({programIdIndex:j,accountKeyIndexes:re,data:X})}let T=kr(t),A=[];for(let D=0;D<T;D++){let j=new ve(t.splice(0,pn)),J=kr(t),re=t.splice(0,J),xe=kr(t),X=t.splice(0,xe);A.push({accountKey:j,writableIndexes:re,readonlyIndexes:X})}return new ns({header:i,staticAccountKeys:u,recentBlockhash:d,compiledInstructions:b,addressTableLookups:A})}},Iu={deserializeMessageVersion(r){let e=r[0],t=e&$h;return t===e?"legacy":t},deserialize:r=>{let e=Iu.deserializeMessageVersion(r);if(e==="legacy")return hn.from(r);if(e===0)return ns.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},kS;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(kS||(kS={}));var Q3=ke.Buffer.alloc(ca).fill(0),Xe=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ke.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Ye=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Xe(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let j=0;j<t.length;j++)if(t[j].programId===void 0)throw new Error(`Transaction instruction index ${j} has undefined program id`);let o=[],s=[];t.forEach(j=>{j.keys.forEach(re=>{s.push({...re})});let J=j.programId.toString();o.includes(J)||o.push(J)}),o.forEach(j=>{s.push({pubkey:new ve(j),isSigner:!1,isWritable:!1})});let i=[];s.forEach(j=>{let J=j.pubkey.toString(),re=i.findIndex(xe=>xe.pubkey.toString()===J);re>-1?(i[re].isWritable=i[re].isWritable||j.isWritable,i[re].isSigner=i[re].isSigner||j.isSigner):i.push(j)}),i.sort(function(j,J){return j.isSigner!==J.isSigner?j.isSigner?-1:1:j.isWritable!==J.isWritable?j.isWritable?-1:1:j.pubkey.toBase58().localeCompare(J.pubkey.toBase58())});let u=i.findIndex(j=>j.pubkey.equals(n));if(u>-1){let[j]=i.splice(u,1);j.isSigner=!0,j.isWritable=!0,i.unshift(j)}else i.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let j of this.signatures){let J=i.findIndex(re=>re.pubkey.equals(j.publicKey));if(J>-1)i[J].isSigner||(i[J].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${j.publicKey.toString()}`)}let f=0,d=0,w=0,b=[],T=[];i.forEach(({pubkey:j,isSigner:J,isWritable:re})=>{J?(b.push(j.toString()),f+=1,re||(d+=1)):(T.push(j.toString()),re||(w+=1))});let A=b.concat(T),D=t.map(j=>{let{data:J,programId:re}=j;return{programIdIndex:A.indexOf(re.toString()),accounts:j.keys.map(xe=>A.indexOf(xe.pubkey.toString())),data:ar.default.encode(J)}});return D.forEach(j=>{Ut(j.programIdIndex>=0),j.accounts.forEach(J=>Ut(J>=0))}),new hn({header:{numRequiredSignatures:f,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:w},accountKeys:A,recentBlockhash:e,instructions:D})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,s)=>t[s].equals(o.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let o=n.toString();return t.has(o)?!1:(t.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let i=s.publicKey.toString();t.has(i)||(t.add(i),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let i=s.publicKey.toString();t.has(i)||(t.add(i),n.push(s))}let o=this._compile();this._partialSign(o,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(o=>{let s=Wh(n,o.secretKey);this._addSignature(o.publicKey,Ke(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ut(t.length===64);let n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ke.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:o}of this.signatures)if(n===null){if(t)return!1}else if(!W3(n,e,o.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){let{signatures:t}=this,n=[];Ir(n,t.length);let o=n.length+t.length*64+e.length,s=ke.Buffer.alloc(o);return Ut(t.length<256),ke.Buffer.from(n).copy(s,0),t.forEach(({signature:i},u)=>{i!==null&&(Ut(i.length===64,"signature has invalid length"),ke.Buffer.from(i).copy(s,n.length+u*64))}),e.copy(s,n.length+t.length*64),Ut(s.length<=es,`Transaction too large: ${s.length} > ${es}`),s}get keys(){return Ut(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ut(this.instructions.length===1),this.instructions[0].programId}get data(){return Ut(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=kr(t),o=[];for(let s=0;s<n;s++){let i=t.slice(0,ca);t=t.slice(ca),o.push(ar.default.encode(ke.Buffer.from(i)))}return Ye.populate(hn.from(t),o)}static populate(e,t=[]){let n=new Ye;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((o,s)=>{let i={signature:o==ar.default.encode(Q3)?null:ar.default.decode(o),publicKey:e.accountKeys[s]};n.signatures.push(i)}),e.instructions.forEach(o=>{let s=o.accounts.map(i=>{let u=e.accountKeys[i];return{pubkey:u,isSigner:n.signatures.some(f=>f.publicKey.toString()===u.toString())||e.isAccountSigner(i),isWritable:e.isAccountWritable(i)}});n.instructions.push(new Xe({keys:s,programId:e.accountKeys[o.programIdIndex],data:ar.default.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}};var Ar=class{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ut(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(ca));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Ir(t,this.signatures.length);let n=R.struct([R.blob(t.length,"encodedSignaturesLength"),R.seq(V3(),this.signatures.length,"signatures"),R.blob(e.length,"serializedMessage")]),o=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,s)}static deserialize(e){let t=[...e],n=[],o=kr(t);for(let i=0;i<o;i++)n.push(new Uint8Array(t.splice(0,ca)));let s=Iu.deserialize(new Uint8Array(t));return new Ar(s,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let o of e){let s=n.findIndex(i=>i.equals(o.publicKey));Ut(s>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[s]=Wh(t,o.secretKey)}}addSignature(e,t){Ut(t.byteLength===64,"Signature must be 64 bytes long");let o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Ut(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}},Pn=new ve("SysvarC1ock11111111111111111111111111111111"),jq=new ve("SysvarEpochSchedu1e111111111111111111111111"),Wq=new ve("Sysvar1nstructions1111111111111111111111111"),Th=new ve("SysvarRecentB1ockHashes11111111111111111111"),ua=new ve("SysvarRent111111111111111111111111111111111"),$q=new ve("SysvarRewards111111111111111111111111111111"),Kq=new ve("SysvarS1otHashes111111111111111111111111111"),Vq=new ve("SysvarS1otHistory11111111111111111111111111"),Ph=new ve("SysvarStakeHistory1111111111111111111111111");async function zh(r,e,t,n){let o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await r.sendTransaction(e,t,o),i;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)i=(await r.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:u}=e.nonceInfo,f=u.keys[0].pubkey;i=(await r.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await r.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(i)})`);return s}function X3(r){return new Promise(e=>setTimeout(e,r))}function je(r,e){let t=r.layout.span>=0?r.layout.span:NS(r,e),n=ke.Buffer.alloc(t),o=Object.assign({instruction:r.index},e);return r.layout.encode(o,n),n}var eP=R.nu64("lamportsPerSignature"),tP=R.struct([R.u32("version"),R.u32("state"),Ce("authorizedPubkey"),Ce("nonce"),R.struct([eP],"feeCalculator")]),IS=tP.span;var rP=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},nP=r=>e=>{let t=(0,LS.blob)(r,e),{encode:n,decode:o}=rP(t),s=t;return s.decode=(i,u)=>{let f=o(i,u);return(0,pa.toBigIntLE)(ke.Buffer.from(f))},s.encode=(i,u,f)=>{let d=(0,pa.toBufferLE)(i,r);return n(d,u,f)},s},Zs=nP(8);var Lr=Object.freeze({Create:{index:0,layout:R.struct([R.u32("instruction"),R.ns64("lamports"),R.ns64("space"),Ce("programId")])},Assign:{index:1,layout:R.struct([R.u32("instruction"),Ce("programId")])},Transfer:{index:2,layout:R.struct([R.u32("instruction"),Zs("lamports")])},CreateWithSeed:{index:3,layout:R.struct([R.u32("instruction"),Ce("base"),Ks("seed"),R.ns64("lamports"),R.ns64("space"),Ce("programId")])},AdvanceNonceAccount:{index:4,layout:R.struct([R.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:R.struct([R.u32("instruction"),Ce("authorized")])},AuthorizeNonceAccount:{index:7,layout:R.struct([R.u32("instruction"),Ce("authorized")])},Allocate:{index:8,layout:R.struct([R.u32("instruction"),R.ns64("space")])},AllocateWithSeed:{index:9,layout:R.struct([R.u32("instruction"),Ce("base"),Ks("seed"),R.ns64("space"),Ce("programId")])},AssignWithSeed:{index:10,layout:R.struct([R.u32("instruction"),Ce("base"),Ks("seed"),Ce("programId")])},TransferWithSeed:{index:11,layout:R.struct([R.u32("instruction"),Zs("lamports"),Ks("seed"),Ce("programId")])},UpgradeNonceAccount:{index:12,layout:R.struct([R.u32("instruction")])}}),Qt=class{constructor(){}static createAccount(e){let t=Lr.Create,n=je(t,{lamports:e.lamports,space:e.space,programId:Ke(e.programId.toBuffer())});return new Xe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let o=Lr.TransferWithSeed;t=je(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ke(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let o=Lr.Transfer;t=je(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Xe({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let o=Lr.AssignWithSeed;t=je(o,{base:Ke(e.basePubkey.toBuffer()),seed:e.seed,programId:Ke(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Lr.Assign;t=je(o,{programId:Ke(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Xe({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=Lr.CreateWithSeed,n=je(t,{base:Ke(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ke(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Xe({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){let t=new Ye;"basePubkey"in e&&"seed"in e?t.add(Qt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:IS,programId:this.programId})):t.add(Qt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:IS,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=Lr.InitializeNonceAccount,n=je(t,{authorized:Ke(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Th,isSigner:!1,isWritable:!1},{pubkey:ua,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Xe(o)}static nonceAdvance(e){let t=Lr.AdvanceNonceAccount,n=je(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Th,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Xe(o)}static nonceWithdraw(e){let t=Lr.WithdrawNonceAccount,n=je(t,{lamports:e.lamports});return new Xe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Th,isSigner:!1,isWritable:!1},{pubkey:ua,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=Lr.AuthorizeNonceAccount,n=je(t,{authorized:Ke(e.newAuthorizedPubkey.toBuffer())});return new Xe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let o=Lr.AllocateWithSeed;t=je(o,{base:Ke(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ke(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Lr.Allocate;t=je(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Xe({keys:n,programId:this.programId,data:t})}};Qt.programId=new ve("11111111111111111111111111111111");var oP=es-300,Ys=class{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Ys.chunkSize)+1+1)}static async load(e,t,n,o,s){{let b=await e.getMinimumBalanceForRentExemption(s.length),T=await e.getAccountInfo(n.publicKey,"confirmed"),A=null;if(T!==null){if(T.executable)return console.error("Program load failed, account is already executable"),!1;T.data.length!==s.length&&(A=A||new Ye,A.add(Qt.allocate({accountPubkey:n.publicKey,space:s.length}))),T.owner.equals(o)||(A=A||new Ye,A.add(Qt.assign({accountPubkey:n.publicKey,programId:o}))),T.lamports<b&&(A=A||new Ye,A.add(Qt.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:b-T.lamports})))}else A=new Ye().add(Qt.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:b>0?b:1,space:s.length,programId:o}));A!==null&&await zh(e,A,[t,n],{commitment:"confirmed"})}let i=R.struct([R.u32("instruction"),R.u32("offset"),R.u32("bytesLength"),R.u32("bytesLengthPadding"),R.seq(R.u8("byte"),R.offset(R.u32(),-8),"bytes")]),u=Ys.chunkSize,f=0,d=s,w=[];for(;d.length>0;){let b=d.slice(0,u),T=ke.Buffer.alloc(u+16);i.encode({instruction:0,offset:f,bytes:b,bytesLength:0,bytesLengthPadding:0},T);let A=new Ye().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:T});w.push(zh(e,A,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await X3(1e3/4),f+=u,d=d.slice(u)}await Promise.all(w);{let b=R.struct([R.u32("instruction")]),T=ke.Buffer.alloc(b.span);b.encode({instruction:1},T);let A=new Ye().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ua,isSigner:!1,isWritable:!1}],programId:o,data:T});await zh(e,A,[t,n],{commitment:"confirmed"})}return!0}};Ys.chunkSize=oP;var Gq=new ve("BPFLoader2111111111111111111111111111111111");var Zq=globalThis.fetch;var sP=160,iP=64,aP=sP/iP,Yq=1e3/aP;var Jq={index:1,layout:R.struct([R.u32("typeIndex"),Zs("deactivationSlot"),R.nu64("lastExtendedSlot"),R.u8("lastExtendedStartIndex"),R.u8(),R.seq(Ce(),R.offset(R.u8(),-1),"authority")])};var $t=Ds(Kc(ve),te(),r=>new ve(r)),OS=Vc([te(),qt("base64")]),Kh=Ds(Kc(ke.Buffer),OS,r=>ke.Buffer.from(r[0],"base64")),Qq=30*1e3;function US(r){return lr([K({jsonrpc:qt("2.0"),id:te(),result:r}),K({jsonrpc:qt("2.0"),id:te(),error:K({code:Us(),message:te(),data:_e(yv())})})])}var cP=US(Us());function Dt(r){return Ds(US(r),cP,e=>"error"in e?e:{...e,result:Os(e.result,r)})}function jr(r){return Dt(K({context:K({slot:O()}),value:r}))}function Au(r){return K({context:K({slot:O()}),value:r})}var uP=K({foundation:O(),foundationTerm:O(),initial:O(),taper:O(),terminal:O()}),Xq=Dt(ye(fe(K({epoch:O(),effectiveSlot:O(),amount:O(),postBalance:O(),commission:_e(fe(O()))})))),fP=K({total:O(),validator:O(),foundation:O(),epoch:O()}),lP=K({epoch:O(),slotIndex:O(),slotsInEpoch:O(),absoluteSlot:O(),blockHeight:_e(O()),transactionCount:_e(O())}),pP=K({slotsPerEpoch:O(),leaderScheduleSlotOffset:O(),warmup:un(),firstNormalEpoch:O(),firstNormalSlot:O()}),hP=nh(te(),ye(O())),os=fe(lr([K({}),te()])),dP=K({err:os}),yP=qt("receivedSignature"),eF=K({"solana-core":te(),"feature-set":_e(O())}),tF=jr(K({err:fe(lr([K({}),te()])),logs:fe(ye(te())),accounts:_e(fe(ye(fe(K({executable:un(),owner:te(),lamports:O(),data:ye(te()),rentEpoch:_e(O())}))))),unitsConsumed:_e(O()),returnData:_e(fe(K({programId:te(),data:Vc([te(),qt("base64")])})))})),rF=jr(K({byIdentity:nh(te(),ye(O())),range:K({firstSlot:O(),lastSlot:O()})}));var nF=Dt(uP),oF=Dt(fP),sF=Dt(lP),iF=Dt(pP),aF=Dt(hP),cF=Dt(O()),uF=jr(K({total:O(),circulating:O(),nonCirculating:O(),nonCirculatingAccounts:ye($t)})),mP=K({amount:te(),uiAmount:fe(O()),decimals:O(),uiAmountString:_e(te())}),fF=jr(ye(K({address:$t,amount:te(),uiAmount:fe(O()),decimals:O(),uiAmountString:_e(te())}))),lF=jr(ye(K({pubkey:$t,account:K({executable:un(),owner:$t,lamports:O(),data:Kh,rentEpoch:O()})}))),Fh=K({program:te(),parsed:Us(),space:O()}),pF=jr(ye(K({pubkey:$t,account:K({executable:un(),owner:$t,lamports:O(),data:Fh,rentEpoch:O()})}))),hF=jr(ye(K({lamports:O(),address:$t}))),Vh=K({executable:un(),owner:$t,lamports:O(),data:Kh,rentEpoch:O()}),dF=K({pubkey:$t,account:Vh}),gP=Ds(lr([Kc(ke.Buffer),Fh]),lr([OS,Fh]),r=>Array.isArray(r)?Os(r,Kh):r),xP=K({executable:un(),owner:$t,lamports:O(),data:gP,rentEpoch:O()}),yF=K({pubkey:$t,account:xP}),mF=K({state:lr([qt("active"),qt("inactive"),qt("activating"),qt("deactivating")]),active:O(),inactive:O()}),gF=Dt(ye(K({signature:te(),slot:O(),err:os,memo:fe(te()),blockTime:_e(fe(O()))}))),xF=Dt(ye(K({signature:te(),slot:O(),err:os,memo:fe(te()),blockTime:_e(fe(O()))}))),bF=K({subscription:O(),result:Au(Vh)}),bP=K({pubkey:$t,account:Vh}),wF=K({subscription:O(),result:Au(bP)}),wP=K({parent:O(),slot:O(),root:O()}),vF=K({subscription:O(),result:wP}),vP=lr([K({type:lr([qt("firstShredReceived"),qt("completed"),qt("optimisticConfirmation"),qt("root")]),slot:O(),timestamp:O()}),K({type:qt("createdBank"),parent:O(),slot:O(),timestamp:O()}),K({type:qt("frozen"),slot:O(),timestamp:O(),stats:K({numTransactionEntries:O(),numSuccessfulTransactions:O(),numFailedTransactions:O(),maxTransactionsPerEntry:O()})}),K({type:qt("dead"),slot:O(),timestamp:O(),err:te()})]),SF=K({subscription:O(),result:vP}),_F=K({subscription:O(),result:Au(lr([dP,yP]))}),EF=K({subscription:O(),result:O()}),kF=K({pubkey:te(),gossip:fe(te()),tpu:fe(te()),rpc:fe(te()),version:fe(te())}),AS=K({votePubkey:te(),nodePubkey:te(),activatedStake:O(),epochVoteAccount:un(),epochCredits:ye(Vc([O(),O(),O()])),commission:O(),lastVote:O(),rootSlot:fe(O())}),IF=Dt(K({current:ye(AS),delinquent:ye(AS)})),SP=lr([qt("processed"),qt("confirmed"),qt("finalized")]),_P=K({slot:O(),confirmations:fe(O()),err:os,confirmationStatus:_e(SP)}),AF=jr(ye(fe(_P))),RF=Dt(O()),DS=K({accountKey:$t,writableIndexes:ye(O()),readonlyIndexes:ye(O())}),Gh=K({signatures:ye(te()),message:K({accountKeys:ye(te()),header:K({numRequiredSignatures:O(),numReadonlySignedAccounts:O(),numReadonlyUnsignedAccounts:O()}),instructions:ye(K({accounts:ye(O()),data:te(),programIdIndex:O()})),recentBlockhash:te(),addressTableLookups:_e(ye(DS))})}),qS=K({pubkey:$t,signer:un(),writable:un(),source:_e(lr([qt("transaction"),qt("lookupTable")]))}),FS=K({accountKeys:ye(qS),signatures:ye(te())}),HS=K({parsed:Us(),program:te(),programId:$t}),jS=K({accounts:ye($t),data:te(),programId:$t}),EP=lr([jS,HS]),kP=lr([K({parsed:Us(),program:te(),programId:te()}),K({accounts:ye(te()),data:te(),programId:te()})]),WS=Ds(EP,kP,r=>"accounts"in r?Os(r,jS):Os(r,HS)),$S=K({signatures:ye(te()),message:K({accountKeys:ye(qS),instructions:ye(WS),recentBlockhash:te(),addressTableLookups:_e(fe(ye(DS)))})}),Eu=K({accountIndex:O(),mint:te(),owner:_e(te()),uiTokenAmount:mP}),KS=K({writable:ye($t),readonly:ye($t)}),Ru=K({err:os,fee:O(),innerInstructions:_e(fe(ye(K({index:O(),instructions:ye(K({accounts:ye(O()),data:te(),programIdIndex:O()}))})))),preBalances:ye(O()),postBalances:ye(O()),logMessages:_e(fe(ye(te()))),preTokenBalances:_e(fe(ye(Eu))),postTokenBalances:_e(fe(ye(Eu))),loadedAddresses:_e(KS),computeUnitsConsumed:_e(O())}),Zh=K({err:os,fee:O(),innerInstructions:_e(fe(ye(K({index:O(),instructions:ye(WS)})))),preBalances:ye(O()),postBalances:ye(O()),logMessages:_e(fe(ye(te()))),preTokenBalances:_e(fe(ye(Eu))),postTokenBalances:_e(fe(ye(Eu))),loadedAddresses:_e(KS),computeUnitsConsumed:_e(O())}),Xs=lr([qt(0),qt("legacy")]),ss=K({pubkey:te(),lamports:O(),postBalance:fe(O()),rewardType:fe(te()),commission:_e(fe(O()))}),BF=Dt(fe(K({blockhash:te(),previousBlockhash:te(),parentSlot:O(),transactions:ye(K({transaction:Gh,meta:fe(Ru),version:_e(Xs)})),rewards:_e(ye(ss)),blockTime:fe(O()),blockHeight:fe(O())}))),TF=Dt(fe(K({blockhash:te(),previousBlockhash:te(),parentSlot:O(),rewards:_e(ye(ss)),blockTime:fe(O()),blockHeight:fe(O())}))),PF=Dt(fe(K({blockhash:te(),previousBlockhash:te(),parentSlot:O(),transactions:ye(K({transaction:FS,meta:fe(Ru),version:_e(Xs)})),rewards:_e(ye(ss)),blockTime:fe(O()),blockHeight:fe(O())}))),zF=Dt(fe(K({blockhash:te(),previousBlockhash:te(),parentSlot:O(),transactions:ye(K({transaction:$S,meta:fe(Zh),version:_e(Xs)})),rewards:_e(ye(ss)),blockTime:fe(O()),blockHeight:fe(O())}))),MF=Dt(fe(K({blockhash:te(),previousBlockhash:te(),parentSlot:O(),transactions:ye(K({transaction:FS,meta:fe(Zh),version:_e(Xs)})),rewards:_e(ye(ss)),blockTime:fe(O()),blockHeight:fe(O())}))),LF=Dt(fe(K({blockhash:te(),previousBlockhash:te(),parentSlot:O(),rewards:_e(ye(ss)),blockTime:fe(O()),blockHeight:fe(O())}))),CF=Dt(fe(K({blockhash:te(),previousBlockhash:te(),parentSlot:O(),transactions:ye(K({transaction:Gh,meta:fe(Ru)})),rewards:_e(ye(ss)),blockTime:fe(O())}))),NF=Dt(fe(K({blockhash:te(),previousBlockhash:te(),parentSlot:O(),signatures:ye(te()),blockTime:fe(O())}))),OF=Dt(fe(K({slot:O(),meta:Ru,blockTime:_e(fe(O())),transaction:Gh,version:_e(Xs)}))),UF=Dt(fe(K({slot:O(),transaction:$S,meta:fe(Zh),blockTime:_e(fe(O())),version:_e(Xs)}))),DF=jr(K({blockhash:te(),feeCalculator:K({lamportsPerSignature:O()})})),qF=jr(K({blockhash:te(),lastValidBlockHeight:O()})),IP=K({slot:O(),numTransactions:O(),numSlots:O(),samplePeriodSecs:O()}),FF=Dt(ye(IP)),HF=jr(fe(K({feeCalculator:K({lamportsPerSignature:O()})}))),jF=Dt(te()),WF=Dt(te()),AP=K({err:os,logs:ye(te()),signature:te()}),$F=K({result:Au(AP),subscription:O()});var ts=class{constructor(e){this._keypair=void 0,this._keypair=e??SS()}static generate(){return new ts(SS())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!t||!t.skipValidation){let o=e.slice(0,32),s=Nh(o);for(let i=0;i<32;i++)if(n[i]!==s[i])throw new Error("provided secretKey is invalid")}return new ts({publicKey:n,secretKey:e})}static fromSeed(e){let t=Nh(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new ts({publicKey:t,secretKey:n})}get publicKey(){return new ve(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},aa=Object.freeze({CreateLookupTable:{index:0,layout:R.struct([R.u32("instruction"),Zs("recentSlot"),R.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:R.struct([R.u32("instruction")])},ExtendLookupTable:{index:2,layout:R.struct([R.u32("instruction"),Zs(),R.seq(Ce(),R.offset(R.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:R.struct([R.u32("instruction")])},CloseLookupTable:{index:4,layout:R.struct([R.u32("instruction")])}});var Hh=class{constructor(){}static createLookupTable(e){let[t,n]=ve.findProgramAddressSync([e.authority.toBuffer(),(0,pa.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),o=aa.CreateLookupTable,s=je(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Qt.programId,isSigner:!1,isWritable:!1}];return[new Xe({programId:this.programId,keys:i,data:s}),t]}static freezeLookupTable(e){let t=aa.FreezeLookupTable,n=je(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Xe({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){let t=aa.ExtendLookupTable,n=je(t,{addresses:e.addresses.map(s=>s.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Qt.programId,isSigner:!1,isWritable:!1}),new Xe({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){let t=aa.DeactivateLookupTable,n=je(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Xe({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){let t=aa.CloseLookupTable,n=je(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Xe({programId:this.programId,keys:o,data:n})}};Hh.programId=new ve("AddressLookupTab1e1111111111111111111111111");var vu=Object.freeze({RequestUnits:{index:0,layout:R.struct([R.u8("instruction"),R.u32("units"),R.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:R.struct([R.u8("instruction"),R.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:R.struct([R.u8("instruction"),R.u32("units")])},SetComputeUnitPrice:{index:3,layout:R.struct([R.u8("instruction"),Zs("microLamports")])}}),jh=class{constructor(){}static requestUnits(e){let t=vu.RequestUnits,n=je(t,e);return new Xe({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=vu.RequestHeapFrame,n=je(t,e);return new Xe({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=vu.SetComputeUnitLimit,n=je(t,e);return new Xe({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=vu.SetComputeUnitPrice,n=je(t,{microLamports:BigInt(e.microLamports)});return new Xe({keys:[],programId:this.programId,data:n})}};jh.programId=new ve("ComputeBudget111111111111111111111111111111");var RS=64,BS=32,TS=64,PS=R.struct([R.u8("numSignatures"),R.u8("padding"),R.u16("signatureOffset"),R.u16("signatureInstructionIndex"),R.u16("publicKeyOffset"),R.u16("publicKeyInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u16("messageInstructionIndex")]),fa=class{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:o,instructionIndex:s}=e;Ut(t.length===BS,`Public Key must be ${BS} bytes but received ${t.length} bytes`),Ut(o.length===TS,`Signature must be ${TS} bytes but received ${o.length} bytes`);let i=PS.span,u=i+t.length,f=u+o.length,d=1,w=ke.Buffer.alloc(f+n.length),b=s??65535;return PS.encode({numSignatures:d,padding:0,signatureOffset:u,signatureInstructionIndex:b,publicKeyOffset:i,publicKeyInstructionIndex:b,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:b},w),w.fill(t,i),w.fill(o,u),w.fill(n,f),new Xe({keys:[],programId:fa.programId,data:w})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:o}=e;Ut(t.length===RS,`Private key must be ${RS} bytes but received ${t.length} bytes`);try{let s=ts.fromSecretKey(t),i=s.publicKey.toBytes(),u=Wh(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:u,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};fa.programId=new ve("Ed25519SigVerify111111111111111111111111111");fn.hmacSha256Sync=(r,...e)=>{let t=kh.create(Uc,r);return e.forEach(n=>t.update(n)),t.digest()};var RP=(r,e)=>vS(r,e,{der:!1,recovered:!0});fn.isValidPrivateKey;var BP=xS,zS=32,Mh=20,MS=64,TP=11,Lh=R.struct([R.u8("numSignatures"),R.u16("signatureOffset"),R.u8("signatureInstructionIndex"),R.u16("ethAddressOffset"),R.u8("ethAddressInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u8("messageInstructionIndex"),R.blob(20,"ethAddress"),R.blob(64,"signature"),R.u8("recoveryId")]),rs=class{constructor(){}static publicKeyToEthAddress(e){Ut(e.length===MS,`Public key must be ${MS} bytes but received ${e.length} bytes`);try{return ke.Buffer.from(Eh(Ke(e))).slice(-Mh)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:o,recoveryId:s,instructionIndex:i}=e;return rs.createInstructionWithEthAddress({ethAddress:rs.publicKeyToEthAddress(t),message:n,signature:o,recoveryId:s,instructionIndex:i})}static createInstructionWithEthAddress(e){let{ethAddress:t,message:n,signature:o,recoveryId:s,instructionIndex:i=0}=e,u;typeof t=="string"?t.startsWith("0x")?u=ke.Buffer.from(t.substr(2),"hex"):u=ke.Buffer.from(t,"hex"):u=t,Ut(u.length===Mh,`Address must be ${Mh} bytes but received ${u.length} bytes`);let f=1+TP,d=f,w=f+u.length,b=w+o.length+1,T=1,A=ke.Buffer.alloc(Lh.span+n.length);return Lh.encode({numSignatures:T,signatureOffset:w,signatureInstructionIndex:i,ethAddressOffset:d,ethAddressInstructionIndex:i,messageDataOffset:b,messageDataSize:n.length,messageInstructionIndex:i,signature:Ke(o),ethAddress:Ke(u),recoveryId:s},A),A.fill(Ke(n),Lh.span),new Xe({keys:[],programId:rs.programId,data:A})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:o}=e;Ut(t.length===zS,`Private key must be ${zS} bytes but received ${t.length} bytes`);try{let s=Ke(t),i=BP(s,!1).slice(1),u=ke.Buffer.from(Eh(Ke(n))),[f,d]=RP(u,s);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:f,recoveryId:d,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};rs.programId=new ve("KeccakSecp256k11111111111111111111111111111");var PP=new ve("StakeConfig11111111111111111111111111111111");var la=class{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}};la.default=new la(0,0,ve.default);var lo=Object.freeze({Initialize:{index:0,layout:R.struct([R.u32("instruction"),G3(),Z3()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),Ce("newAuthorized"),R.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:R.struct([R.u32("instruction")])},Split:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Withdraw:{index:4,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Deactivate:{index:5,layout:R.struct([R.u32("instruction")])},Merge:{index:7,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:R.struct([R.u32("instruction"),Ce("newAuthorized"),R.u32("stakeAuthorizationType"),Ks("authoritySeed"),Ce("authorityOwner")])}}),KF=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),ku=class{constructor(){}static initialize(e){let{stakePubkey:t,authorized:n,lockup:o}=e,s=o||la.default,i=lo.Initialize,u=je(i,{authorized:{staker:Ke(n.staker.toBuffer()),withdrawer:Ke(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ke(s.custodian.toBuffer())}}),f={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ua,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new Xe(f)}static createAccountWithSeed(e){let t=new Ye;t.add(Qt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static createAccount(e){let t=new Ye;t.add(Qt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:n,votePubkey:o}=e,s=lo.Delegate,i=je(s);return new Ye().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:Ph,isSigner:!1,isWritable:!1},{pubkey:PP,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){let{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:i}=e,u=lo.Authorize,f=je(u,{newAuthorized:Ke(o.toBuffer()),stakeAuthorizationType:s.index}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Pn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return i&&d.push({pubkey:i,isSigner:!1,isWritable:!1}),new Ye().add({keys:d,programId:this.programId,data:f})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:n,authoritySeed:o,authorityOwner:s,newAuthorizedPubkey:i,stakeAuthorizationType:u,custodianPubkey:f}=e,d=lo.AuthorizeWithSeed,w=je(d,{newAuthorized:Ke(i.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:Ke(s.toBuffer())}),b=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1}];return f&&b.push({pubkey:f,isSigner:!1,isWritable:!1}),new Ye().add({keys:b,programId:this.programId,data:w})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,lamports:s}=e,i=lo.Split,u=je(i,{lamports:s});return new Xe({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){let t=new Ye;return t.add(Qt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,basePubkey:s,seed:i,lamports:u}=e,f=new Ye;return f.add(Qt.allocate({accountPubkey:o,basePubkey:s,seed:i,space:this.space,programId:this.programId})),f.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,lamports:u}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:o}=e,s=lo.Merge,i=je(s);return new Ye().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:Ph,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:n,toPubkey:o,lamports:s,custodianPubkey:i}=e,u=lo.Withdraw,f=je(u,{lamports:s}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:Ph,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return i&&d.push({pubkey:i,isSigner:!1,isWritable:!1}),new Ye().add({keys:d,programId:this.programId,data:f})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:n}=e,o=lo.Deactivate,s=je(o);return new Ye().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};ku.programId=new ve("Stake11111111111111111111111111111111111111");ku.space=200;var Su=Object.freeze({InitializeAccount:{index:0,layout:R.struct([R.u32("instruction"),Y3()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),Ce("newAuthorized"),R.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:R.struct([R.u32("instruction"),J3()])}}),VF=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),Js=class{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:n,voteInit:o}=e,s=Su.InitializeAccount,i=je(s,{voteInit:{nodePubkey:Ke(o.nodePubkey.toBuffer()),authorizedVoter:Ke(o.authorizedVoter.toBuffer()),authorizedWithdrawer:Ke(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ua,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Xe(u)}static createAccount(e){let t=new Ye;return t.add(Qt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:s}=e,i=Su.Authorize,u=je(i,{newAuthorized:Ke(o.toBuffer()),voteAuthorizationType:s.index}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ye().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:s,voteAuthorizationType:i,votePubkey:u}=e,f=Su.AuthorizeWithSeed,d=je(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ke(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:Ke(s.toBuffer()),voteAuthorizationType:i.index}}),w=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Ye().add({keys:w,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:s}=e,i=Su.Withdraw,u=je(i,{lamports:o}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ye().add({keys:f,programId:this.programId,data:u})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return Js.withdraw(e)}};Js.programId=new ve("Vote111111111111111111111111111111111111111");Js.space=3731;var GF=new ve("Va1idator1nfo111111111111111111111111111111"),ZF=K({name:te(),website:_e(te()),details:_e(te()),keybaseUsername:_e(te())});var YF=new ve("Vote111111111111111111111111111111111111111"),JF=R.struct([Ce("nodePubkey"),Ce("authorizedWithdrawer"),R.u8("commission"),R.nu64(),R.seq(R.struct([R.nu64("slot"),R.u32("confirmationCount")]),R.offset(R.u32(),-8),"votes"),R.u8("rootSlotValid"),R.nu64("rootSlot"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),Ce("authorizedVoter")]),R.offset(R.u32(),-8),"authorizedVoters"),R.struct([R.seq(R.struct([Ce("authorizedPubkey"),R.nu64("epochOfLastAuthorizedSwitch"),R.nu64("targetEpoch")]),32,"buf"),R.nu64("idx"),R.u8("isEmpty")],"priorVoters"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),R.nu64("credits"),R.nu64("prevCredits")]),R.offset(R.u32(),-8),"epochCredits"),R.struct([R.nu64("slot"),R.nu64("timestamp")],"lastTimestamp")]);h();var VS=ze(zi()),GS=ze(Rs()),Bu=ze(eh()),zP=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},Tu=r=>e=>{let t=(0,GS.blob)(r,e),{encode:n,decode:o}=zP(t),s=t;return s.decode=(i,u)=>{let f=o(i,u);return(0,Bu.toBigIntLE)(VS.Buffer.from(f))},s.encode=(i,u,f)=>{let d=(0,Bu.toBufferLE)(i,r);return n(d,u,f)},s},MP=Tu(8),t7=Tu(16),r7=Tu(24),n7=Tu(32);h();var NP=ze(zi());h();var LP=ze(zi()),ei=ze(Rs());h();var Mu=ze(ls());h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();var ZP=new Error("Unsupported path."),Pu=(r,e=ZP)=>{throw e};h();var zu=r=>{try{if(r==null)throw"JSON must be set";if(!isNaN(parseInt(r)))throw"Numbers are not valid JSON";return JSON.parse(r),!0}catch(e){return!1}};h();h();h();h();h();h();h();h();h();h();h();h();h();var QS=ze(ha()),XS=ze(JS());QS.default.extend(XS.default);h();var r8=ze(ha());h();var od=ze(ha()),r_=ze(e_()),n_=ze(t_());od.default.extend(r_.default);od.default.extend(n_.default);h();var s_=ze(ha()),i_=ze(o_());s_.default.extend(i_.default);h();h();h();h();h();h();h();h();h();h();h();h();h();var ad=ze(Hn()),ej=Mu.Buffer.alloc(64).fill(0);var Lu=r=>r&&"version"in r,a_=(r,e)=>Lu(r)?Mu.Buffer.from(r.serialize()):r.serialize(e!=null?e:{requireAllSignatures:!1,verifySignatures:!1}),ti=(r,e)=>ad.default.encode(a_(r,e));var da=(r,e)=>{let t;if(e==="base64")t=Mu.Buffer.from(r,"base64");else if(e==="bs58")t=ad.default.decode(r);else throw new Error("Unsupported encoding");return Ar.deserialize(t)};var ma=ze(Hn()),u_=ze(fu());h();var br=class extends Error{constructor({code:t,message:n},o){super(n);this.code=t,this.message=n,typeof o!="undefined"&&(this.data=o)}toString(){return this.message}};h();h();h();h();h();var x8={canSerialize:r=>typeof r=="number"&&Number.isNaN(r),serialize:r=>({["$"+"NAN"]:1}),deserialize:r=>NaN},b8={canSerialize:r=>r instanceof Date,serialize:r=>({[`$${"DATE"}`]:r.valueOf()}),deserialize:r=>new Date(r[`$${"DATE"}`])},w8={canSerialize:r=>r instanceof Uint8Array,serialize:r=>({[`$${"UINT8ARRAY"}`]:Array.from(r)}),deserialize:r=>Uint8Array.from(r[`$${"UINT8ARRAY"}`])},v8={canSerialize:r=>typeof r=="bigint",serialize:r=>({[`$${"BIGINT"}`]:r.toString()}),deserialize:r=>BigInt(r[`$${"BIGINT"}`])},S8={canSerialize:r=>r instanceof URL,serialize:r=>({[`$${"URL"}`]:r.href}),deserialize:r=>new URL(r[`$${"URL"}`])},Cu={["NAN"]:x8,["DATE"]:b8,["UINT8ARRAY"]:w8,["BIGINT"]:v8,["URL"]:S8};var _8=function(r){let e=this[r];for(let t of Object.values(Cu))if(t.canSerialize(e))return t.serialize(e);return e},E8=(r,e)=>{if(e&&typeof e=="object"&&Object.keys(e)[0]){let t=Object.keys(e)[0].slice(1);if(t in Cu)return Cu[t].deserialize(e)}return e},ya=r=>JSON.stringify(r,_8),Nu=r=>JSON.parse(r,E8);h();var Wr,$r,cd=class{constructor({port:e}){Oe(this,Wr,void 0);Oe(this,$r,!1);Ht(this,Wr,e),Ht(this,$r,!1)}get status(){return ne(this,$r)?"started":"stopped"}start(){return qe(this,null,function*(){if(ne(this,$r))return;let e=ne(this,Wr).onClose(()=>{Ht(this,$r,!1),e()});yield ne(this,Wr).start(),Ht(this,$r,!0)})}close(){return qe(this,null,function*(){!ne(this,$r)||(yield ne(this,Wr).close(),Ht(this,$r,!1))})}send(e){return qe(this,null,function*(){if(!ne(this,$r))throw new Error("Cannot read stream: RpcTransport has not been started");if(Array.isArray(e)){let w=Xf.parse(e),b=new Set(w.map(A=>A.id)),T=ya(w);ne(this,Wr).postMessage(T);try{for(var t=pf(this.recv()),n,o,s;n=!(o=yield t.next()).done;n=!1){let A=o.value;if(Array.isArray(A)&&A.every(D=>b.has(D.id)))return A}}catch(o){s=[o]}finally{try{n&&(o=t.return)&&(yield o.call(t))}finally{if(s)throw s[0]}}throw new Error("Failed to get response: request ids="+b)}else{let w=Wa.parse(e),{id:b}=w,T=ya(w);ne(this,Wr).postMessage(T);try{for(var i=pf(this.recv()),u,f,d;u=!(f=yield i.next()).done;u=!1){let A=f.value;if("id"in A&&A.id===b&&!("method"in A))return A}}catch(f){d=[f]}finally{try{u&&(f=i.return)&&(yield f.call(i))}finally{if(d)throw d[0]}}throw new Error("Failed to get response: request id="+b)}})}addListener(e){let t=o=>qe(this,null,function*(){let s=this.recv()[Symbol.asyncIterator](),i=()=>{},u=()=>new Promise(d=>i=()=>d(null));function f(){var d;(d=s.return)==null||d.call(s),i(),o.signal.removeEventListener("abort",f)}try{for(o.signal.addEventListener("abort",f);;){let d=yield Promise.race([s.next(),u()]);if(!d)break;try{e(d.value)}catch(w){console.error(w)}}f()}catch(d){throw f(),d}}),n=new AbortController;return t(n),()=>n.abort()}recv(){let e=[],t=()=>{},n=()=>new Promise(w=>t=w),o=!1,s=ne(this,Wr).onClose(()=>{o=!0,t(),s()}),i=ne(this,Wr).onMessage(w=>{if(!!zu(w))try{let b=Nu(w);if("method"in b&&"id"in b){t();return}if(Array.isArray(b)){let T=el.parse(b);e.push(T),t()}else{let T=ja.parse(b);if("id"in T){let A=Ka.parse(b);e.push(A),t()}else{let A=_i.parse(b);e.push(A),t()}}}catch(b){console.error(b)}}),u=()=>{s(),i()},f={next(){return qe(this,null,function*(){for(;!o;){let w=e.shift();if(w)return{done:!1,value:w};yield n()}return u(),{done:!0,value:void 0}})},throw(){return qe(this,null,function*(){return u(),{done:!0,value:void 0}})},return(){return qe(this,null,function*(){return u(),{done:!0,value:void 0}})}};return{[Symbol.asyncIterator](){return f}}}};Wr=new WeakMap,$r=new WeakMap;var ri=class extends cd{static createPort(){let e=[],t=[];function n(i){for(let u of e)try{u(i.detail)}catch(f){console.error(f)}}function o(){for(let i of t)try{i()}catch(u){console.error(u)}}return{start(){return qe(this,null,function*(){window.addEventListener("phantomEthRpcMessage",n),window.addEventListener("beforeunload",function i(){window.removeEventListener("phantomEthRpcMessage",n),window.removeEventListener("beforeunload",i),o()})})},close(){return qe(this,null,function*(){window.removeEventListener("phantomEthRpcMessage",n),o()})},postMessage(i){setTimeout(()=>{window.dispatchEvent(new CustomEvent("dappEthRpcMessage",{detail:i}))},0)},onMessage(i){return e.push(i),()=>{e.splice(e.indexOf(i),1)}},onClose(i){return t.push(i),()=>{t.splice(t.indexOf(i),1)}}}}constructor(){super({port:ri.createPort()})}};h();var ud=ze(Hn());h();function fd(r){return Lu(r)?"versioned":"legacy"}function I8(r){let e=ud.default.decode(r),t=Ar.deserialize(e);return{transaction:t,metadata:{numInstructions:t.message.compiledInstructions.length,type:0}}}function ld(r){let{transaction:e,type:t}=r,n=ud.default.decode(e);if(t==="legacy"){let o=Ye.from(n);return{transaction:o,metadata:{numInstructions:o.instructions.length,type:t}}}else{if(t===0)return I8(e);throw new Error(`Unknown transaction type => ${t}`)}}var c_=r=>Pr.common.SolanaSendOptions.safeParse(r).success,ni,Kr,pd=class extends u_.EventEmitter{constructor(t){super();this.isPhantom=!0;this._publicKey=null;Oe(this,ni,void 0);Oe(this,Kr,t=>qe(this,null,function*(){var o;let n;try{let{method:s}=t,i="params"in t?(o=t.params)!=null?o:[]:[],u=Pr[s];if(!u)throw new Error("MethodNotFound");let f=u.request.safeParse({jsonrpc:"2.0",id:crypto.randomUUID(),method:s,params:i});if(!f.success)throw f.error;let d=f.data;if(n=u.response.parse(yield ne(this,ni).send(d)),"error"in n)throw new br(n.error);try{s==="sol_connect"?(this._publicKey=new ve(n.result.publicKey),this.emit(Pr.common.SolanaProviderEvent.Connect,this._publicKey)):s==="sol_signIn"&&!this.isConnected&&(this._publicKey=new ve(n.result.address),this.emit(Pr.common.SolanaProviderEvent.Connect,this._publicKey)),s==="sol_disconnect"&&(this._publicKey=null,this.emit(Pr.common.SolanaProviderEvent.Disconnect))}catch(w){console.error("event emitter error",w)}return n.result}catch(s){throw s instanceof br?s:s instanceof cr?new br({code:-32e3,message:"Missing or invalid parameters."},{method:t.method}):s instanceof Error&&s.message==="MethodNotFound"?new br({code:-32601,message:"The method does not exist / is not available."},{method:t.method}):new br({code:-32603,message:"Internal JSON-RPC error."},{method:t.method})}}));this.connect=t=>qe(this,null,function*(){let n=yield ne(this,Kr).call(this,{method:"sol_connect",params:(t==null?void 0:t.onlyIfTrusted)===void 0?{}:{onlyIfTrusted:t==null?void 0:t.onlyIfTrusted}});return{publicKey:new ve(n.publicKey)}});this.disconnect=()=>qe(this,null,function*(){this.isConnected&&(yield ne(this,Kr).call(this,{method:"sol_disconnect",params:void 0}))});this.signTransaction=t=>qe(this,null,function*(){if(!t)throw new br({code:-32e3,message:"Missing or invalid parameters."});let n=fd(t),o=yield ne(this,Kr).call(this,{method:"sol_signTransaction",params:{transaction:ti(t)}});return ld({transaction:o.transaction,type:n==="versioned"?0:"legacy"}).transaction});this.signAllTransactions=(...n)=>qe(this,[...n],function*(t=[]){if(!t||t.length===0)throw new br({code:-32e3,message:"Missing or invalid parameters."});let o=t.map(i=>fd(i)),s=yield ne(this,Kr).call(this,{method:"sol_signAllTransactions",params:{transactions:t.map(i=>ti(i))}});if(s.length!==t.length)throw new Error("Invalid number of transactions returned");return s.map((i,u)=>{let f=o[u];return ld({transaction:i.transaction,type:f==="versioned"?0:"legacy"}).transaction})});this.signAndSendTransaction=(o,...s)=>qe(this,[o,...s],function*(t,n={}){if(!t)throw new br({code:-32e3,message:"Missing or invalid parameters."});let i={};if(n)if(c_(n))i.skipPreflight=n.skipPreflight,i.preflightCommitment=n.preflightCommitment;else throw new br({code:-32e3,message:"Missing or invalid parameters."});return yield ne(this,Kr).call(this,{method:"sol_signAndSendTransaction",params:{transaction:ti(t),options:i}})});this.signAndSendAllTransactions=(o,...s)=>qe(this,[o,...s],function*(t,n={}){if(!t)throw new br({code:-32e3,message:"Missing or invalid parameters."});let i={};if(n)if(c_(n))i.skipPreflight=n.skipPreflight,i.preflightCommitment=n.preflightCommitment;else throw new br({code:-32e3,message:"Missing or invalid parameters."});return yield ne(this,Kr).call(this,{method:"sol_signAndSendAllTransactions",params:{transactions:t.map(f=>ti(f)),options:i}})});this.signMessage=(t,n="utf8")=>qe(this,null,function*(){let o=yield ne(this,Kr).call(this,{method:"sol_signMessage",params:{message:ma.default.encode(t),display:n}}),s=ma.default.decode(o.signature),i=new ve(o.publicKey);return{signature:s,publicKey:i}});this.signIn=t=>qe(this,null,function*(){let n=yield ne(this,Kr).call(this,{method:"sol_signIn",params:{signInData:t}}),o=new ve(n.address),s=ma.default.decode(n.signedMessage),i=ma.default.decode(n.signature);return{address:o,signedMessage:s,signature:i}});this.handleNotification=t=>qe(this,null,function*(){var n,o,s,i;switch(t.method){case"phantom_accountChanged":{let u=Es.phantom_accountChanged.notification.safeParse(t);if(!u.success)return;let f=(n=u.data.params)==null?void 0:n.sol;f!==((o=this.publicKey)==null?void 0:o.toBase58())&&this.emit(Pr.common.SolanaProviderEvent.AccountChanged,f?new ve(f):null);break}case"phantom_trustRevoked":{let u=Es.phantom_trustRevoked.notification.safeParse(t);if(!u.success)return;((s=u.data.params)==null?void 0:s.sol)===((i=this.publicKey)==null?void 0:i.toBase58())&&this.emit(Pr.common.SolanaProviderEvent.AccountChanged,null);break}}});this.request=o=>qe(this,[o],function*({method:t,params:n}){switch(t){case"connect":return yield this.connect(n);case"disconnect":return yield this.disconnect();case"signMessage":return yield this.signMessage(n==null?void 0:n.message,n==null?void 0:n.display);case"signTransaction":{let s=da(n==null?void 0:n.message,"bs58");return yield this.signTransaction(s)}case"signAllTransactions":{let s=[];(n==null?void 0:n.message)&&typeof(n==null?void 0:n.message)=="string"?s=[n==null?void 0:n.message]:(n==null?void 0:n.message)&&Array.isArray(n==null?void 0:n.message)?s=n==null?void 0:n.message:n!=null&&n.messages&&(s=n==null?void 0:n.messages);let i=s.map(u=>da(u,"bs58"));return yield this.signAllTransactions(i)}case"signAndSendTransaction":{let s=da(n==null?void 0:n.message,"bs58");return yield this.signAndSendTransaction(s)}default:throw Pu(t),new Error("unsupported method: "+t)}});Ht(this,ni,t),ne(this,ni).start(),t.addListener(n=>{let o=_i.safeParse(n);!o.success||this.handleNotification(o.data)}),this.addListener(Pr.common.SolanaProviderEvent.AccountChanged,n=>{n?this._publicKey=n:(this._publicKey=null,this.emit(Pr.common.SolanaProviderEvent.Disconnect))})}get publicKey(){return this._publicKey}get isConnected(){return this._publicKey!==null}};ni=new WeakMap,Kr=new WeakMap;var oi=class extends pd{static inject(e){let t=window;t.isPhantomInstalled=!0;let n=new oi;e&&Object.defineProperty(window,"solana",{get(){return n},set(o){},configurable:!1}),window.phantom||Object.defineProperty(window,"phantom",{value:{},writable:!1}),Object.defineProperty(window.phantom,"solana",{value:n,writable:!1}),window.dispatchEvent(new Event("phantom#initialized"))}constructor(){super(new ri)}};h();var f_=ze(Hn());var A8=["solana:signAndSendTransaction","solana:signMessage","solana:signTransaction","solana:signIn"],po,Uu,Du,qu,hr,dr,Fu,ga,hd,Hu,l_,is,xa,ju,Wu,$u,ba,Ku,wa,Vu,dd=class{constructor(e){Oe(this,ga);Oe(this,Hu);Oe(this,po,{});Oe(this,Uu,"1.0.0");Oe(this,Du,"Phantom");Oe(this,qu,Rf);Oe(this,hr,null);Oe(this,dr,void 0);Oe(this,Fu,(e,t)=>{var n;return(n=ne(this,po)[e])!=null&&n.push(t)||(ne(this,po)[e]=[t]),()=>Sa(this,Hu,l_).call(this,e,t)});Oe(this,is,()=>{var t;let e=(t=ne(this,dr).publicKey)==null?void 0:t.toBase58();if(e){let n=ne(this,dr).publicKey.toBytes(),o=ne(this,hr);(!o||o.address!==e||!zf(o.publicKey,n))&&(Ht(this,hr,new ii({address:e,publicKey:n,chains:di,features:A8})),Sa(this,ga,hd).call(this,"change",{accounts:this.accounts}))}});Oe(this,xa,()=>{ne(this,hr)&&(Ht(this,hr,null),Sa(this,ga,hd).call(this,"change",{accounts:this.accounts}))});Oe(this,ju,()=>{ne(this,dr).publicKey?ne(this,is).call(this):ne(this,xa).call(this)});Oe(this,Wu,(...t)=>qe(this,[...t],function*({silent:e}={}){return ne(this,hr)||(yield ne(this,dr).connect(e?{onlyIfTrusted:!0}:void 0)),ne(this,is).call(this),{accounts:this.accounts}}));Oe(this,$u,()=>qe(this,null,function*(){yield ne(this,dr).disconnect()}));Oe(this,ba,(...e)=>qe(this,null,function*(){if(!ne(this,hr))throw new Error("not connected");let t=[];if(e.length===1){let{transaction:n,account:o,chain:s,options:i}=e[0],{minContextSlot:u,preflightCommitment:f,skipPreflight:d,maxRetries:w}=i||{};if(o!==ne(this,hr))throw new Error("invalid account");if(!Pf(s))throw new Error("invalid chain");let{signature:b}=yield ne(this,dr).signAndSendTransaction(Ar.deserialize(n),{preflightCommitment:f,maxRetries:w,skipPreflight:d});t.push({signature:f_.default.decode(b)})}else if(e.length>1)for(let n of e)t.push(...yield ne(this,ba).call(this,n));return t}));Oe(this,Ku,(...e)=>qe(this,null,function*(){let t=[];if(e.length===1){let n=e[0],o=Ar.deserialize(n.transaction),s=yield ne(this,dr).signTransaction(o);if(!s)return[];t.push({signedTransaction:s.serialize()})}else if(e.length>1){let n=new Map;for(let[o,s]of e.entries()){let i=n.get(s.account);i||(i=[],n.set(s.account,i)),i.push([o,Ar.deserialize(s.transaction)])}for(let[o,s]of n.entries()){let[i,u]=s.reduce(([d,w],[b,T])=>(d.push(b),w.push(T),[d,w]),[[],[]]),f=yield ne(this,dr).signAllTransactions(u);for(let[d,w]of i.entries())t[w]={signedTransaction:f[d].serialize()}}}return t}));Oe(this,wa,(...e)=>qe(this,null,function*(){if(!ne(this,hr))throw new Error("not connected");let t=[];if(e.length===1){let{message:n,account:o}=e[0];if(o!==ne(this,hr))throw new Error("invalid account");let{signature:s}=yield ne(this,dr).signMessage(n);t.push({signedMessage:n,signature:s})}else if(e.length>1)for(let n of e)t.push(...yield ne(this,wa).call(this,n));return t}));Oe(this,Vu,(...e)=>qe(this,null,function*(){let t=[];for(let n of e){let o=ff(uf({},n),{resources:n.resources?Array.from(n.resources):void 0}),{signedMessage:s,signature:i}=yield ne(this,dr).signIn(o);t.push({account:ne(this,hr),signedMessage:s,signature:i})}return t}));new.target===dd&&Object.freeze(this),Ht(this,dr,e),e.on("connect",ne(this,is),this),e.on("disconnect",ne(this,xa),this),e.on("accountChanged",ne(this,ju),this),ne(this,is).call(this)}get version(){return ne(this,Uu)}get name(){return ne(this,Du)}get icon(){return ne(this,qu)}get chains(){return di.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:ne(this,Wu)},"standard:disconnect":{version:"1.0.0",disconnect:ne(this,$u)},"standard:events":{version:"1.0.0",on:ne(this,Fu)},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ne(this,ba)},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ne(this,Ku)},"solana:signMessage":{version:"1.0.0",signMessage:ne(this,wa)},"solana:signIn":{version:"1.0.0",signIn:ne(this,Vu)},"phantom:":{phantom:ne(this,dr)}}}get accounts(){return ne(this,hr)?[ne(this,hr)]:[]}},Ou=dd;po=new WeakMap,Uu=new WeakMap,Du=new WeakMap,qu=new WeakMap,hr=new WeakMap,dr=new WeakMap,Fu=new WeakMap,ga=new WeakSet,hd=function(e,...t){var n;(n=ne(this,po)[e])==null||n.forEach(o=>o.apply(null,t))},Hu=new WeakSet,l_=function(e,t){var n;ne(this,po)[e]=(n=ne(this,po)[e])==null?void 0:n.filter(o=>t!==o)},is=new WeakMap,xa=new WeakMap,ju=new WeakMap,Wu=new WeakMap,$u=new WeakMap,ba=new WeakMap,Ku=new WeakMap,wa=new WeakMap,Vu=new WeakMap;var yd=new oi;Tf(new Ou(yd));Object.defineProperty(window,"solana",{value:yd,writable:!1});"phantom"in window||Object.defineProperty(window,"phantom",{value:{},writable:!1});Object.defineProperty(window.phantom,"solana",{value:yd,writable:!1});})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
