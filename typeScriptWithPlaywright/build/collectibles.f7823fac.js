(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},r=n.parcelRequire1d24;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},n.parcelRequire1d24=r),r.register("21aqi",(function(t,n){e(t.exports,"useSPLTokenAccountsByCollectibleStandard",(function(){return r("fWmA5").useSPLTokenAccountsByCollectibleStandard})),e(t.exports,"useSPLTokenAccountListingStats",(function(){return r("fWmA5").useSPLTokenAccountListingStats})),e(t.exports,"useCollectibleEdition",(function(){return r("fWmA5").useCollectibleEdition})),e(t.exports,"waitForMarketplaceConfirmation",(function(){return r("fWmA5").waitForMarketplaceConfirmation})),e(t.exports,"waitForMarketplaceDelist",(function(){return r("fWmA5").waitForMarketplaceDelist})),e(t.exports,"waitForMintInAllCollectibles",(function(){return r("fWmA5").waitForMintInAllCollectibles})),e(t.exports,"collectiblesShouldDehydrateQueryPredicate",(function(){return r("9Y3Ou").collectiblesShouldDehydrateQueryPredicate})),e(t.exports,"createCollectibleHooks",(function(){return r("2MCIz").createCollectibleHooks})),e(t.exports,"useEditListCollectible",(function(){return r("a3mbF").useEditListCollectible})),e(t.exports,"useListCollectible",(function(){return r("28sgo").useListCollectible})),e(t.exports,"useUnlistCollectible",(function(){return r("18W1y").useUnlistCollectible})),e(t.exports,"useSearchCollectiblesStrict",(function(){return r("1heCw").useSearchCollectiblesStrict})),e(t.exports,"useTokenAccountMinBalance",(function(){return r("egicy").useTokenAccountMinBalance})),e(t.exports,"useGetCollectibleVerificationStatus",(function(){return r("aXfNM").useGetCollectibleVerificationStatus})),e(t.exports,"useCollectibleTraits",(function(){return r("1zpuU").useCollectibleTraits})),e(t.exports,"useCollectibleMediaURI",(function(){return r("1kJQ3").useCollectibleMediaURI})),e(t.exports,"useCollectionCollectible",(function(){return r("ToLjI").useCollectionCollectible})),e(t.exports,"useCollectionItemsCount",(function(){return r("b4hOH").useCollectionItemsCount})),e(t.exports,"useOnlyImageCollectibles",(function(){return r("7moAU").useOnlyImageCollectibles})),e(t.exports,"useOrderedCollections",(function(){return r("cprKX").useOrderedCollections})),e(t.exports,"useIsCollectionPinned",(function(){return r("3YGzV").useIsCollectionPinned})),e(t.exports,"useIsCollectionHidden",(function(){return r("gfoNl").useIsCollectionHidden})),e(t.exports,"useCollectibleExplorer",(function(){return r("bB55c").useCollectibleExplorer})),e(t.exports,"useDedupeCollectibles",(function(){return r("hnd43").useDedupeCollectibles})),e(t.exports,"useCollectibleChainSpecificInfoSection",(function(){return r("dGF9e").useCollectibleChainSpecificInfoSection})),e(t.exports,"formatEstimatedFees",(function(){return r("5rkl9").formatEstimatedFees})),e(t.exports,"useListCollectibleStore",(function(){return r("iK4RJ").useListCollectibleStore})),e(t.exports,"useCollectiblesStore",(function(){return r("lcNVz").useCollectiblesStore})),e(t.exports,"CollectibleMediaTypeSchema",(function(){return r("j8YST").CollectibleMediaTypeSchema})),e(t.exports,"ReportCollectibleEventType",(function(){return r("j8YST").ReportCollectibleEventType})),e(t.exports,"MetaplexTokenEdition",(function(){return r("j8YST").MetaplexTokenEdition})),e(t.exports,"SendSuccessCondition",(function(){return r("j8YST").SendSuccessCondition})),e(t.exports,"StorageKeyCollectibles",(function(){return r("dK8f3").StorageKeyCollectibles})),e(t.exports,"getInstantSellError",(function(){return r("2eSHG").getInstantSellError})),e(t.exports,"isCollectibleSemiFungible",(function(){return r("1yqzk").isCollectibleSemiFungible})),e(t.exports,"createCollectibleTransferPendingTransactionInput",(function(){return r("jDpXe").createTransferPendingTransactionInput})),e(t.exports,"isSolanaCollectibleChainData",(function(){return r("l8aZk").isSolanaCollectibleChainData})),e(t.exports,"isEthereumCollectibleChainData",(function(){return r("l8aZk").isEthereumCollectibleChainData})),e(t.exports,"isBitcoinCollectibleChainData",(function(){return r("l8aZk").isBitcoinCollectibleChainData})),e(t.exports,"selectBestCollectionName",(function(){return r("hK5G2").selectBestCollectionName})),e(t.exports,"convertCollectibleToSPLTokenAccount",(function(){return r("dig1v").convertCollectibleToSPLTokenAccount})),e(t.exports,"formatCount",(function(){return r("1nhJ5").formatCount})),e(t.exports,"getBurnTransactionWithPriorityFee",(function(){return r("2of6v").getBurnTransactionWithPriorityFee})),e(t.exports,"bpsToPercent",(function(){return r("lw87t").bpsToPercent})),e(t.exports,"bpsToValue",(function(){return r("lw87t").bpsToValue})),e(t.exports,"createListingAnalytics",(function(){return r("7he9C").createListingAnalytics})),e(t.exports,"CollectiblesSdk",(function(){return r("gxSAf").CollectiblesSdk}));r("fWmA5"),r("9DWl5"),r("9Y3Ou"),r("2MCIz"),r("7qAtp"),r("ctsJe"),r("6HwM1"),r("a3mbF"),r("28sgo"),r("18W1y"),r("7XPpb"),r("1heCw"),r("egicy"),r("aXfNM"),r("cySm1"),r("1zpuU"),r("1kJQ3"),r("ToLjI"),r("b4hOH"),r("7moAU"),r("cprKX"),r("3YGzV"),r("gfoNl"),r("7TvBs"),r("kPRJD"),r("21c1X"),r("bB55c"),r("hnd43"),r("5qOs9"),r("kVQvU"),r("dGF9e"),r("5rkl9"),r("iK4RJ"),r("lcNVz"),r("fKtK0"),r("j8YST"),r("coBd9"),r("1FP4S"),r("dK8f3"),r("2eSHG"),r("5YWWl"),r("1yqzk"),r("8PxwR"),r("jDpXe"),r("l8aZk"),r("hK5G2"),r("dKyO0"),r("dig1v"),r("1nhJ5"),r("2of6v"),r("jXsY4"),r("kr432"),r("lw87t"),r("fRdQq"),r("7he9C");r("1f3bE");r("gxSAf")})),r.register("fWmA5",(function(n,i){e(n.exports,"useCollectibleEdition",(function(){return A}),(function(e){return A=e})),e(n.exports,"useSPLTokenAccountListingStats",(function(){return I}),(function(e){return I=e})),e(n.exports,"useSPLTokenAccountsByCollectibleStandard",(function(){return L}),(function(e){return L=e})),e(n.exports,"waitForMarketplaceConfirmation",(function(){return N}),(function(e){return N=e})),e(n.exports,"waitForMarketplaceDelist",(function(){return R}),(function(e){return R=e})),e(n.exports,"waitForMintInAllCollectibles",(function(){return j}),(function(e){return j=e}));var o=r("5slFC"),s=r("6ElgT"),c=r("hMVEP"),a=r("7gANb"),l=r("RVqnc"),u=r("5ekp2"),d=r("7dHjq"),f=r("gDuGD"),p=(r("29o0l"),r("j8YST")),h=r("fRdQq"),m=r("iHNyV"),g=r("d9Gnw"),v=r("9VD5Q"),y=r("95IOX"),b=r("2YXkH"),S=r("l8aZk"),C=r("8tcqI").Buffer,w=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const T=(0,l.toMilliseconds)({seconds:10}),E=(0,l.toMilliseconds)({seconds:5}),x=(0,l.toMilliseconds)({days:3}),k="CollectibleEdition";function A(e,t){return(0,u.useQuery)({queryKey:[k,{mintAddress:e}],queryFn(){return w(this,void 0,void 0,(function*(){if(!t)return{};const n=C.from(new(0,c.PublicKey)(e).toBytes()),i=(0,h.getMasterEditionPDA)(n),{Edition:o}=yield(0,s.getMetaplexFoundationDeps)();try{const e=yield o.fromAccountAddress(t,i),n=p.ZodMetaplexTokenEdition.safeParse(e.key);if(!n.success)throw new Error(`Invalid MetaplexTokenEdition: ${e.key}`);return{key:n.data,isMasterEdition:(0,h.isMasterEdition)(e.key)}}catch(e){return{key:void 0,isMasterEdition:void 0}}}))}})}const P="SPLTokenAccountListingStats";function I(e,t,n,i){return(0,u.useQuery)({enabled:""!==n,refetchInterval:T,cacheTime:E,queryKey:[P,{apiEnvironment:e,cluster:t,mint:n,pubkey:i}],queryFn({queryKey:t}){return w(this,void 0,void 0,(function*(){const[,{mint:n,cluster:o}]=t,r=(0,h.getTokenListNetworkIDByCluster)(o);return yield(0,g.getSPLCollectibleMarketplaceStats)(e,n,r,i)}))}})}const M="ListedSPLCollectibles";const O="SPLTokenCollectibleCollections";class D extends Error{constructor(e){super(e),this.name="SPLTokenCollectionFetchRejected"}}const F="SPLTokenAccountCollectibles";function L(e,n,i,r,s,c){const a=(0,d.useQueryClient)();return(0,u.useQuery)({enabled:""!==i&&null!==s,queryKey:[F,{apiEnvironment:e,cluster:n,pubkey:i,hideSuspiciousCollectibles:r}],cacheTime:x,queryFn({queryKey:i}){var u;return w(this,void 0,void 0,(function*(){const[,{pubkey:d}]=i,p=(0,h.getTokenListNetworkIDByCluster)(n);let m;c||(m=a.getQueryData(["SPLTokenAccounts",{pubkey:d,cluster:n}]));const g={address:d,chainId:`solana:${p}`},[S,C]=yield t(f).call(Promise,[void 0!==m?Promise.resolve(m):(0,y.getSplTokenAccounts)(e,g),c?(0,l.withRetry)((()=>(0,v.getSPLListings)(e,g)),(()=>!0)):Promise.resolve([])]);if("rejected"===S.status)throw new D("fail to fetch collectibles");const w=S.value;if(!w)throw new Error("fail to fetch collectibles");if(w.Fungible=[],r){const e=[o.SPLTokenStandard.SemiFungible,o.SPLTokenStandard.NonFungible,o.SPLTokenStandard.NonFungibleEdition,o.SPLTokenStandard.ProgrammableNonFungible];for(const t of e){const e=w[t].filter((({mintPubKey:e})=>!(null!=s?s:[]).includes(e)));w[t]=e}}if("fulfilled"===C.status){const t=(null!==(u=C.value)&&void 0!==u?u:[]).filter((e=>{var t;return!!(null===(t=e.listings)||void 0===t?void 0:t.magic_eden)}));a.setQueryData([M,{apiEnvironment:e,cluster:n,pubkey:d}],t);for(const e of t)w[e.asset.standard].some((t=>t.pubkey===e.asset.pubkey))||w[e.asset.standard].push(e.asset)}const T=(0,h.getRPCURLByCluster)(n),E=yield(0,b.mapSPLTokensToCollections)(T,w);return a.setQueryData([O,{apiEnvironment:e,cluster:n,pubkey:d,hideSuspiciousCollectibles:r}],E),{error:"rejected"===C.status,splTokens:w}}))}})}const N=(e,t,n,i,o,r=20,s=1e3)=>w(void 0,void 0,void 0,(function*(){try{const c=(0,h.getTokenListNetworkIDByCluster)(n);return yield(0,l.withRetry)((()=>w(void 0,void 0,void 0,(function*(){var n;const r=yield(0,g.getSPLCollectibleMarketplaceStats)(e,t,c);if(!r[i])return;const s=(null!==(n=r[i].activities)&&void 0!==n?n:[]).find((e=>e.signature===o));if(!s)throw new Error("no activity with that signature yet!");return s}))),(()=>!0),r,s)}catch(e){}})),R=(e,t,n,i,o,r=20,s=1e3)=>w(void 0,void 0,void 0,(function*(){try{const c=(0,h.getTokenListNetworkIDByCluster)(i);return yield(0,l.withRetry)((()=>w(void 0,void 0,void 0,(function*(){var i;const r=yield(0,v.getSPLListings)(e,{address:t,chainId:`solana:${c}`});for(const e of r){if((null===(i=e.listings)||void 0===i?void 0:i[o])&&e.asset.mintPubKey===n)throw new Error("still in listings")}return r}))),(()=>!0),r,s)}catch(e){}})),j=(e,t,n,i=20,o=1e3)=>w(void 0,void 0,void 0,(function*(){try{return yield(0,l.withRetry)((()=>w(void 0,void 0,void 0,(function*(){const{allCollectibles:i}=yield(0,m.getCollectibles)(e,t.map(a.toAccount));for(const e of i)if((0,S.isSolanaCollectibleChainData)(e.chainData)&&e.chainData.mint===n)return e;throw new Error("cant find mint in tokens")}))),(()=>!0),i,o)}catch(e){}}))})),r.register("j8YST",(function(n,i){e(n.exports,"CollectiblesError",(function(){return u})),e(n.exports,"MetaplexTokenEdition",(function(){return m})),e(n.exports,"ZodMetaplexTokenEdition",(function(){return v})),e(n.exports,"CollectibleMediaTypeSchema",(function(){return w})),e(n.exports,"BitcoinCollectibleChainData",(function(){return I})),e(n.exports,"Collectible",(function(){return D})),e(n.exports,"ReportCollectibleEventType",(function(){return L})),e(n.exports,"TransferCompressedTokenArgs",(function(){return j})),e(n.exports,"TransferProgrammableNftArgs",(function(){return U})),e(n.exports,"TransferOcpTokenArgs",(function(){return B})),e(n.exports,"TransferERC721EthereumArgs",(function(){return V})),e(n.exports,"TransferERC1155EthereumArgs",(function(){return _})),e(n.exports,"TransferOrdinalArgs",(function(){return $})),e(n.exports,"SendSuccessCondition",(function(){return G}));var o=r("iOvk1"),s=r("5slFC"),c=r("kAKNF"),a=r("7XqVB");const l=e=>{if(null!=e&&(e.constructor!==Object||0!==Object.keys(e).length))return e};class u extends Error{constructor(e){super(e),this.name="CollectiblesError"}}const d=a.z.string().nullish().transform(l),f=a.z.number().nullish().transform(l),p=a.z.union([d,f]).transform((e=>"number"==typeof e?e.toString():e)),h=a.z.object({name:d,symbol:d,decimals:f,address:d});var m,g;(g=m||(m={}))[g.Uninitialized=0]="Uninitialized",g[g.EditionV1=1]="EditionV1",g[g.MasterEditionV1=2]="MasterEditionV1",g[g.ReservationListV1=3]="ReservationListV1",g[g.MetadataV1=4]="MetadataV1",g[g.ReservationListV2=5]="ReservationListV2",g[g.MasterEditionV2=6]="MasterEditionV2",g[g.EditionMarker=7]="EditionMarker",g[g.UseAuthorityRecord=8]="UseAuthorityRecord",g[g.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",g[g.TokenOwnedEscrow=10]="TokenOwnedEscrow",g[g.TokenRecord=11]="TokenRecord",g[g.MetadataDelegate=12]="MetadataDelegate";const v=a.z.nativeEnum(m),y=a.z.object({price:a.z.number(),token:h.nullish().transform(l)}),b=y.nullish().transform(l),S=a.z.object({id:a.z.string(),isValidCollectionId:a.z.coerce.boolean(),name:d,description:d,externalUrl:d,imageUrl:d,isSpam:a.z.coerce.boolean(),floorPrice:y.nullish().transform(l),ownerCount:f,totalCount:f,tokenCount:f}),C=a.z.object({small:d,medium:d,large:d,blurhash:d}).nullish().transform(l),w=a.z.enum(["image","video","audio","model"]),T=a.z.object({url:d}).nullish().transform(l),E=a.z.object({type:w,image:T,video:T,audio:T,model:T,previews:C}).nullish().transform(l),x=a.z.object({trait_type:d,value:d.or(f),display_type:d}),k=(a.z.object({type:d.or(f),value:d}),a.z.object({id:a.z.string(),contract:a.z.string(),standard:a.z.nativeEnum(s.ERCTokenStandard)})),A=a.z.object({compressed:a.z.boolean(),merkleTree:a.z.string(),leafIndex:a.z.number()}),P=a.z.object({mint:a.z.string(),tokenAccount:a.z.string(),standard:a.z.nativeEnum(s.SPLTokenStandard),compression:A.nullish().transform(l)}),I=a.z.object({firstCreatedTransactionHash:a.z.string(),firstCreatedInscriptionId:a.z.string(),inscriptionId:d,inscriptionNumber:p,outputValue:p,satNumber:p,satName:d,satRarity:d,protocolName:d,createdAt:a.z.string().nullish().transform(l)}),M=a.z.object({listingPrice:a.z.string(),listingPriceUiAmount:a.z.string(),isNative:a.z.boolean(),url:a.z.string()}),O=a.z.union([P,k,I]),D=a.z.object({id:o.BRI,chain:o.NetworkMetadata,name:d,symbol:d,description:d,externalUrl:d,collection:S,media:E,uri:d,attributes:a.z.array(x).nullish().transform((e=>null!=e?e:[])),lastSalePrice:b,balance:d,decimals:d,owner:d,chainData:O.optional(),listings:a.z.record(M).nullish().transform(l)}),F=S.extend({items:a.z.array(D)});a.z.object({items:a.z.array(F),isTrimmed:a.z.boolean()});var L,N;(N=L||(L={})).userHid="userHid",N.userUnhid="userUnhid",N.userBurned="userBurned",N.markAsSpam="markAsSpam",N.markAsNotSpam="markAsNotSpam";const R=a.z.object({networkID:o.ZodSolanaNetworkID}).extend({type:a.z.literal("transferSPLToken"),senderAddress:o.Address,mint:a.z.string(),amount:a.z.union([a.z.instanceof(t(c)),a.z.string()]),memo:a.z.string().optional()}),j=(R.extend({destination:a.z.string(),senderAccount:a.z.string(),decimals:a.z.number(),references:a.z.array(a.z.string()).optional(),programId:a.z.string()}),R.extend({destination:a.z.string(),compression:A.nullish().transform(l).refine((e=>null==e?void 0:e.compressed))})),U=(a.z.object({compression:A.nullish().transform(l).refine((e=>null==e?void 0:e.compressed)),mint:a.z.string()}),R.extend({destination:a.z.string(),senderAccount:a.z.string(),standard:a.z.literal(s.SPLTokenStandard.ProgrammableNonFungible)})),B=R.extend({destination:a.z.string()}),z=(a.z.object({root:a.z.string(),proof:a.z.array(a.z.string()),merkleTree:a.z.string(),dataHash:a.z.string(),creatorHash:a.z.string(),leafIndex:a.z.number(),owner:a.z.string(),delegate:a.z.string().optional()}),a.z.object({networkID:o.EVMNetworkID})),K=a.z.object({networkID:o.EVMNetworkID,gasLimit:a.z.instanceof(t(c)),maxFeePerGas:a.z.instanceof(t(c)),maxPriorityFeePerGas:a.z.instanceof(t(c))}),V=z.extend({senderAddress:o.Address,type:a.z.literal("transferERC721Ethereum"),destination:a.z.string(),amount:a.z.literal(1),contractAddress:a.z.string(),tokenID:a.z.string(),gasEstimation:K.optional()}),_=z.extend({senderAddress:o.Address,type:a.z.literal("transferERC1155Ethereum"),destination:a.z.string(),amount:a.z.union([a.z.instanceof(t(c)),a.z.string()]),contractAddress:a.z.string(),tokenID:a.z.string(),gasEstimation:K.optional()}),$=a.z.object({networkID:o.ZodBitcoinNetworkID}).extend({type:a.z.literal("ordinal"),inscriptionId:a.z.string(),senderAddress:a.z.string(),destination:a.z.string(),amount:a.z.literal(1)});var G,q;(q=G||(G={})).CONFIRMATION="CONFIRMATION",q.SUBMISSION="SUBMISSION"})),r.register("fRdQq",(function(t,n){e(t.exports,"getRPCURLByCluster",(function(){return u})),e(t.exports,"performNotaryCheck",(function(){return d})),e(t.exports,"getTokenListNetworkIDByCluster",(function(){return f})),e(t.exports,"solanaToLamports",(function(){return p})),e(t.exports,"isMasterEdition",(function(){return h})),e(t.exports,"getMetadataPDA",(function(){return y})),e(t.exports,"getMasterEditionPDA",(function(){return b})),e(t.exports,"getCollectionMetadataPDA",(function(){return S}));var i=r("8tcqI"),o=r("iOvk1"),s=r("6ElgT"),c=r("hMVEP"),a=r("5L9Uu"),l=r("j8YST");const u=e=>{const t=o.Chains.getRpcProxyUrl(o.SolanaNetworkID.Mainnet);switch(e){case"mainnet-beta":if(!t)throw new Error(`No RPC URL found for chainID ${o.SolanaNetworkID.Mainnet}`);return t;case"testnet":case"devnet":return(0,c.clusterApiUrl)(e);case"localhost":return a.DEFAULT_LOCALHOST_RPC_URL}},d=e=>{for(const t of e.instructions)for(const e of t.keys)if(e.isSigner&&e.pubkey.toBase58()===a.MAGIC_EDEN_NOTARY.toBase58())return!0;return!1},f=e=>{switch(e){case"mainnet-beta":case"localhost":return 101;case"testnet":return 102;case"devnet":return 103}},p=e=>e*c.LAMPORTS_PER_SOL;function h(e){const t=[l.MetaplexTokenEdition.MasterEditionV1,l.MetaplexTokenEdition.MasterEditionV2],n=l.ZodMetaplexTokenEdition.safeParse(e);return n.success&&t.includes(n.data)}const m=i.Buffer.from("metadata"),g=i.Buffer.from("edition"),v=s.METADATA_PROGRAM_ID.toBuffer();function y(e){const[t]=c.PublicKey.findProgramAddressSync([m,v,e],s.METADATA_PROGRAM_ID);return t}function b(e){const[t]=c.PublicKey.findProgramAddressSync([m,v,e,g],s.METADATA_PROGRAM_ID);return t}function S(e){const[t]=c.PublicKey.findProgramAddressSync([m,v,e],s.METADATA_PROGRAM_ID);return t}})),r.register("5L9Uu",(function(t,n){e(t.exports,"DEFAULT_LOCALHOST_RPC_URL",(function(){return o})),e(t.exports,"MAGIC_EDEN_NOTARY",(function(){return s}));var i=r("hMVEP");const o="http://127.0.0.1:8899",s=new(0,i.PublicKey)("NTYeYJ1wr4bpM5xo6zx5En44SvJFAd35zTxxNoERYqd");new(0,i.PublicKey)("M2mx93ekt1fmXSVkTrUL9xVFHkmME8HTUi5Cyc5aF7K")})),r.register("iHNyV",(function(n,i){e(n.exports,"getCollectibles",(function(){return d}),(function(e){return d=e}));var o=r("1LpD3"),s=r("LfKcR"),c=r("2cD4e"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const l="collectibles",u=new Error("Failed to fetch collectibles for addresses");function d(e,n){return a(this,void 0,void 0,(function*(){const i=`${e}/collectibles/v1`;let r;try{const e=yield t(o)(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:n})});if(r=e.status,!e.ok)throw u;const s=yield e.json(),a=!!s.isTrimmed;if(!s.collectibles)throw u;return{allCollectibles:(0,c.parseCollectiblesResponse)(s.collectibles),isTrimmed:a}}catch(t){const n=t instanceof Error?t:new Error("Non-Error was thrown during fetching of collectibles");throw(0,s.captureClientError)(n,r,l,{apiEnv:e}),n}}))}})),r.register("LfKcR",(function(t,n){e(t.exports,"captureClientError",(function(){return o}));var i=r("csW2r");const o=(e,t,n,o)=>{(!t||t>=400&&t<500)&&(i.telemetry.addBreadcrumb(n,JSON.stringify(o),i.Severity.Info),i.telemetry.captureError(e,i.FeatureTag.Collectibles))}})),r.register("2cD4e",(function(t,n){e(t.exports,"parseCollectiblesResponse",(function(){return o}));var i=r("j8YST");const o=e=>e.reduce(((e,t)=>{const n=i.Collectible.safeParse(t);return n.success&&e.push(n.data),e}),[])})),r.register("d9Gnw",(function(n,i){e(n.exports,"getSPLCollectibleMarketplaceStats",(function(){return a}),(function(e){return a=e}));var o=r("1LpD3"),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const c=new Error("Failed to fetch spl collectible marketplace stats"),a=(e,n,i,r)=>s(void 0,void 0,void 0,(function*(){const s=new URL(`${e}/solana/nft/v1/mint/${n}/stats`);let a;s.searchParams.set("chainId",i.toString()),r&&s.searchParams.set("pubkey",r);try{a=yield t(o)(s.href,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})}catch(e){throw c}if(!a.ok)throw c;return(yield a.json()).stats}))})),r.register("9VD5Q",(function(n,i){e(n.exports,"getSPLListings",(function(){return l}),(function(e){return l=e}));var o=r("1LpD3"),s=r("LfKcR"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const a=new Error("Failed to fetch SPL listings"),l=(e,n)=>c(void 0,void 0,void 0,(function*(){let i;try{const r=n.chainId.replace("solana:",""),s=n.address,c=new URLSearchParams;c.append("chainId",r);const l=`${e}/solana/nft/v1/pubkey/${s}/listings?${c.toString()}`,u=yield t(o)(l,{method:"GET",headers:{Accept:"application/json"}});if(i=u.status,!u.ok)throw a;const d=yield u.json();return d.filter((e=>{var t;return!!(null===(t=e.listings)||void 0===t?void 0:t.magic_eden)}))}catch(t){const n=t instanceof Error?t:new Error("Non-Error was thrown during fetching of spl listings");throw(0,s.captureClientError)(n,i,"spl-listings",{apiEnv:e}),n}}))})),r.register("95IOX",(function(n,i){e(n.exports,"getSplTokenAccounts",(function(){return a}),(function(e){return a=e}));var o=r("1LpD3"),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const c=new Error("Failed to fetch spl tokens"),a=(e,n)=>s(void 0,void 0,void 0,(function*(){const i=n.chainId.replace("solana:",""),r=n.address,s=new URLSearchParams;s.append("chainId",i),s.append("ownerPubKey",r);const a=`${e}/solana/spl_token_accounts?${s.toString()}`;let l;try{l=yield t(o)(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})}catch(e){throw c}if(!l.ok)throw c;return(yield l.json()).response.results}))})),r.register("2YXkH",(function(t,n){e(t.exports,"mapSPLTokensToCollections",(function(){return a}),(function(e){return a=e}));var i=r("hMVEP"),o=r("jXsY4"),s=r("kUlIU"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function a(e,t){var n;return c(this,void 0,void 0,(function*(){const r=new Set,c=[[]],a=new Map,{findMetadataAccount:l}=yield(0,o.getMetaplexDeps)();for(const e of[t.NonFungible,t.NonFungibleEdition,t.SemiFungible,t.ProgrammableNonFungible])for(const t of e){let{collectionPubKey:e}=t;if(e&&!r.has(e)){r.add(e);const t=new(0,i.PublicKey)(e),[n]=yield l(t),o=c[c.length-1];o&&o.length<100?o.push(n.toString()):c.push([n.toString()])}e||(e=t.mintPubKey);const o=null!==(n=a.get(e))&&void 0!==n?n:[];o.push(t),a.set(e,o)}let u=new Map;try{u=yield(0,s.getTokenMetadataDataMap)(e,c)}catch(e){console.error(e)}const d=[];for(const[e,t]of a){t.sort(((e,t)=>{var n,i;const o=null!==(n=e.name)&&void 0!==n?n:"",r=null!==(i=t.name)&&void 0!==i?i:"",s=o.localeCompare(r);if(o.localeCompare(r))return s;const c=e.pubkey,a=t.pubkey;return c.localeCompare(a)}));const[n]=t;if(n){const i=u.get(e);i?d.push({key:e,name:i.data.name,uri:n.uri||i.data.uri,items:t}):d.push({key:e,name:null,uri:n.uri,items:t})}}return d.sort(((e,t)=>{var n,i;if(e.items.length>t.items.length)return-1;if(t.items.length>e.items.length)return 1;const o=null!==(n=e.name)&&void 0!==n?n:e.key,r=null!==(i=t.name)&&void 0!==i?i:t.key;return o.localeCompare(r)})),d}))}})),r.register("jXsY4",(function(t,n){e(t.exports,"getMetaplexDeps",(function(){return o}),(function(e){return o=e}));var i=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const o=()=>i(void 0,void 0,void 0,(function*(){const{createComputeBudgetIx:e,createOCPTransferIX:t,getOCPMintState:n,findMetadataAccount:i,createPNFTTransferIX:o}=yield Promise.resolve(r("6ElgT"));return{createComputeBudgetIx:e,createOCPTransferIX:t,getOCPMintState:n,findMetadataAccount:i,createPNFTTransferIX:o}}))})),r.register("kUlIU",(function(n,i){e(n.exports,"getTokenMetadataDataMap",(function(){return d}),(function(e){return d=e}));var o=r("6ElgT"),s=r("beWYh"),c=r("1LpD3"),a=r("8tcqI").Buffer,l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=new RegExp("\0","g");function d(e,n){return l(this,void 0,void 0,(function*(){const i=new Map,{Metadata:r}=yield(0,o.getMetaplexFoundationDeps)(),d=n.map((n=>l(this,void 0,void 0,(function*(){const o=yield function(e,n){return l(this,void 0,void 0,(function*(){const i=JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:"getMultipleAccounts",params:[n,{encoding:"base64",commitment:"confirmed"}]});let o;if((0,s.isRequestClientEnabled)()){const t=new(0,s.RequestClient);t.withDefaultHeaders({"Content-type":"application/json"}),o=(yield t.post(e,i)).data}else{const n=yield t(c)(e,{method:"POST",headers:{"content-type":"application/json"},body:i});o=yield n.json()}const r=yield o;if("error"in r)throw new Error(r.error.message);return r}))}(e,n);for(const e of o.result.value)if(e){const[t]=r.deserialize(a.from(e.data[0],"base64"));t.data.name=t.data.name.replace(u,""),t.data.uri=t.data.uri.replace(u,""),t.data.symbol=t.data.symbol.replace(u,""),i.set(t.mint.toString(),t)}}))));return yield Promise.all(d),i}))}})),r.register("l8aZk",(function(t,n){e(t.exports,"isSolanaCollectibleChainData",(function(){return o})),e(t.exports,"isEthereumCollectibleChainData",(function(){return s})),e(t.exports,"isBitcoinCollectibleChainData",(function(){return c})),e(t.exports,"isTransferERC721EthereumArgs",(function(){return a})),e(t.exports,"isTransferERC1155EthereumArgs",(function(){return l})),e(t.exports,"isTransferCompressedTokenArgs",(function(){return u})),e(t.exports,"isTransferProgrammableNftArgs",(function(){return d})),e(t.exports,"isTransferOcpTokenArgs",(function(){return f}));var i=r("j8YST");function o(e){return void 0!==(null==e?void 0:e.tokenAccount)}function s(e){return void 0!==(null==e?void 0:e.contract)}function c(e){return i.BitcoinCollectibleChainData.safeParse(e).success}const a=e=>i.TransferERC721EthereumArgs.safeParse(e).success,l=e=>i.TransferERC1155EthereumArgs.safeParse(e).success,u=e=>i.TransferCompressedTokenArgs.safeParse(e).success,d=e=>i.TransferProgrammableNftArgs.safeParse(e).success,f=e=>i.TransferOcpTokenArgs.safeParse(e).success})),r.register("9DWl5",(function(t,n){e(t.exports,"BIDS_SCOPE",(function(){return s})),e(t.exports,"collectiblesQueryKeys",(function(){return c}));var i=r("7gANb");const o="collectibles",s=[o,"collectibleBids"],c={collections:e=>[o,"collections",{addresses:e.map(i.toAccount)}],hiddenCollections:e=>[o,"hiddenCollections",e],unhiddenCollections:e=>[o,"unhiddenCollections",e],pinnedCollections:e=>[o,"pinnedCollections",e],optimisticUpdates:()=>[o,"optimisticUpdates"],collectibleBids:e=>[...s,e],collectibleMintGasEstimation:e=>[o,"mintNFTGasEstimation",e],collectibleSellSteps:e=>[o,"collectibleSellSteps",e],createMintTransaction:e=>[o,"createMintTransaction",e],transferTransaction:e=>[o,"transferTransaction",e]}})),r.register("9Y3Ou",(function(t,n){e(t.exports,"collectiblesShouldDehydrateQueryPredicate",(function(){return c}));var i=r("9DWl5");const o=i.collectiblesQueryKeys.collections([])[1],s=[o,i.collectiblesQueryKeys.hiddenCollections("")[1],i.collectiblesQueryKeys.unhiddenCollections("")[1],i.collectiblesQueryKeys.pinnedCollections("")[1]],c=e=>{var t;const n=String(e.queryKey[1]);return n===o?(null===(t=e.state.data)||void 0===t?void 0:t.nrOfItems)<=500:s.includes(n)}})),r.register("2MCIz",(function(t,n){e(t.exports,"createCollectibleHooks",(function(){return F}),(function(e){return F=e}));var i=r("9DWl5"),o=r("7qAtp"),s=r("lWcv8"),c=r("6HwM1"),a=r("ctsJe"),l=r("kKWDy"),u=r("dAQq7"),d=r("1El9w"),f=r("aTZIn"),p=r("iNEbF"),h=r("82MEA"),m=r("5cOz4"),g=r("3OEe5"),v=r("hawzv"),y=r("9EdxR"),b=r("hc5YT"),S=r("cySm1"),C=r("3P9Mr"),w=r("coBd9"),T=r("h2jNW"),E=r("5rkl9"),x=r("lkQLo"),k=r("jKoFs"),A=r("2jrTu"),P=r("j1qxo"),I=r("kPRJD"),M=r("cTV4M"),O=r("3IRsP"),D=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function F(e,t,n,r,F,L,N,R,j,U,B){return{useInstantSellEvmGasEstimation:(e,t,n,i)=>(0,x.useInstantSellEvmGasEstimation)({sellSteps:n,marketplace:e,transactionHooks:R,nativeTokenBalance:i,collectibleChainId:t}),useInstantSellSolanaGasEstimation:e=>(0,P.useInstantSellSolanaGasEstimation)({bidSummary:e,fungibleHooks:j}),useInstantSellExecuteSolanaSteps:(n,i,o,s,c)=>(0,A.useInstantSellExecuteSolanaSteps)({stepsOrderId:n,analytics:N,storage:t,accountSigner:e,accountHooks:L,initialSteps:i,bidSummary:o,queryClient:r,collectible:s,tokenPrice:c}),useInstantSellExecuteEvmSteps:(i,o,s,c,a,l,u)=>(0,k.useInstantSellExecuteEvmSteps)({stepsOrderId:i,analytics:N,getApiEnvironment:n,storage:t,accountSigner:e,accountHooks:L,initialSteps:o,gasEstimation:s,refetchSellSteps:c,bidSummary:a,queryClient:r,collectible:l,tokenPrice:u}),useCollections:e=>(0,u.useCollections)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:r})),useCollectionsAreTrimmed:e=>(0,u.useCollectionsAreTrimmed)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:r})),useCollection:e=>(0,C.useCollection)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:r})),useCollectible:e=>(0,b.useCollectible)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:r})),useInstantSell:e=>(0,E.useInstantSell)(Object.assign({getApiEnvironment:n},e)),useHideCollectionProps:e=>(0,T.useHideCollectionProps)(Object.assign({storage:t,analytics:N,getApiEnvironment:n},e)),usePinCollectionProps:e=>(0,I.usePinCollectionProps)(Object.assign({storage:t,analytics:N},e)),usePrefetchCollectibleSellSteps:()=>(0,a.usePrefetchCollectibleSellSteps)(n),useReportSpamProps:e=>(0,M.useReportSpamProps)(Object.assign({storage:t,analytics:N,getApiEnvironment:n},e)),invalidateCollectibles:e=>D(this,void 0,void 0,(function*(){yield r.invalidateQueries(i.collectiblesQueryKeys.collections(e))})),refetchCollectibles:e=>D(this,void 0,void 0,(function*(){yield r.refetchQueries(i.collectiblesQueryKeys.collections(e))})),useCollectibleBids:(e,t)=>(0,o.useCollectibleBids)({getApiEnvironment:n,bidAsset:e,isEnabled:t}),useCollectibleSellSteps:e=>(0,a.useCollectibleSellSteps)({getApiEnvironment:n,sellAsset:e}),useHiddenCollections:e=>(0,d.useHiddenCollections)(e,t),usePinnedCollections:e=>(0,h.usePinnedCollections)(e,t),useReportCollectibleEvent:()=>(0,m.useReportCollectibleEvent)(n),useUnhiddenCollections:e=>(0,v.useUnhiddenCollections)(e,t),useUnhideCollection:()=>(0,y.useUnhideCollection)(t),useHideCollection:()=>(0,f.useHideCollection)(t),usePinCollection:()=>(0,p.usePinCollection)(t),useTransferCollectible:()=>(0,g.useTransferCollectible)(e,t,r,U),useCollectibleTransferTransaction:e=>(0,l.useCollectibleTransferTransaction)({accountHooks:L,priorityFeeService:F,analytics:N,sendCollectibleState:e,transactionHooks:R}),useSendCollectibleStatusViewState:e=>(0,O.useSendCollectibleStatusViewState)(Object.assign(Object.assign({},e),{collectiblesSdk:B})),useCollectibleSummaryItems:(e,t)=>(0,S.useCollectibleSummaryItems)(B,e,t),useMintCollectible:e=>(0,c.useMintCollectible)(Object.assign({getApiEnvironment:n},e)),useCollectionPageViewState:e=>(0,w.useCollectionPageViewState)(Object.assign(Object.assign({},e),{accountHooks:L,getApiEnvironment:n,queryClient:r,collectiblesSdk:B})),useCollectibleDetailViewState:e=>(0,s.useCollectibleDetailViewState)(e,L,R)}}})),r.register("7qAtp",(function(n,i){e(n.exports,"useCollectibleBids",(function(){return C}),(function(e){return C=e})),e(n.exports,"createBidAsset",(function(){return w}),(function(e){return w=e}));var o=r("5ekp2"),s=r("1J7Ie"),c=r("7XqVB"),a=r("j8YST"),l=r("LfKcR"),u=r("l8aZk"),d=r("9DWl5"),f=r("iSOyc"),p=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const h=c.z.object({caip19:c.z.string(),name:c.z.string(),symbol:c.z.string()}),m=c.z.object({bps:c.z.number(),kind:c.z.union([c.z.literal("marketplace"),c.z.literal("royalty")]),recipient:c.z.string().optional()}),g=c.z.object({amount:c.z.number(),feeBreakdown:c.z.array(m),netAmount:c.z.number(),token:h,totalFeeBps:c.z.number()}),v=c.z.object({name:c.z.string(),logo:c.z.string(),url:c.z.string().optional()}),y=c.z.object({id:c.z.string(),expiration:c.z.string().optional(),price:g,source:v}),b=c.z.object({bids:c.z.array(y)}),S=new(0,a.CollectiblesError)("Failed to fetch collectible bids."),C=({bidAsset:e,isEnabled:n,getApiEnvironment:i})=>{const r=n&&null!==e.address&&null!==e.chainId;return(0,o.useQuery)({enabled:r,staleTime:f.StaleTime.Short,refetchInterval:f.RefetchInterval.Shortest,queryKey:d.collectiblesQueryKeys.collectibleBids(e),queryFn(){return p(this,void 0,void 0,(function*(){return n=i(),o=e,p(void 0,void 0,void 0,(function*(){var e;if(!o.address)throw S;try{const e=`${n}/collectibles/v1/bids`,i=yield t(s).post(e,{asset:o}),{bids:r}=b.parse(i.data);return r}catch(i){if(t(s).isAxiosError(i)){const t=null===(e=i.response)||void 0===e?void 0:e.status;(0,l.captureClientError)(i,t,"collectible-instant-sell-bids",{apiEnv:n})}throw S}}));var n,o}))}})},w=e=>{var t;const n=null==e?void 0:e.chainData,i=null!==(t=null==e?void 0:e.chain.id)&&void 0!==t?t:null,o=(0,u.isEthereumCollectibleChainData)(n),r=(0,u.isSolanaCollectibleChainData)(n),s=o?{tokenId:n.id}:{},c=r?{contractType:n.standard}:{},a=o?n.contract.toLowerCase():r?n.mint:null;return Object.assign(Object.assign({chainId:i,address:a,resourceType:"address"},s),c)}})),r.register("iSOyc",(function(t,n){e(t.exports,"CacheTime",(function(){return o})),e(t.exports,"StaleTime",(function(){return c})),e(t.exports,"RefetchInterval",(function(){return l}));var i=r("RVqnc");var o,s,c,a,l,u;(s=o||(o={}))[s.Always=1/0]="Always",s[s.Short=(0,i.toMilliseconds)({days:1})]="Short",s[s.Medium=(0,i.toMilliseconds)({days:3})]="Medium",s[s.Long=(0,i.toMilliseconds)({days:7})]="Long",(a=c||(c={}))[a.Immediate=0]="Immediate",a[a.Short=(0,i.toMilliseconds)({minutes:1})]="Short",a[a.Medium=(0,i.toMilliseconds)({minutes:2.5})]="Medium",a[a.Long=(0,i.toMilliseconds)({minutes:5})]="Long",a[a.Never=1/0]="Never",(u=l||(l={}))[u.Shortest=(0,i.toMilliseconds)({seconds:10})]="Shortest",u[u.Shorter=(0,i.toMilliseconds)({seconds:30})]="Shorter",u[u.Short=(0,i.toMilliseconds)({minutes:1})]="Short",u[u.Medium=(0,i.toMilliseconds)({minutes:2.5})]="Medium",u[u.Long=(0,i.toMilliseconds)({minutes:5})]="Long",u[u.Longer=(0,i.toMilliseconds)({minutes:7.5})]="Longer",u[u.Longest=(0,i.toMilliseconds)({minutes:10})]="Longest"})),r.register("lWcv8",(function(t,n){function i(e,t,n){const{data:i}=t.useSelectedChainAddress({address:null==e?void 0:e.owner,networkID:null==e?void 0:e.chain.id});return function(e,t){e.usePrefetchUtxoState(t)}(n,i),{}}e(t.exports,"useCollectibleDetailViewState",(function(){return i}))})),r.register("6HwM1",(function(t,n){e(t.exports,"useMintCollectible",(function(){return C}),(function(e){return C=e}));var i=r("6ElgT"),o=r("hMVEP"),s=r("7gANb"),c=r("clU2l"),a=r("9W7fs"),l=(r("5ekp2"),r("lvcyB")),u=r("j8YST"),d=r("fRdQq"),f=(r("9DWl5"),r("5cOz4")),p=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const h={attributes:[],sellerFeeBasisPoints:0,creators:null,collection:null,uses:null},m="https://ipfs.io/ipfs",g="https://api.nft.storage/upload",v=void 0,y=new(0,u.CollectiblesError)("Error uploading media"),b=new(0,u.CollectiblesError)("Error uploading metadata"),S=({collectionDetails:e,feePayer:t,metadata:n,networkID:r})=>p(void 0,void 0,void 0,(function*(){var s;const a=(0,l.createConnectionBySolanaNetworkID)(r),u=null!==(s=null==e?void 0:e.isNew)&&void 0!==s&&s,{createCreateMasterEditionV3Instruction:f,createCreateMetadataAccountV3Instruction:p,createSetAndVerifySizedCollectionItemInstruction:h}=yield(0,i.getMetaplexFoundationDeps)(),m=yield c.Token.getMinBalanceRentForExemptMint(a),g=yield a.getMinimumBalanceForRentExemption(165),v=yield a.getMinimumBalanceForRentExemption(282),y=m+g+((yield a.getMinimumBalanceForRentExemption(679))+i.METADATA_PROGRAM_FEE_LAMPORTS)+v,b=o.Keypair.generate(),S=(0,d.getMetadataPDA)(b.publicKey.toBuffer()),C=(0,d.getMasterEditionPDA)(b.publicKey.toBuffer()),w=yield c.Token.getAssociatedTokenAddress(c.ASSOCIATED_TOKEN_PROGRAM_ID,c.TOKEN_PROGRAM_ID,b.publicKey,t),T=(new(0,o.Transaction)).add(o.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:b.publicKey,space:c.MintLayout.span,lamports:m,programId:c.TOKEN_PROGRAM_ID}),c.Token.createInitMintInstruction(c.TOKEN_PROGRAM_ID,b.publicKey,0,t,t),c.Token.createAssociatedTokenAccountInstruction(c.ASSOCIATED_TOKEN_PROGRAM_ID,c.TOKEN_PROGRAM_ID,b.publicKey,w,t,t),c.Token.createMintToInstruction(c.TOKEN_PROGRAM_ID,b.publicKey,w,t,[],1),p({metadata:S,mint:b.publicKey,mintAuthority:t,payer:t,updateAuthority:t},{createMetadataAccountArgsV3:{data:u?Object.assign(Object.assign({},n),{collection:{key:b.publicKey,verified:!1}}):n,isMutable:!1,collectionDetails:u?{__kind:"V1",size:0}:null}}),f({edition:C,mint:b.publicKey,updateAuthority:t,mintAuthority:t,payer:t,metadata:S},{createMasterEditionArgs:{maxSupply:0}}));if(e&&!u){const n=new(0,o.PublicKey)(e.id),i=(0,d.getCollectionMetadataPDA)(n.toBuffer()),r=(0,d.getMasterEditionPDA)(n.toBuffer());T.add(h({metadata:S,collectionAuthority:t,payer:t,updateAuthority:t,collectionMint:n,collection:i,collectionMasterEditionAccount:r}))}return{mintCost:y,mintKeypair:b,transaction:T}})),C=({accountIdentifier:e,accountSigner:t,collectionDetails:n,contentType:i,description:o,feePayer:r,name:s,networkID:c,symbol:l,uri:d,removeMedia:C,sendFailureAnalyticsEvent:T,sendSuccessAnalyticsEvent:E,getApiEnvironment:x})=>{const{mutateAsync:k}=(0,f.useReportCollectibleEvent)(x);return(0,a.useMutation)({mutationFn:()=>p(void 0,void 0,void 0,(function*(){const a=[],f=yield function(e,t){return p(this,void 0,void 0,(function*(){const n=yield fetch(e),i=yield n.blob();try{const e=yield fetch(g,{method:"POST",body:i,headers:{"Content-Type":t,Authorization:`Bearer ${v}`}});if(200===e.status){const t=yield e.json();return`${m}/${t.value.cid}`}throw console.error("Error uploading media because the status is not 200:",e),y}catch(e){throw console.error("Error uploading image:",e),e}}))}(d,i),C=yield function(e){return p(this,void 0,void 0,(function*(){try{const t=yield fetch(g,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`}});if(200===t.status){const e=yield t.json();return`${m}/${e.value.cid}`}throw console.error("Error uploading metadata because the status is not 200:",t),b}catch(e){throw console.error("Error uploading metadata:",e),e}}))}({name:s,description:o,symbol:l,attributes:a,image:f}),T=Object.assign(Object.assign({},h),{uri:C,attributes:a,name:s,description:o,symbol:l}),{mintKeypair:E,transaction:x}=yield S({collectionDetails:n,feePayer:r,metadata:T,networkID:c}),A=yield w({accountIdentifier:e,accountSigner:t,feePayer:r,mintKeypair:E,networkID:c,transaction:x});return yield k({event:{chainId:c,address:E.publicKey.toBase58(),event:u.ReportCollectibleEventType.markAsNotSpam}}),A})),onSettled:C,onError:T,onSuccess:E})},w=({accountIdentifier:e,accountSigner:t,feePayer:n,mintKeypair:i,networkID:o,transaction:r})=>p(void 0,void 0,void 0,(function*(){const c=(0,l.createConnectionBySolanaNetworkID)(o);return(0,s.signAndSendSolanaTransaction)({accountIdentifier:e,accountSigner:t,connection:c,feePayer:n,opts:{additionalSignerAccounts:[i]},transaction:r})}))})),r.register("5cOz4",(function(t,n){e(t.exports,"useReportCollectibleEvent",(function(){return a}),(function(e){return a=e}));var i=r("9W7fs"),o=r("h59xO"),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};class c extends Error{constructor(e){super(e),this.name="UseReportCollectibleEventError"}}function a(e){return(0,i.useMutation)({mutationFn({event:t}){return s(this,void 0,void 0,(function*(){try{yield(0,o.reportCollectibleEvent)(e(),[t])}catch(e){}}))}})}})),r.register("h59xO",(function(n,i){e(n.exports,"reportCollectibleEvent",(function(){return a}),(function(e){return a=e}));var o=r("1LpD3"),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const c=new Error("Failed to report event for collectible");function a(e,n){return s(this,void 0,void 0,(function*(){try{if(!(yield t(o)(`${e}/collectibles/v1/events`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:n})})).ok)throw new Error}catch(e){throw c}}))}})),r.register("ctsJe",(function(n,i){e(n.exports,"StepActionEnum",(function(){return y}),(function(e){return y=e})),e(n.exports,"StepType",(function(){return S}),(function(e){return S=e})),e(n.exports,"useCollectibleSellSteps",(function(){return N}),(function(e){return N=e})),e(n.exports,"usePrefetchCollectibleSellSteps",(function(){return R}),(function(e){return R=e})),e(n.exports,"createSellAsset",(function(){return j}),(function(e){return j=e}));var o=r("iOvk1"),s=r("5ekp2"),c=r("7dHjq"),a=r("1J7Ie"),l=r("29o0l"),u=r("7XqVB"),d=r("j8YST"),f=r("LfKcR"),p=r("l8aZk"),h=r("9DWl5"),m=r("iSOyc"),g=r("7qAtp"),v=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const y=u.z.enum(["auth","nft-approval","sale","order-signature","refetch","blur-swap","update-proof"]),b=u.z.enum(["/execute/auth-signature/v1","/order/v3"]),S=u.z.enum(["transaction","signature","post","refetch"]),C=u.z.enum(["eip712","eip191"]),w=u.z.object({domain:u.z.any(),types:u.z.any(),value:u.z.any()}),T=u.z.object({message:u.z.string()}),E=u.z.object({from:u.z.string(),to:u.z.string(),data:u.z.string()}),x=u.z.object({endpoint:b,body:u.z.object({id:u.z.string(),kind:u.z.string()})}),k=u.z.object({action:y,chainId:o.EVMNetworkID,type:u.z.literal(S.enum.signature),data:u.z.object({signatureKind:C,signatureData:u.z.union([T,w]),postData:x})}),A=u.z.object({chainId:o.EVMNetworkID,action:y,data:E,type:u.z.literal(S.enum.transaction)}),P=u.z.object({chainId:o.EVMNetworkID,action:y,type:u.z.literal(S.enum.refetch),data:u.z.object({resource:u.z.string()})}),I=u.z.union([k,A,P]),M=u.z.object({action:y,chainId:o.ZodSolanaNetworkID,type:u.z.literal(S.enum.transaction),data:u.z.object({transaction:u.z.string()})}),O=u.z.union([I,M]),D=u.z.object({steps:u.z.array(O),orderId:u.z.string().optional()}),F=new(0,d.CollectiblesError)("Failed to fetch collectible sell steps."),L=(e,n)=>v(void 0,void 0,void 0,(function*(){var i;try{const i=`${e}/collectibles/v1/sell`,o=yield t(a).post(i,n);return D.parse(o.data)}catch(n){if(t(a).isAxiosError(n)){const t=n,o=t.response;if(o){const t=null==o?void 0:o.status;(0,f.captureClientError)(n,t,"collectible-instant-sell-steps",{apiEnv:e});if(void 0!==(null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.code)){const{code:e}=o.data;throw{code:e}}}throw t}throw F}})),N=({sellAsset:e,getApiEnvironment:t})=>{const n=void 0!==e.details.orderId;return(0,s.useQuery)({enabled:n,queryKey:h.collectiblesQueryKeys.collectibleSellSteps(e),staleTime:m.StaleTime.Never,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:(e,t)=>!t.code&&e<3,queryFn(){return v(this,void 0,void 0,(function*(){return L(t(),e)}))}})},R=e=>{const t=(0,c.useQueryClient)();return(0,l.useCallback)((({collectible:n,bid:i})=>v(void 0,void 0,void 0,(function*(){const o=j((0,g.createBidAsset)(n),i,n);yield t.prefetchQuery(h.collectiblesQueryKeys.collectibleSellSteps(o),(()=>v(void 0,void 0,void 0,(function*(){return L(e(),o)}))))}))),[e,t])},j=(e,t,n)=>{var i,o;const r=null==n?void 0:n.chainData,s=(0,p.isEthereumCollectibleChainData)(r),c=(0,p.isSolanaCollectibleChainData)(r),a=null==n?void 0:n.owner,l=s?null==a?void 0:a.toLowerCase():a,u=null==t?void 0:t.id,d=null===(i=null==t?void 0:t.source)||void 0===i?void 0:i.name,f=c?{minPrice:null===(o=null==t?void 0:t.price)||void 0===o?void 0:o.netAmount,tokenAccount:r.tokenAccount}:{};return{details:Object.assign({asset:e,owner:l,orderId:u,marketplace:d},f)}}})),r.register("kKWDy",(function(n,i){e(n.exports,"useCollectibleTransferTransaction",(function(){return b}),(function(e){return b=e}));var o=r("iOvk1"),s=r("7gANb"),c=r("RVqnc"),a=r("5ekp2"),l=r("1J7Ie"),u=r("29o0l"),d=r("24hfq"),f=r("LfKcR"),p=r("1t9vJ"),h=r("4LWYd"),m=r("9DWl5"),g=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const v="collectible-transfer-tx",y=(0,c.toMilliseconds)({seconds:30});function b({accountHooks:e,priorityFeeService:n,sendCollectibleState:i,transactionHooks:o}){var r,c,d,b,C;const{data:w}=e.useSelectedMultiChainAccount(),T=null!==(d=(0,s.useResolveDomainOwnerIfNecessary)(null===(r=null==i?void 0:i.sendFormValues)||void 0===r?void 0:r.recipient,null===(c=null==i?void 0:i.collectible)||void 0===c?void 0:c.chain.id))&&void 0!==d?d:"",E=(0,u.useMemo)((()=>{if(w)return(0,p.createTransferArgs)(i,T)}),[w,i,T]),x=null===(b=null==i?void 0:i.collectible)||void 0===b?void 0:b.owner,{data:k}=e.useSelectedChainAddress({address:x,networkID:null==E?void 0:E.networkID}),{data:A}=o.useUtxoState(k),P=null!==(C=null==i?void 0:i.sendFormValues.transactionSpeed)&&void 0!==C?C:s.TransactionSpeed.standard,{data:I}=o.useTransactionSpeedsToUnitCost({networkID:null==E?void 0:E.networkID,enableFallback:!0}),M=I?I[P]:void 0;return(0,a.useQuery)({staleTime:y,enabled:S(E,A),queryKey:m.collectiblesQueryKeys.transferTransaction(E),queryFn(){return g(this,void 0,void 0,(function*(){if(E)return(0,h.createTransferTransaction)(E,A,n,M)}))},onError(e){var n;if(t(l).isAxiosError(e)){const t=null===(n=e.response)||void 0===n?void 0:n.status;(0,f.captureClientError)(e,t,v,{})}}})}function S(e,t){if(!e)return!1;if(o.Chains.isBitcoinNetworkID(e.networkID)&&!t)return!1;return!new(0,d.BigNumber)(e.amount).isNaN()}})),r.register("1t9vJ",(function(t,n){e(t.exports,"createTransferArgs",(function(){return l}));var i=r("iOvk1"),o=r("5slFC"),s=r("7mQ3Y"),c=r("7gANb"),a=r("fxm4i");function l(e,t){var n;const r=null===(n=null==e?void 0:e.collectible)||void 0===n?void 0:n.chain.id;if(r)return i.Chains.isBitcoinNetworkID(r)?function(e,t,n){const i=t.collectible;if(!i||!i.owner||!t.sendFormValues)throw new Error("State is missing necessary data");const{chainData:o}=i,{firstCreatedInscriptionId:r}=o;return{networkID:e,inscriptionId:r,type:"ordinal",amount:1,senderAddress:i.owner,destination:n}}(r,e,t):i.Chains.isSolanaNetworkID(r)?function(e,t,n){var i;const r=t.collectible;if(!r||!t.sendFormValues)throw new Error("State is missing necessary data");const{decimals:c="0"}=r,l=parseFloat(c),u=r.chainData,{mint:d,standard:f,tokenAccount:p,compression:h}=u,{amountAsset:m}=t.sendFormValues,g={networkID:r.chain.id,addressType:s.AddressType.Solana,address:null!==(i=r.owner)&&void 0!==i?i:""};switch(f){case o.SPLTokenStandard.NonFungible:case o.SPLTokenStandard.NonFungibleEdition:case o.SPLTokenStandard.ProgrammableNonFungible:return{type:"transferSPLToken",networkID:e,senderAddress:g,destination:n,amount:"1",senderAccount:p,mint:d,decimals:l,standard:f,compression:h,programId:a.TOKEN_PROGRAM_ID.toBase58()};case o.SPLTokenStandard.SemiFungible:return{type:"transferSPLToken",networkID:e,senderAddress:g,destination:n,amount:m.isZero()?"1":m.toString(),senderAccount:p,mint:d,decimals:l,standard:f,programId:a.TOKEN_PROGRAM_ID.toBase58()};default:throw new Error("Unknown fungible token type")}}(r,e,t):i.Chains.isEVMNetworkID(r)?function(e,t,n,i){var o;const r=t.collectible;if(!r||!t.sendFormValues)throw new Error("State is missing necessary data");const{chainData:c}=r,{id:a,contract:l,standard:u}=c,{amountAsset:d}=t.sendFormValues,f={networkID:r.chain.id,addressType:s.AddressType.EVM,address:null!==(o=r.owner)&&void 0!==o?o:""};switch(u){case"ERC721":return{type:"transferERC721Ethereum",networkID:e,senderAddress:f,destination:n,amount:1,gasEstimation:i,contractAddress:l,tokenID:a};case"ERC1155":return{type:"transferERC1155Ethereum",networkID:e,senderAddress:f,destination:n,amount:null!=d?d:"1",gasEstimation:i,contractAddress:l,tokenID:a};default:throw new Error("Unknown fungible token type")}}(r,e,t):(0,c.assertNever)(r)}})),r.register("4LWYd",(function(t,n){e(t.exports,"createTransferTransaction",(function(){return l}),(function(e){return l=e}));var i=r("iOvk1"),o=r("l9NUK"),s=r("kr432"),c=r("coKjz"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function l(e,t,n,i){return a(this,void 0,void 0,(function*(){if(u(e))return(0,c.createSolanaTransferTransaction)({transferArgs:e,priorityFeeService:n});if(d(e))return(0,s.createEvmTransferTransaction)(e);if(f(e)){if(!t)throw new Error("Missing utxo state for Bitcoin transaction.");return(0,o.createBitcoinTransferTransaction)(e,t,i)}throw new Error(`Unsupported transaction type: ${JSON.stringify(e)}`)}))}const u=e=>i.Chains.isSolanaNetworkID(e.networkID),d=e=>i.Chains.isEVMNetworkID(e.networkID),f=e=>i.Chains.isBitcoinNetworkID(e.networkID)})),r.register("l9NUK",(function(t,n){e(t.exports,"createBitcoinTransferTransaction",(function(){return a}));var i=r("iOvk1"),o=r("7gANb"),s=r("j8YST"),c=r("2RDER");function a(e,t,n){let r,a,l;const u=n,d=Math.round(u?(0,o.toSatoshisPerVirtualByte)(u.btcPerKilobyte).toNumber():o.DEFAULT_FEE_RATE);if(!function(e){return s.TransferOrdinalArgs.safeParse(e).success}(e))return(0,o.assertNever)(e);[r,a,l]=(0,c.createOrdinalsTransaction)(Object.assign(Object.assign({},e),{utxoState:t,feerate:d}));return{type:(0,i.addressTypeFromAddress)(e.networkID,e.senderAddress),networkID:e.networkID,psbt:r,vb:l,psbtChain:void 0,inputsToSign:a}}})),r.register("2RDER",(function(t,n){e(t.exports,"createOrdinalsTransaction",(function(){return a}));var i=r("iOvk1"),o=r("7gANb"),s=r("dG1lS"),c=(s=r("dG1lS"),r("8vz5Y"));const a=({inscriptionId:e,senderAddress:t,destination:n,utxoState:{inscribedUtxos:r,safeToSendUtxos:a},feerate:l})=>{const u=r.find((t=>{var n;return(null===(n=t.inscription)||void 0===n?void 0:n.id)===e}));if(!u)throw new Error("Cannot find utxo to transfer.");const d=[u],f=[{address:n,value:parseFloat(u.value),script:(0,c.toOutputScript)(n)}],p=(0,o.coinSelect)((0,i.addressTypeFromAddress)(i.NetworkIDs.Bitcoin.Mainnet,t),a,f,l,d),h=new(0,s.Psbt)({network:s.networks.bitcoin});if("success"===p.type){const{inputs:e,outputs:n}=p;h.addInputs(e.map((e=>(0,o.utxoToInput)(e,t,!0)))),h.addOutputs(n)}return[h,h.data.inputs.map(((e,n)=>({address:t,signingIndexes:[n]}))),p.vb]}})),r.register("kr432",(function(n,i){e(n.exports,"createEvmTransferTransaction",(function(){return f}),(function(e){return f=e}));var o=r("7mQ3Y"),s=r("7gANb"),c=r("kAKNF"),a=r("l8aZk"),l=r("a6llY"),u=r("4TZoA"),d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function f(e){return d(this,void 0,void 0,(function*(){let n;if((0,a.isTransferERC721EthereumArgs)(e)){const{networkID:t,senderAddress:i,destination:o,contractAddress:r,tokenID:s,gasEstimation:c}=e;n=yield(0,l.createErc721TransferTransaction)({sender:i.address,networkID:t,destination:o,contractAddress:r,tokenID:s,value:1,ethereumNetworkID:t,gasEstimation:c})}else{if(!(0,a.isTransferERC1155EthereumArgs)(e))return(0,s.assertNever)(e);{const{networkID:i,senderAddress:o,destination:r,contractAddress:s,tokenID:a,amount:l,gasEstimation:d}=e;n=yield(0,u.createErc1155TransferTransaction)({sender:o.address,networkID:i,destination:r,contractAddress:s,tokenID:a,value:"string"==typeof l?new(t(c))(l,10):l,ethereumNetworkID:i,gasEstimation:d})}}return{type:o.AddressType.EVM,networkID:e.networkID,unsignedTransaction:n}}))}})),r.register("a6llY",(function(n,i){e(n.exports,"createErc721TransferTransaction",(function(){return f}),(function(e){return f=e}));var o=r("iOvk1"),s=r("cFUcx"),c=r("7gANb"),a=r("kAKNF"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=["function safeTransferFrom(address from, address to, uint256 tokenId)","function transferFrom(address from, address to, uint256 tokenId)"],d=new Error("Error populating ERC721 transaction data."),f=e=>l(void 0,void 0,void 0,(function*(){const{sender:n,networkID:i,destination:r,contractAddress:l,tokenID:f,ethereumNetworkID:p,gasEstimation:h}=e,m=(0,c.getContract)(i,l,u,n);let g;try{const e=yield m.populateTransaction.safeTransferFrom(n,r,new(t(a))(f).toString(10));if(!e.data)throw d;g=e.data}catch(e){throw d}return s.EthUnsignedTransactionObject.parse(Object.assign({type:s.TransactionTypes.eip1559,from:n,to:l,chainId:"number"==typeof p?p:o.Chains.getEVMNetworkIDValue(p),data:g},(0,c.buildGasConfig)(h)))}))})),r.register("4TZoA",(function(n,i){e(n.exports,"createErc1155TransferTransaction",(function(){return f}),(function(e){return f=e}));var o=r("iOvk1"),s=r("cFUcx"),c=r("7gANb"),a=r("kAKNF"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=["function safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes data)","function transferFrom(address from, address to, uint256 id, uint256 amount, bytes data)"],d=new Error("Error populating ERC1155 transaction data."),f=e=>l(void 0,void 0,void 0,(function*(){const{sender:n,networkID:i,destination:r,contractAddress:l,tokenID:f,value:p,ethereumNetworkID:h,gasEstimation:m}=e,g=(0,c.getContract)(i,l,u,n);let v;try{const e=yield g.populateTransaction.safeTransferFrom(n,r,new(t(a))(f).toString(10),p.toString(10),[]);if(!e.data)throw d;v=e.data}catch(e){throw d}return s.EthUnsignedTransactionObject.parse(Object.assign({type:s.TransactionTypes.eip1559,from:n,to:l,chainId:"number"==typeof h?h:o.Chains.getEVMNetworkIDValue(h),data:v},(0,c.buildGasConfig)(m)))}))})),r.register("coKjz",(function(t,n){e(t.exports,"createSolanaTransferTransaction",(function(){return m}),(function(e){return m=e}));var i=r("7mQ3Y"),o=r("6ElgT"),s=r("hMVEP"),c=r("7gANb"),a=r("k8Xqg"),l=r("lvcyB"),u=r("l8aZk"),d=r("jeIJC"),f=r("7WB30"),p=r("gbDrv"),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function m({transferArgs:e,priorityFeeService:t}){return h(this,void 0,void 0,(function*(){const{networkID:n,mint:r}=e,h=(0,l.createConnectionBySolanaNetworkID)(n);let m,g;const{senderAddress:v,destination:y}=e;if(g=(yield(0,c.getComputeUnitPrice)({destination:y,senderAddress:v,mint:r})).microLamports,(0,u.isTransferCompressedTokenArgs)(e))m=yield(0,d.createCompressedTokenTransferTransaction)(e);else if((0,u.isTransferProgrammableNftArgs)(e))m=yield(0,p.createProgrammableNftTransferTransaction)(e);else if((0,u.isTransferOcpTokenArgs)(e)&&(yield(0,o.getOCPMintState)(new(0,s.PublicKey)(r),h)))m=yield(0,f.createOcpTokenTransferTransaction)(Object.assign({},e));else{if(!(0,c.isTransferDefaultSPLTokenArgs)(e))throw new Error("Unsupported transferSPLSolana args");m=yield(0,c.createDefaultSplTokenTransferTransaction)(Object.assign(Object.assign({},e),{connection:h}))}const{memo:b}=e;return b&&m.add((0,a.writeMemo)({memoText:b})),g&&t&&(m=yield t.addPriorityFee(m,{connection:h,calculators:{budget:new(0,c.StaticLimitCalculator)(c.BASIC_SEND_COMPUTE_UNITS),cost:new(0,c.StaticPriceCalculator)(g)}})),m.feePayer=new(0,s.PublicKey)(e.senderAddress.address),m.recentBlockhash=(yield h.getLatestBlockhash("confirmed")).blockhash,{type:i.AddressType.Solana,networkID:e.networkID,transaction:m}}))}})),r.register("jeIJC",(function(t,n){e(t.exports,"createCompressedTokenTransferTransaction",(function(){return a}),(function(e){return a=e}));var i=r("hMVEP"),o=r("16XMG"),s=r("foQia"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function a(e){return c(this,void 0,void 0,(function*(){const{senderAddress:t,mint:n}=e,c=new(0,i.Transaction),a=(0,o.getAPIEnvironment)(),l=yield(0,s.getCompressionProof)({apiEnv:a,networkID:t.networkID,mintAddress:n}),{createCompressedNftTransferIX:u}=yield Promise.resolve(r("6ElgT"));return c.add(yield u(Object.assign(Object.assign({},e),l))),c}))}})),r.register("foQia",(function(n,i){e(n.exports,"getCompressionProof",(function(){return l}),(function(e){return l=e}));var o=r("csW2r"),s=r("1J7Ie"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};class a extends Error{constructor(e){super(e),this.name="ProofError"}}function l({apiEnv:e,networkID:n,mintAddress:i}){return c(this,void 0,void 0,(function*(){const r=`${e}/collectibles/v1/proof`;let c;try{c=yield t(s)({method:"POST",url:r,headers:{"Content-Type":"application/json"},data:{chainId:n,address:i}})}catch(e){const t=new a(`Failed to fetch proof for ${i} on network ${n}.`);throw o.telemetry.captureError(t,o.FeatureTag.Collectibles),t}if(200!==c.status){const e=new a(`Failed to fetch proof for ${i} on network ${n}.`);throw o.telemetry.captureError(e,o.FeatureTag.Collectibles),e}return yield c.data}))}})),r.register("7WB30",(function(t,n){e(t.exports,"createOcpTokenTransferTransaction",(function(){return l}),(function(e){return l=e}));var i=r("hMVEP"),o=r("7gANb"),s=r("fxm4i"),c=r("lvcyB"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function l({networkID:e,destination:t,mint:n,senderAddress:r}){return a(this,void 0,void 0,(function*(){const{createComputeBudgetIx:a,createOCPTransferIX:l,getOCPMintState:u}=yield(0,o.getMetaplexDeps)(),d=(0,c.createConnectionBySolanaNetworkID)(e),f=new(0,i.PublicKey)(n),p=yield u(f,d);if(!p)throw new Error("Mint state not found for OCP transfer");const h=new(0,i.Transaction);h.add(a());const{destinationAddress:m}=yield(0,o.ensureDestinationDetails)({solanaConnection:d,destination:new(0,i.PublicKey)(t),mint:f,programId:s.TOKEN_PROGRAM_ID}),g=new(0,i.PublicKey)(r.address),{initAccountIX:v,transferIX:y}=yield l({senderAddress:g,destinationAddress:m,mintAddress:f,mintState:p,connection:d});return v&&h.add(v),h.add(y),h}))}})),r.register("gbDrv",(function(t,n){e(t.exports,"createProgrammableNftTransferTransaction",(function(){return u}),(function(e){return u=e}));var i=r("hMVEP"),o=r("7gANb"),s=r("k8Xqg"),c=r("fxm4i"),a=r("lvcyB"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function u({networkID:e,senderAddress:t,senderAccount:n,destination:r,mint:u}){return l(this,void 0,void 0,(function*(){const l=(0,a.createConnectionBySolanaNetworkID)(e),d=new(0,i.PublicKey)(u),{destinationAddress:f,destinationAccount:p}=yield(0,o.ensureDestinationDetails)({solanaConnection:l,destination:new(0,i.PublicKey)(r),mint:d,programId:c.TOKEN_PROGRAM_ID}),{createPNFTTransferIX:h}=yield(0,o.getMetaplexDeps)(),m=new(0,i.Transaction),g=new(0,i.PublicKey)(t.address),v=new(0,i.PublicKey)(n);let y=p;if(!y){const[e,t]=yield(0,s.createAssociatedTokenAccountIx)(g,f,d,c.TOKEN_PROGRAM_ID);m.add((0,s.assertOwner)({account:f,owner:i.SystemProgram.programId})),m.add(e),y=t}return m.add(yield h({senderAddress:g,tokenAccount:v,destinationAddress:f,destinationAccount:y,mintAddress:d,connection:l})),m}))}})),r.register("dAQq7",(function(t,n){e(t.exports,"useCollections",(function(){return g}),(function(e){return g=e})),e(t.exports,"useCollectionsAreTrimmed",(function(){return v}),(function(e){return v=e}));var i=r("iOvk1"),o=r("5ekp2"),s=r("29o0l"),c=r("iHNyV"),a=r("5ltZX"),l=r("jAhHS"),u=r("f6alZ"),d=r("doOus"),f=r("9DWl5"),p=r("iSOyc"),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const m=({addresses:e,getApiEnvironment:t,queryClient:n,queryOptions:r={staleTime:p.StaleTime.Short,refetchInterval:p.RefetchInterval.Long},select:s})=>{const m=f.collectiblesQueryKeys.collections(e);return(0,o.useQuery)({enabled:0!==e.length&&e.every((e=>!i.Chains.isLocalNetworkID(e.networkID))),queryKey:m,cacheTime:p.CacheTime.Medium,staleTime:r.staleTime,refetchInterval:r.refetchInterval,queryFn({queryKey:[,,{addresses:e}]}){return h(this,void 0,void 0,(function*(){const i=t(),[o,r]=yield Promise.allSettled([(0,a.getListings)(i,e),(0,c.getCollectibles)(i,e)]);if("rejected"===r.status)throw new Error("failed to load unlisted collections");const{allCollectibles:s,isTrimmed:f}="fulfilled"===r.status?r.value:{allCollectibles:[],isTrimmed:!1},p="fulfilled"===o.status?o.value:[],h=(0,u.mergeCollectibles)(p,s),m=(0,l.mapCollectiblesToCollections)(h),g=yield(0,d.getOptimisticUpdates)(n),v=(0,d.applyOptimisticUpdates)(m,g);return{items:v,nrOfItems:v.reduce(((e,t)=>e+t.items.length),0),isTrimmed:f}}))},select:s})},g=e=>m(Object.assign(Object.assign({},e),{select:(0,s.useCallback)((e=>e.items),[])})),v=e=>{var t;return null!==(t=m(Object.assign(Object.assign({},e),{select:(0,s.useCallback)((e=>e.isTrimmed),[])})).data)&&void 0!==t&&t}})),r.register("5ltZX",(function(t,n){e(t.exports,"getListings",(function(){return l}),(function(e){return l=e}));var i=r("iOvk1"),o=r("RVqnc"),s=r("7zkzx"),c=r("9VD5Q"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const l=(e,t)=>a(void 0,void 0,void 0,(function*(){const n=t.find((e=>i.Chains.isSolanaNetworkID(e.chainId)));if(!n)throw new Error("no solana account");const r=yield(0,o.withRetry)((()=>(0,c.getSPLListings)(e,n)),(()=>!0)),{chainId:a,address:l}=n;return r.map((e=>(0,s.convertSPLCollectibleToCollectible)(e,a,l)))}))})),r.register("7zkzx",(function(t,n){e(t.exports,"convertSPLCollectibleToCollectible",(function(){return i}));const i=(e,t,n)=>{var i,o;const{asset:r,listings:s}=e;return Object.assign(Object.assign(Object.assign({id:`${t}/address:${r.mintPubKey}`,chain:{id:t,name:"Solana",symbol:"SOL",imageUrl:""},name:null!==(i=r.name)&&void 0!==i?i:void 0,collection:{id:null!==(o=r.collectionPubKey)&&void 0!==o?o:"",isValidCollectionId:!1,isSpam:!1},uri:r.uri,balance:"1",decimals:"0",attributes:[]},s?{listings:s}:{}),n?{owner:n}:{}),{chainData:{mint:r.mintPubKey,tokenAccount:r.pubkey,standard:r.standard,compression:void 0}})}})),r.register("jAhHS",(function(t,n){e(t.exports,"mapCollectiblesToCollections",(function(){return o}));var i=r("jyEze");function o(e){var t;const n=new Map;for(const i of e){const e=i.collection.id,o=null!==(t=n.get(e))&&void 0!==t?t:[];o.push(i),n.set(e,o)}return(0,i.sortCollections)(n)}})),r.register("jyEze",(function(t,n){e(t.exports,"sortCollections",(function(){return o}));var i=r("l8aZk");const o=e=>{const t=[];for(const[n,i]of e){i.sort(((e,t)=>{var n,i;const o=null!==(n=e.name)&&void 0!==n?n:"",r=null!==(i=t.name)&&void 0!==i?i:"",c=o.localeCompare(r);if(o.localeCompare(r))return c;const a=s(e),l=s(t);return a.localeCompare(l)}));const[e]=i;e&&t.push(Object.assign(Object.assign(Object.assign({},"externalUrl"in e?{externalUrl:e.externalUrl}:void 0),e.collection),{items:i}))}return t.sort(((e,t)=>{var n,i,o,r;if(e.items.length>t.items.length)return-1;if(t.items.length>e.items.length)return 1;const s=null!==(i=null!==(n=e.name)&&void 0!==n?n:e.id)&&void 0!==i?i:"",c=null!==(r=null!==(o=t.name)&&void 0!==o?o:t.id)&&void 0!==r?r:"";return s.localeCompare(c)}))};function s(e){const t=e.chainData;return(0,i.isSolanaCollectibleChainData)(t)?t.tokenAccount:(0,i.isEthereumCollectibleChainData)(t)?t.id:((0,i.isBitcoinCollectibleChainData)(t),e.id)}})),r.register("f6alZ",(function(t,n){e(t.exports,"mergeCollectibles",(function(){return i}));const i=(e,t)=>{const n=[],i=new Set,o=[...e,...t];for(const e of o)i.has(e.id)||(n.push(e),i.add(e.id));return n}})),r.register("doOus",(function(n,i){e(n.exports,"pushOptimisticUpdate",(function(){return u}),(function(e){return u=e})),e(n.exports,"getOptimisticUpdates",(function(){return d}),(function(e){return d=e})),e(n.exports,"applyOptimisticUpdates",(function(){return f}),(function(e){return f=e}));var o=r("RVqnc"),s=r("kAKNF"),c=r("9DWl5"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const l=20;function u(e,t){var n;const i=c.collectiblesQueryKeys.optimisticUpdates(),o=null!==(n=e.getQueryData(i))&&void 0!==n?n:[];e.setQueryData(i,[...o,t])}function d(e,t){var n;return a(this,void 0,void 0,(function*(){const i=c.collectiblesQueryKeys.optimisticUpdates(),r=yield e.getQueryState(i);if(r){if((null!=t?t:Date.now())-r.dataUpdatedAt>(0,o.toMilliseconds)({seconds:l}))return e.removeQueries(i),[];return null!==(n=null==r?void 0:r.data)&&void 0!==n?n:[]}return[]}))}function f(e,n){const i=n.reduce(((e,n)=>{var i;const{id:o,amount:r}=n,c=new(t(s))(r);return e[o]=(null!==(i=e[o])&&void 0!==i?i:new(t(s))(0)).plus(c),e}),{});for(const n of e)n.items=n.items.reduce(((e,n)=>{var o;const r=n.id,c=i[r];if(c){const i=new(t(s))(null!==(o=n.balance)&&void 0!==o?o:0);return i.minus(c).isGreaterThan(0)?e.concat(Object.assign(Object.assign({},n),{balance:i.minus(c).toString()})):e}return e.concat(n)}),[]);return e=e.filter((e=>e.items.length>0))}})),r.register("1El9w",(function(t,n){e(t.exports,"useHiddenCollections",(function(){return u}),(function(e){return u=e}));var i=r("csW2r"),o=r("5ekp2"),s=r("dK8f3"),c=r("9DWl5"),a=r("iSOyc"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=(e,t)=>(0,o.useQuery)({enabled:0!==e.length,queryKey:c.collectiblesQueryKeys.hiddenCollections(e),cacheTime:a.CacheTime.Long,staleTime:a.StaleTime.Never,queryFn(){var n,o;return l(this,void 0,void 0,(function*(){try{const i=null!==(n=yield(0,s.getHiddenCollections)(t))&&void 0!==n?n:{};return null!==(o=i[e])&&void 0!==o?o:[]}catch(e){return e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Collectibles),[]}}))}})})),r.register("dK8f3",(function(t,n){e(t.exports,"getHiddenCollections",(function(){return l}),(function(e){return l=e})),e(t.exports,"StorageKeyCollectibles",(function(){return i}),(function(e){return i=e})),e(t.exports,"setHiddenCollections",(function(){return d}),(function(e){return d=e})),e(t.exports,"getUnhiddenCollections",(function(){return p}),(function(e){return p=e})),e(t.exports,"setUnhiddenCollections",(function(){return m}),(function(e){return m=e})),e(t.exports,"getPinnedCollections",(function(){return v}),(function(e){return v=e})),e(t.exports,"setPinnedCollections",(function(){return b}),(function(e){return b=e}));var i,o,s=r("j8YST"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};class a extends s.CollectiblesError{constructor(e){super(e),this.name="GetHiddenCollectionsError"}}function l(e){return c(this,void 0,void 0,(function*(){try{return yield e.get(i.HiddenCollections)}catch(e){throw new a("")}}))}class u extends s.CollectiblesError{constructor(e){super(e),this.name="SetHiddenCollectionsError"}}function d(e,t){return c(this,void 0,void 0,(function*(){try{return yield e.set(i.HiddenCollections,t)}catch(e){throw new u("")}}))}class f extends s.CollectiblesError{constructor(e){super(e),this.name="GetUnhiddenCollectionsError"}}function p(e){return c(this,void 0,void 0,(function*(){try{return yield e.get(i.UnhiddenCollections)}catch(e){throw new f("")}}))}class h extends s.CollectiblesError{constructor(e){super(e),this.name="SetUnhiddenCollectionsError"}}function m(e,t){return c(this,void 0,void 0,(function*(){try{return yield e.set(i.UnhiddenCollections,t)}catch(e){throw new h("")}}))}class g extends s.CollectiblesError{constructor(e){super(e),this.name="GetPinnedCollectionsError"}}function v(e){return c(this,void 0,void 0,(function*(){try{return yield e.get(i.PinnedCollections)}catch(e){throw new g("")}}))}class y extends s.CollectiblesError{constructor(e){super(e),this.name="SetPinnedCollectionsError"}}function b(e,t){return c(this,void 0,void 0,(function*(){try{return yield e.set(i.PinnedCollections,t)}catch(e){throw new y("")}}))}(o=i||(i={})).HideSuspiciousCollectibles="hideSuspiciousCollectibles",o.HiddenCollections="hiddenCollections",o.PinnedCollections="pinnedCollections",o.UnhiddenCollections="unhiddenCollections"})),r.register("aTZIn",(function(t,n){e(t.exports,"useHideCollection",(function(){return f}),(function(e){return f=e}));var i=r("9W7fs"),o=r("7dHjq"),s=r("dK8f3"),c=r("j8YST"),a=r("9DWl5"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=2e3;class d extends c.CollectiblesError{constructor(e){super(e),this.name="UseHideCollectionError"}}function f(e){const t=(0,o.useQueryClient)();return(0,i.useMutation)({mutationFn(t){var n,i,o,r;return l(this,void 0,void 0,(function*(){const{collectionId:c,accountId:a}=t,l=null!==(n=yield(0,s.getHiddenCollections)(e))&&void 0!==n?n:{},f=null!==(i=l[a])&&void 0!==i?i:[],p=[...new Set([...f,c])],h=Object.assign(Object.assign({},l),{[a]:p});if(Object.values(h).flat().length>u)throw new d("Too many ids hidden");yield(0,s.setHiddenCollections)(e,h);const m=null!==(o=yield(0,s.getUnhiddenCollections)(e))&&void 0!==o?o:{},g=null!==(r=m[a])&&void 0!==r?r:[],v=g.findIndex((e=>e===c));if(v>-1){const t=g.slice();t.splice(v,1);const n=Object.assign(Object.assign({},m),{[a]:t});0===t.length&&delete n[a],yield(0,s.setUnhiddenCollections)(e,n)}}))},onSuccess(e,n){return l(this,void 0,void 0,(function*(){yield t.invalidateQueries(a.collectiblesQueryKeys.hiddenCollections(n.accountId)),yield t.invalidateQueries(a.collectiblesQueryKeys.unhiddenCollections(n.accountId))}))}})}})),r.register("iNEbF",(function(t,n){e(t.exports,"usePinCollection",(function(){return f}),(function(e){return f=e}));var i=r("9W7fs"),o=r("7dHjq"),s=r("dK8f3"),c=r("j8YST"),a=r("9DWl5"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=2e3;class d extends c.CollectiblesError{constructor(e){super(e),this.name="UsePinCollectionError"}}function f(e){const t=(0,o.useQueryClient)();return(0,i.useMutation)({mutationFn({collectionId:t,accountId:n,pinned:i}){var o,r;return l(this,void 0,void 0,(function*(){const c=null!==(o=yield(0,s.getPinnedCollections)(e))&&void 0!==o?o:{},a=null!==(r=c[n])&&void 0!==r?r:[];if(i){if(Object.values(c).flat().length+1>u)throw new d("Pinned limit reached");const i=[...new Set([...a,t])],o=Object.assign(Object.assign({},c),{[n]:i});yield(0,s.setPinnedCollections)(e,o)}else{const i=a.indexOf(t);if(-1===i)throw new d("Collection not previously pinned");const o=[...a];o.splice(i,1);const r=Object.assign(Object.assign({},c),{[n]:o});yield(0,s.setPinnedCollections)(e,r)}}))},onSuccess(e,n){return l(this,void 0,void 0,(function*(){yield t.invalidateQueries(a.collectiblesQueryKeys.pinnedCollections(n.accountId))}))}})}})),r.register("82MEA",(function(t,n){e(t.exports,"usePinnedCollections",(function(){return u}),(function(e){return u=e}));var i=r("csW2r"),o=r("5ekp2"),s=r("dK8f3"),c=r("9DWl5"),a=r("iSOyc"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=(e,t)=>(0,o.useQuery)({enabled:0!==e.length,queryKey:c.collectiblesQueryKeys.pinnedCollections(e),cacheTime:a.CacheTime.Long,staleTime:a.StaleTime.Never,refetchInterval:!1,refetchOnMount:!0,queryFn(){var n;return l(this,void 0,void 0,(function*(){try{return(null!==(n=yield(0,s.getPinnedCollections)(t))&&void 0!==n?n:{})[e]||[]}catch(e){return e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Collectibles),[]}}))}})})),r.register("3OEe5",(function(t,n){e(t.exports,"useTransferCollectible",(function(){return l}),(function(e){return l=e}));var i=r("csW2r"),o=r("7gANb"),s=r("9W7fs"),c=r("doOus"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function l(e,t,n,r){return(0,s.useMutation)({mutationFn:({multichainTransaction:i,pendingTransactionInput:s,senderAddress:l,optimisticUpdate:u,accountIdentifier:d})=>a(this,void 0,void 0,(function*(){const a=s.networkID,f=yield(0,o.signAndSendTransaction)({networkID:a,accountIdentifier:d,accountSigner:e,senderAddress:l,multichainTransaction:i,storage:t,pendingTransactionInput:s,utxoManager:r});return u&&(0,c.pushOptimisticUpdate)(n,u),(0,o.createTransactionReceipt)(a,f)})),onError(e){e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Collectibles)}})}})),r.register("hawzv",(function(t,n){e(t.exports,"useUnhiddenCollections",(function(){return u}),(function(e){return u=e}));var i=r("csW2r"),o=r("5ekp2"),s=r("dK8f3"),c=r("9DWl5"),a=r("iSOyc"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=(e,t)=>(0,o.useQuery)({enabled:0!==e.length,queryKey:c.collectiblesQueryKeys.unhiddenCollections(e),cacheTime:a.CacheTime.Long,staleTime:a.StaleTime.Never,queryFn(){var n,o;return l(this,void 0,void 0,(function*(){try{const i=null!==(n=yield(0,s.getUnhiddenCollections)(t))&&void 0!==n?n:{};return null!==(o=i[e])&&void 0!==o?o:[]}catch(e){return e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Collectibles),[]}}))}})})),r.register("9EdxR",(function(t,n){e(t.exports,"useUnhideCollection",(function(){return d}),(function(e){return d=e}));var i=r("9W7fs"),o=r("7dHjq"),s=r("dK8f3"),c=r("9DWl5"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const l=2e3;class u extends Error{constructor(e){super(e),this.name="UseUnhideCollectionError"}}function d(e){const t=(0,o.useQueryClient)();return(0,i.useMutation)({mutationFn(t){var n,i,o,r;return a(this,void 0,void 0,(function*(){const{collectionId:c,accountId:a}=t,d=null!==(n=yield(0,s.getUnhiddenCollections)(e))&&void 0!==n?n:{},f=null!==(i=d[a])&&void 0!==i?i:[],p=[...new Set([...f,c])],h=Object.assign(Object.assign({},d),{[a]:p});if(Object.values(h).flat().length>l)throw new u("Too many ids unhidden");yield(0,s.setUnhiddenCollections)(e,h);const m=null!==(o=yield(0,s.getHiddenCollections)(e))&&void 0!==o?o:{},g=null!==(r=m[a])&&void 0!==r?r:[],v=g.findIndex((e=>e===c));if(v>-1){const t=g.slice();t.splice(v,1);const n=Object.assign(Object.assign({},m),{[a]:t});0===t.length&&delete n[a],yield(0,s.setHiddenCollections)(e,n)}}))},onSuccess(e,n){return a(this,void 0,void 0,(function*(){yield t.invalidateQueries(c.collectiblesQueryKeys.unhiddenCollections(n.accountId)),yield t.invalidateQueries(c.collectiblesQueryKeys.hiddenCollections(n.accountId))}))}})}})),r.register("hc5YT",(function(t,n){e(t.exports,"useCollectible",(function(){return u}));var i=r("iOvk1"),o=r("29o0l"),s=r("dAQq7"),c=r("imMye"),a=r("1k2mo"),l=r("eEVg6");const u=({id:e,addresses:t,getApiEnvironment:n,queryClient:r})=>{var u,d,f,p,h,m,g,v,y,b,S;const{data:C,isSuccess:w}=(0,s.useCollections)({addresses:t,getApiEnvironment:n,queryClient:r}),T=(0,o.useMemo)((()=>{const t={isSuccess:w,data:void 0};for(const n of null!=C?C:[])for(const i of n.items)if(i.id===e)return Object.assign(Object.assign({},t),{data:i});return t}),[e,C,w]),E=t.find((e=>i.Chains.isSolanaNetworkID(e.networkID))),x=null!==(u=null==E?void 0:E.address)&&void 0!==u?u:void 0,{data:k}=(0,a.useSPLTokenJSONMetadata)(null!==(p=(null===(d=T.data)||void 0===d?void 0:d.listings)&&(null===(f=T.data)||void 0===f?void 0:f.uri))&&void 0!==p?p:""),{data:A}=(0,c.useSPLCollectibleMarketplaceStats)(null!==(g=(null===(h=T.data)||void 0===h?void 0:h.listings)&&(null===(m=T.data)||void 0===m?void 0:m.chainData).mint)&&void 0!==g?g:"",null!==(S=(null===(v=T.data)||void 0===v?void 0:v.listings)&&(null!==(b=null===(y=T.data)||void 0===y?void 0:y.chain.id)&&void 0!==b?b:"").replace("solana:",""))&&void 0!==S?S:"",n(),x);return(0,o.useMemo)((()=>{let e=T.data;return k&&T.data&&(e=(0,l.convertSPLTokenJSONMetadataToCollectible)(T.data,k)),A?Object.assign(Object.assign({},T),{data:e,lastSalePrice:A.lastSalePrice,floorPrice:A.floorPrice}):Object.assign(Object.assign({},T),{data:e})}),[T,k,A])}})),r.register("imMye",(function(t,n){e(t.exports,"useSPLCollectibleMarketplaceStats",(function(){return a}),(function(e){return a=e}));var i=r("5ekp2"),o=r("d9Gnw"),s=r("iSOyc"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const a=(e,t,n,r)=>{const a=["SPLCollectibleMarketplaceStats",e,t,n];return(0,i.useQuery)({enabled:!!e&&!!t&&!!n,queryKey:a,cacheTime:s.CacheTime.Medium,staleTime:s.StaleTime.Long,queryFn({queryKey:[,e,t,n]}){return c(this,void 0,void 0,(function*(){const i=yield(0,o.getSPLCollectibleMarketplaceStats)(n,e,parseInt(t,10),r),s={};return i.magic_eden&&(i.magic_eden.lastPurchasePrice&&(s.lastSalePrice={price:i.magic_eden.lastPurchasePrice,token:{decimals:9,symbol:"SOL"}}),i.magic_eden.floorPrice&&(s.floorPrice={price:i.magic_eden.floorPrice,token:{decimals:9,symbol:"SOL"}})),s}))}})}})),r.register("1k2mo",(function(t,n){e(t.exports,"useSPLTokenJSONMetadata",(function(){return a}),(function(e){return a=e}));var i=r("5ekp2"),o=r("lK2EU"),s=r("iSOyc"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const a=e=>{const t=["SPLTokenJSONMetadata",e];return(0,i.useQuery)({enabled:!!e,queryKey:t,cacheTime:s.CacheTime.Medium,staleTime:s.StaleTime.Long,queryFn({queryKey:[,e]}){return c(this,void 0,void 0,(function*(){return(0,o.getSPLTokenJSONMetadata)(e)}))}})}})),r.register("lK2EU",(function(t,n){e(t.exports,"getSPLTokenJSONMetadata",(function(){return c}),(function(e){return c=e}));var i=r("beWYh"),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const s=e=>{const t=new RegExp(/(data:)([\w/+-]*)(;charset=[\w-]+|;base64){0,1},(.*)/i);if(!t.test(e))return;const n=t.exec(e);if(!n)return;const i=n[2],o=n[3],r=n[4];return"application/json"===i&&";base64"!==o?JSON.parse(r):void 0};function c(e){return o(this,void 0,void 0,(function*(){if(!e)return null;const t=s(e);if(t)return t;const n=`https://metaplex-cache.phantom.app/?url=${encodeURIComponent(e)}`;try{if((0,i.isRequestClientEnabled)()){const e=new(0,i.RequestClient);e.withDefaultHeaders({"Content-type":"application/json"});const t=yield e.get(n);if(t.status>199&&t.status<300){const e=yield t.data;if(e&&"object"==typeof e)return e}}else{const e=yield fetch(n,{headers:{"content-type":"application/json"}});if(e.ok){const t=yield e.json();if(t&&"object"==typeof t)return t}}}catch(e){console.error(`Failed to fetch URL ${n}`)}return console.error("Failed to fetch collectible metadata from origin server"),null}))}})),r.register("eEVg6",(function(t,n){e(t.exports,"convertSPLTokenJSONMetadataToCollectible",(function(){return c}));var i=r("3YDVy"),o=r("2p77n"),s=r("dKyO0");const c=(e,t)=>{var n,r,c,a,l,u;if(!t)return e;let d;e.name&&e.name.length>0?d=e.name:t.name&&(d=t.name);const f=(0,s.selectBestSPLMedia)(t);let p=e.media;if(f&&"string"==typeof f.type){const e=f.type.split("/")[0];(0,s.isSupportedMediaType)(e)&&f.uri&&(p=Object.assign(Object.assign({},null!=p?p:{}),{type:e}),p[e]=Object.assign(Object.assign({},null!==(n=p[e])&&void 0!==n?n:{}),{url:f.uri}))}if(t.image&&(p=Object.assign(Object.assign({},null!=p?p:{type:"image"}),{image:{url:t.image}})),null===(r=null==p?void 0:p.image)||void 0===r?void 0:r.url){const e=(0,i.getScaledImageURIExt)(p.image.url,512,512);p.image.url=e}const h=null!==(c=t.description)&&void 0!==c?c:e.description,m=null!==(a=t.attributes)&&void 0!==a?a:e.attributes,g=null!==(l=t.external_url)&&void 0!==l?l:e.externalUrl,v=null!==(u=(0,o.selectBestSPLCollectionName)(t))&&void 0!==u?u:e.collection.name;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),{name:d}),h?{description:h}:{}),m?{attributes:m}:{}),g?{externalUrl:g}:{}),{media:p,collection:Object.assign(Object.assign({},e.collection),{name:v})})}})),r.register("3YDVy",(function(t,n){e(t.exports,"SOLANA_STATIC_VALUES",(function(){return I}),(function(e){return I=e})),e(t.exports,"useLamportBalance",(function(){return M}),(function(e){return M=e})),e(t.exports,"useSPLTokenAccountsByStandard",(function(){return U}),(function(e){return U=e})),e(t.exports,"useSPLTokenPrices",(function(){return K}),(function(e){return K=e})),e(t.exports,"useFetchSPLTokenJSONMetadata",(function(){return $}),(function(e){return $=e})),e(t.exports,"useSelectBestMedia",(function(){return ie}),(function(e){return ie=e})),e(t.exports,"useBestCollectionName",(function(){return oe}),(function(e){return oe=e})),e(t.exports,"getImageThroughProxy",(function(){return se}),(function(e){return se=e})),e(t.exports,"getScaledImageURI",(function(){return ce}),(function(e){return ce=e})),e(t.exports,"getScaledImageURIExt",(function(){return ae}),(function(e){return ae=e})),e(t.exports,"assetKeyExtractor",(function(){return le}),(function(e){return le=e})),e(t.exports,"assetSorter",(function(){return de}),(function(e){return de=e})),e(t.exports,"getMintPubkeyFromAsset",(function(){return fe}),(function(e){return fe=e})),e(t.exports,"useSPLAssets",(function(){return pe}),(function(e){return pe=e})),e(t.exports,"useAssetsAndSPLTokenList",(function(){return me}),(function(e){return me=e})),e(t.exports,"useMintToAssetMap",(function(){return ve}),(function(e){return ve=e}));var i=r("8tcqI"),o=r("6ElgT"),s=r("56oyT"),c=r("hMVEP"),a=r("HlEsU"),l=r("csW2r"),u=r("RVqnc"),d=r("5ekp2"),f=r("7dHjq"),p=r("29o0l"),h=r("16XMG"),m=r("9CoSy"),g=r("dY6gO"),v=r("hRUHU"),y=r("6tBWY"),b=r("kAjeg"),S=r("lvcyB"),C=r("jF6Pg"),w=r("Nt4tV"),T=r("7qsqs"),E=r("lAsdm"),x=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const k=i.Buffer.from("metadata"),A=o.METADATA_PROGRAM_ID.toBuffer(),P=(0,u.toMilliseconds)({minutes:1}),I={coingeckoId:"solana",decimals:9,logoURI:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL"};Object.assign(Object.assign({},I),{amount:"0",usd:0,usd24hChange:0});function M(e,t){return(0,d.useQuery)({enabled:""!==e,queryKey:["cluster",t,"owner",e,"lamport-balance"],refetchInterval:P,queryFn(){return x(this,void 0,void 0,(function*(){const n=(0,S.getRPCURLByCluster)(t),i=yield function(e,t){return x(this,void 0,void 0,(function*(){const n=yield fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:"getBalance",params:[t,{commitment:"confirmed"}]})}),i=yield n.json();if("error"in i)throw console.error(i.error,t),new Error(i.error.message);return i.result.value.toString()}))}(n,e);return i}))},onSuccess(n){(()=>{x(this,void 0,void 0,(function*(){const i=(yield(0,T.getStorageValue)(a.StorageKeys.OwnerToClusterToLamportBalance))||{},o=i[e]||{};(0,T.setStorageValue)(a.StorageKeys.OwnerToClusterToLamportBalance,Object.assign(Object.assign({},i),{[e]:Object.assign(Object.assign({},o),{[t]:n})}))}))})()}})}const O=e=>{const t=k;return c.PublicKey.findProgramAddressSync([t,A,e.toBuffer()],o.METADATA_PROGRAM_ID)};function D(e,t){return x(this,void 0,void 0,(function*(){const n=new Map,{Metadata:r}=yield(0,o.getMetaplexFoundationDeps)(),s=t.map((t=>x(this,void 0,void 0,(function*(){const o=yield function(e,t){return x(this,void 0,void 0,(function*(){const n=yield fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:"getMultipleAccounts",params:[t,{encoding:"base64",commitment:"confirmed"}]})}),i=yield n.json();if("error"in i)throw console.error(i.error),new Error(i.error.message);return i}))}(e,t);for(const e of o.result.value)if(e){const[t]=r.deserialize(i.Buffer.from(e.data[0],"base64"));n.set(t.mint.toString(),t)}}))));return yield Promise.all(s),n}))}const F="SPLTokenAccounts";var L,N;(N=L||(L={})).NonFungible="NonFungible",N.SemiFungible="SemiFungible",N.Fungible="Fungible",N.NonFungibleEdition="NonFungibleEdition",N.ProgrammableNonFungible="ProgrammableNonFungible";class R extends Error{getMessage(){return`Something went wrong: ${this.message}`}constructor(e){super(e),this.statusCode=400,Object.setPrototypeOf(this,R.prototype),this.name="FungibleError"}}function j(e=101){return x(this,void 0,void 0,(function*(){try{const t=(yield(yield fetch("https://static.phantom.app/assets/solana.tokenlist.json")).json()).tokens.filter((t=>t.chainId===e)),n=new Map;for(const e of t)n.set(e.address,e);return n}catch(e){throw l.telemetry.captureError(e,l.FeatureTag.Fungibles),new R("Failed to get SPL token map")}}))}function U(e,t){const n=(0,f.useQueryClient)();return(0,d.useQuery)({enabled:""!==e,queryKey:[F,{pubkey:e,cluster:t}],refetchInterval:P,queryFn({queryKey:e}){var n,i;return x(this,void 0,void 0,(function*(){const[,{pubkey:o}]=e,r=(0,S.getTokenListNetworkIDByCluster)(t),[s,c]=yield Promise.all([B(o,r),j(r)]),a=null===(n=null==s?void 0:s.response)||void 0===n?void 0:n.results;if(a.infos=c,!a)return null;if(null===(i=yield(0,T.getStorageValue)("hideSuspiciousCollectibles"))||void 0===i||i){const e=yield(0,y.getNFTBlocklist)(),t=[L.SemiFungible,L.NonFungible,L.NonFungibleEdition,L.ProgrammableNonFungible];for(const n of t){const t=a[n].filter((({mintPubKey:t})=>!e.includes(t)));a[n]=t}}return a}))},onSuccess(i){(()=>{x(this,void 0,void 0,(function*(){const o=i.Fungible.reduce(((e,t)=>(t.coingeckoId&&e.push(t.coingeckoId),e)),["solana"]),r=yield(0,T.getStorageValue)(a.StorageKeys.PriceMap);(0,s.getPricesByCoingeckoId)(o).then((e=>x(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},r),e);n.setQueryData([z],t),(0,T.setStorageValue)(a.StorageKeys.PriceMap,t)})))).catch(console.error);(function(e,t){var n;return x(this,void 0,void 0,(function*(){const i=new Set,o=[[]],r=new Map;for(const e of[t.NonFungible,t.NonFungibleEdition,t.SemiFungible,t.ProgrammableNonFungible])for(const t of e){let{collectionPubKey:e}=t;if(e&&!i.has(e)){i.add(e);const t=new(0,c.PublicKey)(e),[n]=yield O(t),r=o[o.length-1];r&&r.length<100?r.push(n.toString()):o.push([n.toString()])}if(!e){if(t.creators){const n=t.creators.find((e=>e.verified));n&&(e=null==n?void 0:n.address.toString())}e||(e=t.mintPubKey)}const s=null!==(n=r.get(e))&&void 0!==n?n:[];s.push(t),r.set(e,s)}let s=new Map;try{s=yield D(e,o)}catch(e){console.error(e)}const a=[];for(const[e,t]of r){t.sort(((e,t)=>{var n,i;const o=null!==(n=e.name)&&void 0!==n?n:"",r=null!==(i=t.name)&&void 0!==i?i:"",s=o.localeCompare(r);if(o.localeCompare(r))return s;const c=e.pubkey,a=t.pubkey;return c.localeCompare(a)}));const[n]=t;if(n){const i=s.get(e);i?a.push({key:e,name:i.data.name,uri:n.uri||i.data.uri,items:t}):a.push({key:e,name:null,uri:n.uri,items:t})}}return a.sort(((e,t)=>{var n,i;if(e.items.length>t.items.length)return-1;if(t.items.length>e.items.length)return 1;const o=null!==(n=e.name)&&void 0!==n?n:e.key,r=null!==(i=t.name)&&void 0!==i?i:t.key;return o.localeCompare(r)})),a}))})((0,S.getRPCURLByCluster)(t),i).then((i=>{n.setQueryData([V,{pubkey:e,cluster:t}],i)})).catch(console.error)}))})()}})}const B=(e,t)=>x(void 0,void 0,void 0,(function*(){const n=new URLSearchParams;n.append("ownerPubKey",e),n.append("chainId",t.toString());const i=`${(0,h.getAPIEnvironment)()}/solana/spl_token_accounts?${n.toString()}`,o=yield fetch(i,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!o.ok){const e="Error fetching spl token accounts";throw console.error(e),new Error(e)}return yield o.json()}));const z="SPLTokenPrices";function K(){const e=(0,f.useQueryClient)(),[t,n]=(0,p.useState)((()=>{var t;return null!==(t=e.getQueryData([z]))&&void 0!==t?t:null}));return(0,p.useEffect)((()=>e.getQueryCache().subscribe((()=>{var t;const i=null!==(t=e.getQueryData([z]))&&void 0!==t?t:null;i&&n(i)}))),[e]),t}const V="SPLTokenCollections";const _="SPLTokenJSONMetadata";function $(e){const t=[_,e];return(0,d.useQuery)({queryKey:t,queryFn(){return x(this,void 0,void 0,(function*(){return yield function(e){return x(this,void 0,void 0,(function*(){if(!e)return null;const t=G(e);if(t)return t;const n=`https://metaplex-cache.phantom.app/?url=${encodeURIComponent(e)}`;for(const t of[n,e])try{const e=yield fetch(t,{headers:{"content-type":"application/json"}});if(e.ok){const t=yield e.json();if(t&&"object"==typeof t)return t}}catch(e){console.error(`Failed to fetch URL ${t}`)}return console.error("Failed to fetch collectible metadata from origin server"),null}))}(e)}))},staleTime:E.CacheTime.Short,cacheTime:E.CacheTime.Long})}const G=e=>{const t=new RegExp(/(data:)([\w/+-]*)(;charset=[\w-]+|;base64){0,1},(.*)/i);if(!t.test(e))return;const n=t.exec(e);if(!n)return;const i=n[2],o=n[3],r=n[4];return"application/json"===i&&";base64"!==o?JSON.parse(r):void 0};const q=new Set(["image","audio","video","model"]),H=new Set([v.FileExtension.JPEG,v.FileExtension.JPG,v.FileExtension.PNG,v.FileExtension.GIF,v.FileExtension.SVG]),W=new Set([v.FileExtension.MP3,v.FileExtension.WAV,v.FileExtension.OGA,v.FileExtension.FLAC]),Q=new Set([v.FileExtension.WEBM,v.FileExtension.MP4,v.FileExtension.M4V,v.FileExtension.OGV,v.FileExtension.OGG,v.FileExtension.MOV]),Y=new Set([v.FileExtension.GLTF,v.FileExtension.GLTFBINARY,v.FileExtension.GLB]),J=e=>H.has(e)?`image/${e}`:Q.has(e)?`video/${e}`:Y.has(e)?"model/gltf-binary":W.has(e)?`audio/${e}`:void 0,X=e=>{const t=(0,u.parseURL)(e);if(!t)return null;if("http:"!==t.protocol&&"https:"!==t.protocol)return null;const n=t.searchParams.get("ext");if(n){const t=J(n);if(t)return{type:t,uri:e}}const i=(0,u.getLast)(e.split("."));if(i){const t=J(i);if(t)return{type:t,uri:e}}return null},Z=e=>{const{image:t}=e;if(t){const e=X(t);return e||{type:"image/png",uri:t}}return null},ee=e=>{const{animation_url:t}=e;if(t){const n=X(t);if(n)return n;const i=(0,u.parseURL)(t);if(i&&("http:"===i.protocol||"https:"===i.protocol)){if("html"===i.searchParams.get("ext"))return null}const{properties:o}=e;if(null==o?void 0:o.category){const{category:e}=o;let n="";switch(e){case"image":n="image/png";break;case"video":n="video/mp4";break;case"audio":n="audio/mp3";break;case"model":case"vr":n="model/gltf-binary"}if(n)return{type:n,uri:t}}}return null},te=e=>{if(!(e=>q.has(e))(e))switch(e){case"image":return 0;case"audio":return 1;case"video":return 2;case"model":return 3}return 0},ne=e=>{var t,n,i;return null!==(i=null!==(n=null!==(t=(e=>{var t,n;let i=null!==(n=null===(t=e.properties)||void 0===t?void 0:t.files)&&void 0!==n?n:[];Array.isArray(i)||(i=[i]);let o=null;for(const e of i){let t=null;if("string"==typeof e)t=X(e);else if((null==e?void 0:e.type)&&(null==e?void 0:e.uri)){if(e.cdn)return e;t={type:e.type,uri:e.uri}}t&&o&&te(o.type)<te(t.type)&&(o=t)}})(e))&&void 0!==t?t:ee(e))&&void 0!==n?n:Z(e))&&void 0!==i?i:null},ie=e=>(0,p.useMemo)((()=>e?ne(e):null),[e]),oe=e=>(0,p.useMemo)((()=>e?(e=>{const{collection:t}=e;if(t){const{name:e,family:n}=t;if(e)return e;if(n)return n}const{external_url:n}=e;if(n){const e=(0,u.formatURL)({url:n,format:"domain"});if(e)return e}const{name:i}=e;if(i){const e=(0,b.parseName)(i);if(e)return e}const{symbol:o}=e;return o||null})(e):null),[e]),re=e=>(0,C.getDevicePixelRatio)()*e,se=(e,t=!1)=>`https://api.phantom.app/image-proxy/?image=${encodeURIComponent(e)}${t?"&anim=false":""}`,ce=(e,t,n,i=!1)=>{const o=re(n);return`${se(e)}&fit=scale-down&${t}=${o}${i?"&anim=false":""}`},ae=(e,t,n,i=!1)=>{const o=re(t),r=re(n);return`${se(e)}&fit=cover&width=${o}&height=${r}${i?"&anim=false":""}`},le=(e,t)=>{switch(e.type){case"solana":return"solana";case"spl-token":return`${e.data.pubkey}-${t}`}},ue=(e,t,n)=>{var i,o;const r=n[e],s=null!==(i=null==r?void 0:r.usd)&&void 0!==i?i:0,c=null!==(o=null==r?void 0:r.usd_24h_change)&&void 0!==o?o:0,a=s*t.toNumber();return{usd:a,usd24hChange:a-a/(1+c/100)}},de=(e,t,n)=>{let i=0;n&&(i=((e,t)=>{const n=e.data.usd,i=t.data.usd;return n&&i?n>i?-1:n<i?1:0:n&&!i?-1:i&&!n?1:0})(e,t));const o=((e,t)=>{const n=(0,w.amountToUiAmount)(e.data.amount,e.data.decimals),i=(0,w.amountToUiAmount)(t.data.amount,t.data.decimals);return n.isGreaterThan(i)?-1:n.isLessThan(i)?1:0})(e,t),r=((e,t)=>{var n,i,o,r,s,c;const a=null!==(i=null===(n=e.data.name)||void 0===n?void 0:n.toUpperCase())&&void 0!==i?i:null===(o=e.data.symbol)||void 0===o?void 0:o.toUpperCase(),l=null!==(s=null===(r=t.data.name)||void 0===r?void 0:r.toUpperCase())&&void 0!==s?s:null===(c=t.data.symbol)||void 0===c?void 0:c.toUpperCase();if(a&&l){if(a>l)return 1;if(a<l)return-1}return a&&!l?-1:l&&!a?1:0})(e,t);return i||o||r};function fe(e){return"solana"===e.type?m.SOLANA_ID:e.data.coingeckoId===m.USDT_COINGECKO_ID?g.USDT_MINT_ADDRESS:e.data.mintPubKey}const pe=({publicKey:e,standards:t,cluster:n,cachedLamportBalance:i,cachedSPLTokensByStandard:o,cachedPrices:r={},hiddenMints:s,sortByPrice:c=!1})=>{var a,l;const u=M(e,n),d=null!==(a=u.data)&&void 0!==a?a:i,f=!d&&!u.isFetched,h=U(e,n),m=null!==(l=h.data)&&void 0!==l?l:o,g=!m&&!h.isFetched,v=K(),y=null!=v?v:r,b=(0,p.useMemo)((()=>{if(!m||!d)return[];const e=[];if(!(null==s?void 0:s.has("solana"))){const t=Object.assign({amount:d},I),n=ue(t.coingeckoId,(0,w.amountToUiAmount)(t.amount,t.decimals),y),i={type:"solana",data:Object.assign(Object.assign({},t),n)};e.push(i)}for(const n of t){const t=m[n];for(const n of t){if(null==s?void 0:s.has(n.mintPubKey))continue;const t={type:"spl-token",data:Object.assign(Object.assign({},n),{usd:0,usd24hChange:0})};if(n.coingeckoId){const e=(0,w.amountToUiAmount)(n.amount,n.decimals),i=ue(n.coingeckoId,e,y);t.data.usd=i.usd,t.data.usd24hChange=i.usd24hChange}e.push(t)}}return e}),[m,d,t,s,y]),S=(0,p.useMemo)((()=>b.sort(((e,t)=>de(e,t,c?y:void 0)))),[b,c,y]),C=(0,p.useCallback)((()=>{x(void 0,void 0,void 0,(function*(){yield h.refetch(),yield u.refetch()}))}),[h,u]);return{data:S,dataUpdatedAt:h.dataUpdatedAt,isFetching:f||g,error:u.error||h.error,refetch:C}},he=["Fungible"],me=(e,t)=>{const n=pe({publicKey:e,standards:he,cluster:t,sortByPrice:!0}),{data:i}=n,o=U(e,t),{data:r}=o,s=null==r?void 0:r.infos,c=(0,p.useMemo)((()=>s),[s]),a=(0,p.useMemo)((()=>{const t=new Map;for(const e of i)switch(e.type){case"solana":break;case"spl-token":t.set(e.data.mintPubKey,e)}if(!c)return[];const n=Array.from(c.values()),o=[];for(const i of n){if(t.has(i.address)||0===i.decimals)continue;const n=ye({info:i,publicKey:e});o.push(n),t.set(i.address,n)}return o}),[c,i,e]),l=(0,p.useMemo)((()=>i.concat(a)),[i,a]),u=n.isFetching||!o.isFetched,d=n.error||o.error,f=n.refetch,h=o.refetch;return{data:l,isFetching:u,error:d,refetch:(0,p.useCallback)((()=>{f(),h()}),[f,h])}},ge=["Fungible"],ve=(e,t)=>{const n=pe({publicKey:e,standards:ge,cluster:t}),{data:i}=n,o=U(e,t),{data:r}=o,s=null==r?void 0:r.infos,c=(0,p.useMemo)((()=>s),[s]),a=(0,p.useMemo)((()=>{const t=new Map;if(!c)return t;for(const e of i){const n="solana"===e.type?"":e.data.mintPubKey;t.set(n,e)}const n=Array.from(c.values());for(const i of n){if(t.has(i.address))continue;const n=0===i.decimals?L.SemiFungible:L.Fungible,o=ye({info:i,publicKey:e,tokenStandard:n});t.set(i.address,o)}return t}),[c,i,e]),l=n.isFetching||!o.isFetched,u=n.error||o.error,d=n.refetch,f=o.refetch;return{data:a,isFetching:l,error:u,refetch:(0,p.useCallback)((()=>{d(),f()}),[d,f])}},ye=({info:e,publicKey:t,tokenStandard:n})=>{var i,o,r;const s={standard:null!=n?n:L.Fungible,pubkey:"",mintPubKey:e.address,ownerPubKey:t,decimals:e.decimals,amount:"0",delegate:null,delegatedAmount:"0",logoURI:null!==(i=e.logoURI)&&void 0!==i?i:null,name:e.name,symbol:e.symbol,coingeckoId:null!==(r=null===(o=e.extensions)||void 0===o?void 0:o.coingeckoId)&&void 0!==r?r:null,state:"uninitialized",collectionPubKey:"",uses:null,creators:[],uri:""};return{type:"spl-token",data:Object.assign(Object.assign({},s),{usd:0,usd24hChange:0})}}})),r.register("dY6gO",(function(t,n){e(t.exports,"PRICES_FETCH_TIMEOUT_MS",(function(){return o})),e(t.exports,"COLLECTIBLES_FETCH_TIMEOUT_MS",(function(){return s})),e(t.exports,"USDT_MINT_ADDRESS",(function(){return c}));var i=r("RVqnc");(0,i.toMilliseconds)({seconds:30});const o=(0,i.toMilliseconds)({seconds:10}),s=((0,i.toMilliseconds)({seconds:10}),(0,i.toMilliseconds)({seconds:5}),(0,i.toMilliseconds)({seconds:15})),c="Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"})),r.register("hRUHU",(function(t,n){var i,o,r,s,c,a,l,u;e(t.exports,"SecretType",(function(){return i})),e(t.exports,"FileExtension",(function(){return r})),e(t.exports,"CollectibleMediaType",(function(){return c})),e(t.exports,"StakeAccountType",(function(){return l})),(o=i||(i={})).PrivateKey="privateKey",o.Mnemonic="mnemonic",(s=r||(r={})).SVG="svg",s.PNG="png",s.GIF="gif",s.JPG="jpg",s.JPEG="jpeg",s.WEBM="webm",s.MP4="mp4",s.M4V="m4v",s.OGV="ogv",s.OGG="ogg",s.MOV="mov",s.MP3="mp3",s.WAV="wav",s.OGA="oga",s.FLAC="flac",s.GLTF="gltf",s.GLTFBINARY="gltf-binary",s.GLB="glb",(a=c||(c={})).Image="image",a.Video="video",a.Audio="audio",a.VR="vr",(u=l||(l={})).Initialized="initialized",u.Delegated="delegated"})),r.register("kAjeg",(function(t,n){e(t.exports,"groupCollectibles",(function(){return Q}),(function(e){return Q=e})),e(t.exports,"parseName",(function(){return J}),(function(e){return J=e})),e(t.exports,"getMetadata",(function(){return X}),(function(e){return X=e})),e(t.exports,"getCollectibleUriData",(function(){return Z}),(function(e){return Z=e})),e(t.exports,"parseCollectibles",(function(){return ee}),(function(e){return ee=e}));var i=r("iOvk1"),o=r("hMVEP"),s=r("RVqnc"),c=r("dY6gO"),a=r("fxm4i"),l=r("hRUHU"),u=r("24hfq");r("izATd");var d,f,p=r("cBVvR"),h=r("lvcyB"),m=r("8tcqI").Buffer,g=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};(f=d||(d={}))[f.Uninitialized=0]="Uninitialized",f[f.MetadataV1=4]="MetadataV1",f[f.EditionV1=1]="EditionV1",f[f.MasterEditionV1=2]="MasterEditionV1",f[f.MasterEditionV2=6]="MasterEditionV2",f[f.EditionMarker=7]="EditionMarker";class v{constructor(e){this.address=e.address,this.verified=e.verified,this.share=e.share}}class y{constructor(e){this.name=e.name,this.symbol=e.symbol,this.uri=e.uri,this.sellerFeeBasisPoints=e.sellerFeeBasisPoints,this.creators=e.creators}}class b{constructor(e){var t;this.key=d.MetadataV1,this.updateAuthority=e.updateAuthority,this.mint=e.mint,this.data=e.data,this.primarySaleHappened=e.primarySaleHappened,this.isMutable=e.isMutable,this.editionNonce=null!==(t=e.editionNonce)&&void 0!==t?t:null}}const S=new Map([[y,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[v]}]]}],[v,{kind:"struct",fields:[["address","pubkey"],["verified","u8"],["share","u8"]]}],[b,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkey"],["mint","pubkey"],["data",y],["primarySaleHappened","u8"],["isMutable","u8"],["editionNonce",{kind:"option",type:"u8"}]]}]]),C=new RegExp("\0","g"),w=e=>{const t=(0,p.deserializeUnchecked)(S,b,e);return t.data.name=t.data.name.replace(C,""),t.data.uri=t.data.uri.replace(C,""),t.data.symbol=t.data.symbol.replace(C,""),t},T=[l.FileExtension.JPEG,l.FileExtension.JPG,l.FileExtension.PNG,l.FileExtension.GIF],E=new Set(T),x=[l.FileExtension.WEBM,l.FileExtension.MP4,l.FileExtension.M4V,l.FileExtension.OGV,l.FileExtension.OGG,l.FileExtension.MOV],k=new Set(x),A=[l.FileExtension.MP3,l.FileExtension.WAV,l.FileExtension.OGA,l.FileExtension.FLAC],P=new Set(A),I=[l.FileExtension.GLTF,l.FileExtension.GLTFBINARY,l.FileExtension.GLB],M=new Set(I),O=[...T,...x,...I,...A],D=new Set(O),F=e=>D.has(e),L=e=>E.has(e)?`image/${e}`:k.has(e)?`video/${e}`:M.has(e)?`model/${e}`:P.has(e)?`audio/${e}`:void 0,N=e=>{if(!e||"object"!=typeof e)return!1;const t="string"==typeof e.trait_type,n="string"==typeof e.value||"number"==typeof e.value;return t&&n},R=e=>N(e)?[e]:Array.isArray(e)?e.filter(N):[],j=e=>(e=>{if(!e||"object"!=typeof e)return!1;if(!e.category||"string"!=typeof e.category)return!1;if(!/^(image|video|audio|vr|html)$/.test(e.category))return!1;if(!Array.isArray(e.files))return!1;for(const t of e.files)if(!U(t))return!1;return!0})(e)?e:(e=>{if(!e||"object"!=typeof e)return!1;if(!e.category||"string"!=typeof e.category)return!1;if(!/^(image|video|audio|vr|html)$/.test(e.category))return!1;if(!Array.isArray(e.files))return!1;for(const t of e.files)if("string"!=typeof t)return!1;return!0})(e)?{category:e.category,files:e.files.map((e=>B(e))).filter((e=>!!e))}:void 0,U=e=>{if(!e||"object"!=typeof e)return!1;if(!e.type||"string"!=typeof e.type)return!1;if(!e.uri||"string"!=typeof e.uri)return!1;const t=typeof e.cdn;return"undefined"===t||"boolean"===t},B=e=>{const t=(0,s.parseURL)(e);if(!t)return;if("http:"!==t.protocol&&"https:"!==t.protocol)return;const n=t.searchParams.get("ext");if(n&&F(n)){const t=L(n);if(t)return{type:t,uri:e}}const i=(0,s.getLast)(e.split("."));if(i&&F(i)){const t=L(i);if(t)return{type:t,uri:e}}},z=e=>{const t=(e=>{const[t,n]=e.split("/");if(t&&n)return t.startsWith("image")&&E.has(n)?l.CollectibleMediaType.Image:t.startsWith("video")&&k.has(n)?l.CollectibleMediaType.Video:t.startsWith("model")&&M.has(n)?l.CollectibleMediaType.VR:t.startsWith("audio")&&P.has(n)?l.CollectibleMediaType.Audio:void 0})(e.type);if(t){return{type:t,fileUri:e.uri}}},K=e=>{if(!("object"==typeof e&&null!==e))return!1;return Object.values(e).every((e=>"string"==typeof e||void 0===e))},V=(e,t,n)=>{var o,r,s,c,a,l,d,f;const{mint:p,updateAuthority:h}=t,m=p.toString(),{creators:g=[],symbol:v,uri:y}=t.data,b=t.data.name,S=null!=n?n:{mint:m,name:b},C=S.name||b,w=G(S),T=null!==(s=null===(r=null===(o=null==g?void 0:g.find((e=>1===e.verified)))||void 0===o?void 0:o.address)||void 0===r?void 0:r.toString())&&void 0!==s?s:"",{collection:E,external_url:x,description:k,image:A,attributes:P}=S;return{type:"collectible",chain:i.Chain.Solana,address:m,account:e.pubkey,collectionFamily:null!==(c=null==E?void 0:E.family)&&void 0!==c?c:"",collectionName:null!==(a=null==E?void 0:E.name)&&void 0!==a?a:"",collectionKey:T,name:C,symbol:v,uri:y,externalUrl:x,description:k,image:A,media:w,decimals:null!==(l=e.tokenAmount.decimals)&&void 0!==l?l:0,balance:null!==(d=e.tokenAmount.uiAmount)&&void 0!==d?d:1,delegate:e.delegate,attributes:P,baseBalance:new(0,u.BigNumber)(null!==(f=e.tokenAmount.amount)&&void 0!==f?f:1),updateAuthority:h,metaName:b}},_=(e,t)=>{const{mintAddress:n}=e,{name:o,symbol:r,websiteUrl:s,iconUrl:c,imageUrl:a,description:l,animationUrl:d}=t,f=(e=>{const t=B(e);if(t)return z(t)})(null!=d?d:"");return{type:"collectible",chain:i.Chain.Solana,address:n,account:e.pubkey,collectionFamily:"",collectionName:"",collectionKey:"",name:o,symbol:r,uri:"",externalUrl:s,description:l,image:null!=a?a:c,media:f,decimals:e.tokenAmount.decimals,balance:e.tokenAmount.uiAmount,delegate:e.delegate,baseBalance:new(0,u.BigNumber)(e.tokenAmount.amount),updateAuthority:null,metaName:null}},$=(e,t)=>g(void 0,void 0,void 0,(function*(){const n=yield fetch(e);if(!n.ok)throw new Error(`Failed to fetch data from ${e}`);return((e,t)=>{const n=t&&"object"==typeof t?t:{},{collection:i,description:o,external_url:r,name:s,image:c,animation_url:a,attributes:l}=n,u=j(n.properties);return{name:"string"==typeof s?s:"",mint:e,image:"string"==typeof c||null===c?c:void 0,collection:K(i)?i:void 0,description:"string"==typeof o?o:void 0,external_url:"string"==typeof r?r:void 0,animation_url:"string"==typeof a?a:void 0,properties:j(u),attributes:R(l)}})(t,yield n.json())})),G=e=>{var t,n,i;const o=e.animation_url;if(o){const n=B(o);if(n){const e=z(n);if(e)return e}if(!n&&(null===(t=e.properties)||void 0===t?void 0:t.category)){if(/^(image|video|audio|vr)$/.test(e.properties.category))return{type:e.properties.category,fileUri:o}}}const r=null!==(i=null===(n=e.properties)||void 0===n?void 0:n.files)&&void 0!==i?i:[];let s;for(const e of r){const t=z(e);if(t){if(e.cdn)return t;(!s||s&&q(s.type)<q(t.type))&&(s=t)}}return s},q=e=>{switch(e){case l.CollectibleMediaType.VR:return 3;case l.CollectibleMediaType.Video:return 2;case l.CollectibleMediaType.Audio:return 1;case l.CollectibleMediaType.Image:return 0}},H=e=>g(void 0,void 0,void 0,(function*(){const t=[m.from("metadata"),a.METADATA_PROGRAM_ID.toBuffer(),e.toBuffer()];return(yield o.PublicKey.findProgramAddress(t,a.METADATA_PROGRAM_ID))[0]})),W=e=>g(void 0,void 0,void 0,(function*(){const t=[];let n=0;for(const i of Object.values(e)){const{data:e}=i;t.push(w(e)),n++,n%15==0&&(yield Promise.resolve())}return t})),Q=e=>{var t;const n=new Map;for(const i of e){const e=i.collectionKey||i.address,o=null!==(t=n.get(e))&&void 0!==t?t:{collectibles:[],key:e,name:Y(i)};o.collectibles=[...o.collectibles,i],o.collectibles.sort(((e,t)=>e.name.localeCompare(t.name))),n.set(e,o)}const i=[...n.values()];return i.sort(((e,t)=>{const n=t.collectibles.length-e.collectibles.length;return n||e.name.localeCompare(t.name)})),i},Y=e=>{const{collectionFamily:t,collectionName:n,collectionKey:i,externalUrl:o,metaName:r,name:c,symbol:a}=e;if(n)return n;if(t)return t;if(o){const e=(0,s.formatURL)({url:o,format:"domain"});if(e)return e}if(r||c){const e=J(r)||J(c);if(e)return e}return a||i},J=e=>e?e.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim():null,X=(e,t)=>g(void 0,void 0,void 0,(function*(){return((e,t)=>g(void 0,void 0,void 0,(function*(){const n=e.map((e=>new(0,o.PublicKey)(e))),i=yield Promise.all((0,s.chunks)(n,15).map((e=>e.map(H))).flat()),r=yield(0,h.getMultipleAccountsAsync)(t,i,"confirmed");return W(r)})))(t.filter((e=>e.tokenAmount.uiAmount>0)).map((e=>e.mintAddress)),e)})),Z=e=>g(void 0,void 0,void 0,(function*(){const t=e.filter((e=>e.data.uri));if(t.length>0){const e=yield Promise.all((0,s.chunks)(t,5).map((e=>e.map((e=>g(void 0,void 0,void 0,(function*(){const{mint:t,data:{name:n,uri:i}}=e,o=t.toString();try{return yield(0,s.withTimeout)($(i,o),c.COLLECTIBLES_FETCH_TIMEOUT_MS)}catch(e){return{mint:o,name:n}}})))))).flat());return(0,s.objectArrayToMap)(e,"mint")}return{}})),ee=(e,t,n,i)=>{const o=null!=t?t:{},r=i.reduce(((e,t)=>t.data.uri?(e.set(t.mint.toString(),t),e):e),new Map),s=[];for(const t of n){if(0===t.tokenAmount.uiAmount)continue;const n=t.mintAddress.toString(),i=r.get(n),c=o[n];if(i&&c){const e=V(t,i,c);s.push(e);continue}if(t.tokenAmount.uiAmount<=0)continue;const a=e[n];if(!a||!a.isCollectible)continue;const l=_(t,a);s.push(l)}return s}})),r.register("izATd",(function(t,n){e(t.exports,"deserializeBorsh",(function(){return r("cBVvR").deserializeUnchecked}));var i=r("hMVEP");r("cBVvR").BinaryReader.prototype.readPubkey=function(){const e=this.readFixedArray(32);return new(0,i.PublicKey)(e)}})),r.register("jF6Pg",(function(t,n){e(t.exports,"getDevicePixelRatio",(function(){return i}));const i=()=>(null===window||void 0===window?void 0:window.devicePixelRatio)||1})),r.register("lAsdm",(function(t,n){e(t.exports,"CacheTime",(function(){return i}));var i,o,s=r("RVqnc");(o=i||(i={}))[o.Always=1/0]="Always",o[o.Short=(0,s.toMilliseconds)({days:1})]="Short",o[o.Medium=(0,s.toMilliseconds)({days:3})]="Medium",o[o.Long=(0,s.toMilliseconds)({days:7})]="Long"})),r.register("2p77n",(function(t,n){e(t.exports,"selectBestSPLCollectionName",(function(){return o}));var i=r("RVqnc");const o=e=>{const{collection:t}=e;if(t){const{name:e,family:n}=t;if(e)return e;if(n)return n}const{external_url:n}=e;if(n){const e=(0,i.formatURL)({url:n,format:"domain"});if(e)return e}const{name:o}=e;if(o){const e=(e=>e?e.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim():null)(o);if(e)return e}const{symbol:r}=e;return r||null}})),r.register("dKyO0",(function(t,n){e(t.exports,"isSupportedMediaType",(function(){return f})),e(t.exports,"selectBestSPLMedia",(function(){return g}));var i,o,s=r("RVqnc");(o=i||(i={})).SVG="svg",o.PNG="png",o.GIF="gif",o.JPG="jpg",o.JPEG="jpeg",o.WEBM="webm",o.MP4="mp4",o.M4V="m4v",o.OGV="ogv",o.OGG="ogg",o.MOV="mov",o.MP3="mp3",o.WAV="wav",o.OGA="oga",o.FLAC="flac",o.GLTF="gltf",o.GLTFBINARY="gltf-binary",o.GLB="glb";const c=new Set(["image","audio","video","model"]),a=new Set([i.JPEG,i.JPG,i.PNG,i.GIF,i.SVG]),l=new Set([i.MP3,i.WAV,i.OGA,i.FLAC]),u=new Set([i.WEBM,i.MP4,i.M4V,i.OGV,i.OGG,i.MOV]),d=new Set([i.GLTF,i.GLTFBINARY,i.GLB]),f=e=>c.has(e),p=e=>a.has(e)?`image/${e}`:u.has(e)?`video/${e}`:d.has(e)?"model/gltf-binary":l.has(e)?`audio/${e}`:void 0,h=e=>{const t=(0,s.parseURL)(e);if(!t)return null;if("http:"!==t.protocol&&"https:"!==t.protocol)return null;const n=t.searchParams.get("ext");if(n){const t=p(n);if(t)return{type:t,uri:e}}const i=(0,s.getLast)(e.split("."));if(i){const t=p(i);if(t)return{type:t,uri:e}}return null},m=e=>{if(f(e))switch(e){case"image":return 0;case"audio":return 1;case"video":return 2;case"model":return 3}return 0},g=e=>{var t,n,i;return null!==(i=null!==(n=null!==(t=(e=>{const{animation_url:t}=e;if(t){const n=h(t);if(n)return n;const i=(0,s.parseURL)(t);if(i&&("http:"===i.protocol||"https:"===i.protocol)&&"html"===i.searchParams.get("ext"))return null;const{properties:o}=e;if(null==o?void 0:o.category){const{category:e}=o;let n="";switch(e){case"image":n="image/png";break;case"video":n="video/mp4";break;case"audio":n="audio/mp3";break;case"model":case"vr":n="model/gltf-binary"}if(n)return{type:n,uri:t}}}return null})(e))&&void 0!==t?t:(e=>{var t,n;let i=null!==(n=null===(t=e.properties)||void 0===t?void 0:t.files)&&void 0!==n?n:[];Array.isArray(i)||(i=[i]);let o=null;for(const e of i){let t=null;if("string"==typeof e)t=h(e);else if((null==e?void 0:e.type)&&(null==e?void 0:e.uri)){if(e.cdn)return e;const n=(0,s.parseURL)(e.uri);n&&(t={type:e.type.split("/")[0].replace("glb","model"),uri:n.toString()})}t&&(o?m(o.type)<m(t.type)&&(o=t):o=t)}return o})(e))&&void 0!==n?n:(e=>{const{image:t}=e;if(t){return h(t)||{type:"image/png",uri:t}}return null})(e))&&void 0!==i?i:null}})),r.register("cySm1",(function(n,i){e(n.exports,"useCollectibleSummaryItems",(function(){return d}));var o=r("iOvk1"),s=r("43063"),c=r("gXOkW"),a=r("29o0l"),l=r("5YWWl"),u=r("fRcP8");r("l8aZk");const d=(e,n,i)=>{const{t:r}=(0,s.useTranslation)();return(0,a.useMemo)((()=>{const s=[];if(!n)return s;const a=null==n?void 0:n.chain.id,d=e.get(a).collectibleDetailPrecision;let f,p,h,m;if(n.collection.name&&s.push({label:r("collectibleScreenCollectionLabel"),value:n.collection.name}),n.collection.floorPrice){const{price:e,token:t}=n.collection.floorPrice;if(t&&t.decimals&&t.symbol){const{decimals:n,symbol:i}=t,o=(0,l.amountToBalance)(e,n);s.push({label:r("collectiblesFloorPrice"),value:`${(0,u.formatValue)(o,d)} ${i}`}),f=o,p=i}}if(n.lastSalePrice){const{price:e,token:t}=n.lastSalePrice;if(t&&t.decimals&&(t.symbol||t.name)){const{decimals:n,symbol:i,name:o}=t,c=(0,l.amountToBalance)(e,n);s.push({label:r("collectiblesLastSalePrice"),value:`${(0,u.formatValue)(c,d)} ${null!=i?i:o}`}),h=c,m=i}}if(f&&h&&p===m){const e=f-h;s.push({label:r("collectiblesTotalReturn"),value:`${(0,u.formatValue)(e,d)} ${m}`,color:e>0?null==i?void 0:i.positiveColor:0===e||null==i?void 0:i.negativeColor})}return n.collection.ownerCount&&s.push({label:r("collectiblesUniqueHolders"),value:t(c)(n.collection.ownerCount).format("0,0")}),n.chain.name&&s.push({label:r("sendFungibleSummaryNetwork"),value:o.Chains.getNetworkName(n.chain.id)}),s}),[n,e,null==i?void 0:i.negativeColor,null==i?void 0:i.positiveColor,r])}})),r.register("5YWWl",(function(t,n){e(t.exports,"amountToBalance",(function(){return o}));var i=r("kAKNF");function o(e,t){return new(0,i.BigNumber)(e).div(new(0,i.BigNumber)(10).pow(t)).toNumber()}i.BigNumber.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78})})),r.register("fRcP8",(function(t,n){e(t.exports,"formatValue",(function(){return o}));var i=r("kAKNF");const o=(e,t)=>{const n=new(0,i.BigNumber)(e);if(n.isZero())return"0";const o=new(0,i.BigNumber)(10).pow(-t);return n.abs().lt(o)?n.isPositive()?`<${o.toFixed()}`:`-<${o.toFixed()}`:parseFloat(n.toString()).toLocaleString(void 0,{maximumFractionDigits:t})}})),r.register("3P9Mr",(function(t,n){e(t.exports,"useCollection",(function(){return s}));var i=r("29o0l"),o=r("dAQq7");const s=({id:e,addresses:t,getApiEnvironment:n,queryClient:r})=>{const{data:s}=(0,o.useCollections)({addresses:t,getApiEnvironment:n,queryClient:r});return(0,i.useMemo)((()=>(null!=s?s:[]).find((t=>t.id===e))),[e,s])}})),r.register("coBd9",(function(t,n){e(t.exports,"useCollectionPageViewState",(function(){return u}));var i=r("43063"),o=r("29o0l"),s=r("lfNY1"),c=r("3P9Mr"),a=r("ToLjI"),l=r("1FP4S");const u=({id:e,onHoldingsCollectiblePress:t,onSeeAllHoldingsPress:n,accountHooks:r,getApiEnvironment:u,queryClient:d,collectiblesSdk:f})=>{var p,h;const{data:m}=r.useSelectedMultiChainAccount(),g=null!==(p=null==m?void 0:m.addresses)&&void 0!==p?p:[],v=(0,c.useCollection)({id:e,addresses:g,getApiEnvironment:u,queryClient:d}),y=(0,a.useCollectionCollectible)(v),b=i.i18next.t("collectiblesUnknownCollection"),S=null!==(h=null==v?void 0:v.name)&&void 0!==h?h:b,C=null==v?void 0:v.imageUrl,w=null==y?void 0:y.chain.id,T=w?f.get(w).collectibleDetailPrecision:5;return{name:S,logoUri:C,floorPrice:(0,o.useMemo)((()=>{if(null==v?void 0:v.floorPrice)return(0,s.getFormattedPrice)({price:v.floorPrice,precision:T})}),[null==v?void 0:v.floorPrice,T]),holdingsProps:(0,l.useCollectionHoldings)({collection:v,precision:T,onHoldingsCollectiblePress:t,onSeeAllHoldingsPress:n})}}})),r.register("lfNY1",(function(t,n){e(t.exports,"getFormattedPrice",(function(){return s}));var i=r("5YWWl"),o=r("fRcP8");const s=({price:e,precision:t})=>{if(!e)return;const{price:n,token:r}=e;if(!r||!r.decimals||!r.symbol)return;const{decimals:s,symbol:c}=r,a=(0,i.amountToBalance)(n,s);return`${(0,o.formatValue)(a,t)} ${c}`}})),r.register("ToLjI",(function(t,n){e(t.exports,"useCollectionCollectible",(function(){return o}));var i=r("29o0l");const o=e=>(0,i.useMemo)((()=>{var t;if(e)return null!==(t=(e=>{const{items:t}=e;if(0!==t.length)return t.find((({media:e})=>"image"===(null==e?void 0:e.type)))})(e))&&void 0!==t?t:e.items[0]}),[e])})),r.register("1FP4S",(function(t,n){e(t.exports,"useCollectionHoldings",(function(){return a}));var i=r("43063"),o=r("29o0l"),s=r("lfNY1"),c=r("1kJQ3");const a=({collection:e,precision:t,onHoldingsCollectiblePress:n,onSeeAllHoldingsPress:r})=>{var a;const l=i.i18next.t("collectiblesPrimaryText"),u=!1,d=(0,o.useMemo)((()=>(null==e?void 0:e.items)?e.items.slice(0,4).map((e=>{var o;return{id:e.id,imageUri:e.media?(0,c.parseCollectibleMediaURI)({collectibleMedia:e.media,isImageAnimationEnabled:!1,previewSize:"medium",mediaTypeOverride:"image"}):void 0,title:null!==(o=e.name)&&void 0!==o?o:"",subtitle:e.lastSalePrice?`${i.i18next.t("collectiblesLast")} ${(0,s.getFormattedPrice)({price:e.lastSalePrice,precision:t})}`:void 0,onPress:n}})):[]),[t,null==e?void 0:e.items,n]),f=d.length>0,p=(null!==(a=null==e?void 0:e.items)&&void 0!==a?a:[]).length>4,h=i.i18next.t("collectiblesSeeAllHoldings");return(0,o.useMemo)((()=>({showHoldings:f,showSeeAllHoldings:p,holdings:d,holdingsTitle:l,isLoadingHoldings:u,seeAllHoldingsText:h,onSeeAllHoldingsPress:r})),[f,p,d,l,u,h,r])}})),r.register("1kJQ3",(function(t,n){e(t.exports,"useCollectibleMediaURI",(function(){return o})),e(t.exports,"parseCollectibleMediaURI",(function(){return s}));var i=r("29o0l");const o=(e,t,n=!1,o)=>(0,i.useMemo)((()=>{if(e)return s({collectibleMedia:e,isImageAnimationEnabled:n,previewSize:null!=o?o:"medium",mediaTypeOverride:t})}),[e,t,n,o]),s=({collectibleMedia:e,isImageAnimationEnabled:t,previewSize:n,mediaTypeOverride:i})=>{var o,r;const s=null!=i?i:e.type;if("image"===s&&(null===(o=e.previews)||void 0===o?void 0:o[n])){const i=t?"":`${"medium"===n?"=":"-"}k`;return`${e.previews[n]}${i}`}return null===(r=e[s])||void 0===r?void 0:r.url}})),r.register("h2jNW",(function(t,n){e(t.exports,"useHideCollectionProps",(function(){return b}));var i=r("iOvk1"),o=r("43063"),s=r("29o0l"),c=r("1El9w"),a=r("aTZIn"),l=r("iNEbF"),u=r("82MEA"),d=r("5cOz4"),f=r("hawzv"),p=r("9EdxR"),h=r("j8YST"),m=r("kVQvU"),g=r("21c1X"),v=r("gfoNl"),y=r("3YGzV");const b=({storage:e,analytics:t,getApiEnvironment:n,toast:r,collectible:b,accountId:S})=>{var C,w,T;const{t:E}=(0,o.useTranslation)(),x=null===(C=null==b?void 0:b.collection)||void 0===C?void 0:C.id,k=null===(w=null==b?void 0:b.collection)||void 0===w?void 0:w.isSpam,{mutateAsync:A}=(0,a.useHideCollection)(e),{mutateAsync:P}=(0,p.useUnhideCollection)(e),{data:I=[]}=(0,c.useHiddenCollections)(S||"",e),{data:M=[]}=(0,f.useUnhiddenCollections)(S||"",e),O=(0,v.useIsCollectionHidden)(I,M,null!=x?x:"",!!k),{mutateAsync:D}=(0,l.usePinCollection)(e),{data:F=[]}=(0,u.usePinnedCollections)(S||"",e),L=(0,y.useIsCollectionPinned)(F,null!=x?x:""),{mutateAsync:N}=(0,d.useReportCollectibleEvent)(n),R=(0,m.useCollectibleEvent)(h.ReportCollectibleEventType.userHid,b),j=(0,m.useCollectibleEvent)(h.ReportCollectibleEventType.userUnhid,b),U=(0,s.useMemo)((()=>({hideSuccess:E("collectionHideSuccess"),hideFail:E("collectionHideFail"),unhideSuccess:E("collectionUnhideSuccess"),unhideFail:E("collectionUnhideFail")})),[E]),B=(0,s.useCallback)((e=>{var n;const o=null===(n=null==b?void 0:b.chain)||void 0===n?void 0:n.id;o&&t.capture(e,{data:{networkId:o,chainId:i.Chains.getChainID(o)}})}),[t,null===(T=null==b?void 0:b.chain)||void 0===T?void 0:T.id]),z=(0,g.useHideCollectionToggle)({accountId:S,collectionId:x,isHidden:O,hideMessages:U,hideCollection:A,unhideCollection:P,reportCollectibleEvent:N,hideEvent:R,unhideEvent:j,toast:r,sendAnalyticEvent:B,pinCollection:D,isPinned:L});return(0,s.useMemo)((()=>({isHidden:O,onToggleHide:z})),[O,z])}})),r.register("kVQvU",(function(t,n){e(t.exports,"useCollectibleEvent",(function(){return s}));var i=r("29o0l"),o=r("l8aZk");const s=(e,t)=>(0,i.useMemo)((()=>{var n;if(!(null===(n=null==t?void 0:t.chain)||void 0===n?void 0:n.id))return;let i,r;return(0,o.isSolanaCollectibleChainData)(t.chainData)?i=t.chainData.mint:(0,o.isEthereumCollectibleChainData)(t.chainData)&&(i=t.chainData.contract),i?((0,o.isEthereumCollectibleChainData)(t.chainData)&&(r=t.chainData.id),Object.assign({chainId:t.chain.id,event:e,address:i},r?{tokenId:r}:{})):void 0}),[e,t])})),r.register("21c1X",(function(t,n){e(t.exports,"useHideCollectionToggle",(function(){return s}),(function(e){return s=e}));var i=r("29o0l"),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const s=({accountId:e,collectionId:t,isHidden:n,hideMessages:r,hideCollection:s,unhideCollection:c,reportCollectibleEvent:a,hideEvent:l,unhideEvent:u,toast:d,sendAnalyticEvent:f,pinCollection:p,isPinned:h})=>(0,i.useCallback)((()=>{o(void 0,void 0,void 0,(function*(){if(l&&u&&t&&e)try{n?(yield c({collectionId:t,accountId:e}),yield a({event:u})):(yield s({collectionId:t,accountId:e}),yield a({event:l}),h&&(yield p({collectionId:t,accountId:e,pinned:!1}))),d.success(n?r.unhideSuccess:r.hideSuccess,{position:"top-center"}),f&&f(n?"collectionUnhidden":"collectionHidden")}catch(e){d.error(n?r.unhideFail:r.hideFail,{position:"top-center"})}else d.error(n?r.unhideFail:r.hideFail,{position:"top-center"})}))}),[t,e,n,r,s,c,a,l,u,d,f,p,h])})),r.register("gfoNl",(function(t,n){e(t.exports,"useIsCollectionHidden",(function(){return o}));var i=r("29o0l");const o=(e,t,n,o)=>(0,i.useMemo)((()=>!t.includes(n)&&(!!e.includes(n)||!!o)),[e,t,n,o])})),r.register("3YGzV",(function(t,n){e(t.exports,"useIsCollectionPinned",(function(){return o}));var i=r("29o0l");const o=(e,t)=>(0,i.useMemo)((()=>!!t&&e.includes(t)),[t,e])})),r.register("5rkl9",(function(n,i){e(n.exports,"useInstantSell",(function(){return m})),e(n.exports,"Marketplace",(function(){return b})),e(n.exports,"formatEstimatedFees",(function(){return C}));var o=r("43063"),s=r("gXOkW"),c=r("29o0l"),a=r("Nt4tV"),l=r("7qAtp"),u=r("ctsJe"),d=r("5YWWl"),f=r("lw87t"),p=r("l8aZk");const h={steps:[],orderId:""},m=({getApiEnvironment:e,collectible:t})=>{const{t:n}=(0,o.useTranslation)(),i=(0,c.useMemo)((()=>(0,l.createBidAsset)(t)),[t]),r=(0,c.useMemo)((()=>v(t)),[t]),{data:s=[],isLoading:a,isError:d}=(0,l.useCollectibleBids)({bidAsset:i,getApiEnvironment:e,isEnabled:!r}),f=(0,c.useMemo)((()=>s.length>0?s[0]:void 0),[s]),p=(0,c.useMemo)((()=>(0,u.createSellAsset)(i,f,t)),[i,f,t]),{data:m=h,isLoading:g,isError:y,refetch:b,error:C}=(0,u.useCollectibleSellSteps)({sellAsset:p,getApiEnvironment:e}),w=(0,c.useMemo)((()=>f&&t?S({t:n,bid:f,collectible:t}):void 0),[n,f,t]),T=(0,c.useMemo)((()=>!!y&&Number.isInteger(C.code)),[y,C]);return{bid:f,bidSummary:w,isLoadingBids:a,isErrorBids:d,sellSteps:m,isLoadingSellSteps:g,isErrorSellSteps:y,refetchSellSteps:b,sellStepsError:C,isSellErrorCode:T,isListedOnSolana:r}},g=({lastSale:e,receiveAmount:t})=>void 0!==e?t-e:t,v=e=>{if(!e)return!1;const{listings:t,chainData:n}=e,i=t?Object.keys(t):[],o=Boolean(i.length>0),r=!!n&&(0,p.isSolanaCollectibleChainData)(n);return o&&r},y=e=>{if(!e||!e.previews)return;const{previews:t}=e;return t.small?t.small:t.medium?t.medium:t.large?t.large:void 0};var b;(b||(b={})).BLUR="Blur";const S=({bid:e,collectible:n,t:i})=>{var o;const{lastSalePrice:r,media:c,name:l,collection:u}=n,{name:f,logo:p}=e.source,{amount:h,netAmount:m,feeBreakdown:v,token:S,totalFeeBps:C}=e.price,{symbol:w,caip19:T}=S,E=m,x=u.id,k=n.id,A=(e=>{if(e){const{price:t,token:n}=e,i=null==n?void 0:n.decimals;if(i)return(0,d.amountToBalance)(t,i)}})(r),P=w.slice(0,6),I=n.chain.symbol,M=(e=>{if(e){const{price:t,token:n}=e,i=null==n?void 0:n.decimals;if(i)return(0,d.amountToBalance)(t,i)}})(u.floorPrice),O=M?(({offerAmount:e,collectionFloor:t})=>e-t)({offerAmount:h,collectionFloor:M}):void 0,D=O?(e=>{const n=Math.abs(e)<.001?"0.0000%":"0.00%";return`${e>0?"+":""}${t(s)(e).format(n)}`})(O):void 0;return{bidTokenSymbol:P,caip19:T,collectionId:x,collectibleId:k,orderId:e.id,collectibleChainId:n.chain.id,collectibleChainSymbol:I,collectionFloor:M,collectibleImage:y(c),collectibleName:null!=l?l:i("collectiblesUnknownCollectible"),collectionName:null!==(o=u.name)&&void 0!==o?o:i("collectiblesUnknownCollection"),currencySymbol:e.source.name===b.BLUR?I:P,fees:v,floorDifference:O,floorDifferencePercent:D,lastSale:A,marketplace:f,marketplaceLogoURL:p,offerAmount:h,offerAmountFormatted:(0,a.formatTokenAmount)(h),phantomFeePercentage:0,pnl:g({lastSale:A,receiveAmount:E}),receiveAmount:E,receiveAmountFormatted:(0,a.formatTokenAmount)(E),totalFeeBps:C}},C=({gasFee:e,totalFeeBps:t,offerAmount:n})=>{const i=(0,f.bpsToValue)(t,n)+e;return{raw:i,formatted:(0,a.formatTokenAmount)(i)}}})),r.register("lw87t",(function(t,n){e(t.exports,"bpsToPercent",(function(){return i})),e(t.exports,"bpsToValue",(function(){return o}));const i=e=>e/100+"%",o=(e,t)=>e*t/100/100})),r.register("lkQLo",(function(n,i){e(n.exports,"useInstantSellEvmGasEstimation",(function(){return u}));var o=r("7gANb"),s=r("kAKNF"),c=r("ctsJe"),a=r("5rkl9");const l=new Map([[c.StepActionEnum.enum["nft-approval"],8e4],[c.StepActionEnum.enum["blur-swap"],42e3],[c.StepActionEnum.enum.sale,39e4],["default",42e4]]),u=({sellSteps:e,marketplace:n,transactionHooks:i,nativeTokenBalance:r,collectibleChainId:u})=>{var d;const f=n===a.Marketplace.BLUR;let p=e.filter((e=>"transaction"===e.type)).map((({action:e})=>({action:e})));if(p.some((({action:e})=>e===c.StepActionEnum.enum["nft-approval"]))||(p=[...p,{action:c.StepActionEnum.enum["nft-approval"]}]),f){const e=p.some((({action:e})=>e===c.StepActionEnum.enum.sale)),t=p.some((({action:e})=>e===c.StepActionEnum.enum["blur-swap"]));e||(p=[...p,{action:c.StepActionEnum.enum.sale}]),t||(p=[...p,{action:c.StepActionEnum.enum["blur-swap"]}])}const h=null==p?void 0:p.reduce(((e,{action:t})=>{var n;const i=null!==(n=l.get(t))&&void 0!==n?n:l.get("default");return e+(null!=i?i:0)}),0),m=new(t(s))(h),{status:g,data:v}=i.useEthereumGasEstimation({gasLimit:m,networkID:u,transactionSpeed:o.TransactionSpeed.standard}),{data:y}=i.useGasEstimationPrice(u,v),b=(0,o.getNetworkFeeUiAmount)(v),S=Number(null!==(d=null==b?void 0:b.replace(/[^\d.]/g,""))&&void 0!==d?d:0);return{gasEvm:S,gasEstimation:v,gasEstimationStatus:g,ethFeeUI:b,gasEstimationPrice:y,hasEnoughGas:!!r&&r.isGreaterThan(S)}}})),r.register("jKoFs",(function(t,n){e(t.exports,"useInstantSellExecuteEvmSteps",(function(){return x}),(function(e){return x=e}));var i=r("4xbAj"),o=r("iOvk1"),s=r("43063"),c=r("7mQ3Y"),a=r("cFUcx"),l=r("csW2r"),u=r("7gANb"),d=r("RVqnc"),f=r("29o0l"),p=r("9RVtu"),h=r("cWcF4"),m=r("ctsJe"),g=r("doOus"),v=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}};const b=(e,t,n,i,r,s,c)=>v(void 0,void 0,void 0,(function*(){try{if(!n)throw new Error("Gas estimation is required");if(!c)throw new Error("Bid summary is required");const{data:l,chainId:f,action:p}=t,{collectionName:h,marketplace:m,receiveAmount:g,currencySymbol:v,collectibleChainSymbol:y,bidTokenSymbol:b}=c,S=(0,d.capitalizeFirstLetter)(m);let C={};"nft-approval"===p&&(C={topRight:{label:""},bottomRight:{label:""},topLeft:{label:e("collectiblesApproveCollection",{collectionName:h})},bottomLeft:{label:S}}),"sale"===p&&(C={topRight:{label:`+${g} ${v}`},topLeft:{label:e("collectiblesSoldCollectible")},bottomRight:{label:`-${h}`},bottomLeft:{label:S}}),"blur-swap"===p&&(C={topRight:{label:`+${g} ${y}`},topLeft:{label:e("transactionsSwapped")},bottomRight:{label:`-${g} ${b}`},bottomLeft:{label:S}});const w=a.EthUnsignedTransactionObject.parse({type:a.TransactionTypes.eip1559,to:l.to,from:l.from,data:l.data,chainId:o.Chains.getEVMNetworkIDValue(f),gas:`0x${n.gasLimit.toString(16)}`,maxFeePerGas:`0x${n.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${n.maxPriorityFeePerGas.toString(16)}`}),T=(({networkID:e,unsignedTransaction:t,pendingActivityRows:n,accountIdentifier:i,accountSigner:o,storage:r,includeCallPayload:s})=>Object.assign(Object.assign({accountSigner:o,accountIdentifier:i,networkID:e,unsignedTransaction:t},s&&{callPayload:{from:t.from,to:t.to,data:t.data,value:t.value}}),{pendingTransactionInput:{ownerAddress:t.from,networkID:e,data:{nonce:"",unsignedTransaction:t,hash:""},type:u.PendingTransactionType.Sell,display:{summary:n}},storage:r}))({storage:i,accountSigner:r,pendingActivityRows:C,includeCallPayload:!1,networkID:f,unsignedTransaction:w,accountIdentifier:s.accountIdentifier}),E=yield(0,u.signAndSendEthereumTransactionAsync)(T);return{type:t.type,data:E}}catch(e){return{type:t.type,error:e}}})),S=(e,t,n,i)=>v(void 0,void 0,void 0,(function*(){try{const{chainId:o,data:r}=t,{signatureData:s,signatureKind:a,postData:l}=r;if("eip191"===a&&"message"in s){const r=yield n.sign(i.accountIdentifier,{signingType:"message",chainType:c.AddressType.EVM,message:s.message});if("success"===r.status)return yield((e,t,n,i)=>fetch(`${e}/collectibles/v1/submit-signature`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chainId:t,signature:n,postData:i})}))(e(),o,r.signature,l),{type:t.type,data:"success"};throw new Error("Execute Sell: Couldn't sign message")}throw new Error("Execute Sell: EIP721 is not yet supported")}catch(e){return{type:t.type,error:e}}})),C=(e,t)=>v(void 0,void 0,void 0,(function*(){try{const{resource:n}=e.data;if("/sell"===n){const{data:n}=yield t();return{type:e.type,data:null==n?void 0:n.steps}}throw new Error("Execute Sell: Resource is not supported")}catch(t){return{type:e.type,error:t}}})),w=[m.StepActionEnum.enum.auth,m.StepActionEnum.enum["nft-approval"],m.StepActionEnum.enum.sale];class T extends Error{constructor(){super(...arguments),this.message="Steps are required"}}class E extends Error{constructor(){super(...arguments),this.message="These steps are not from the same bid"}}const x=({stepsOrderId:e,getApiEnvironment:t,storage:n,accountSigner:o,accountHooks:r,initialSteps:c,gasEstimation:a,refetchSellSteps:u,bidSummary:x,analytics:k,queryClient:A,tokenPrice:P})=>{const[I,M]=(0,f.useState)("idle"),[O,D]=(0,f.useState)(null),[F,L]=(0,f.useState)(null),{t:N}=(0,s.useTranslation)(),R=(e=>{const{data:t}=e.useSelectedMultiChainAccount();return(0,f.useMemo)((()=>{var e,n,o;const r=null==t?void 0:t.type,s=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"",c=null!==(n=null==t?void 0:t.addresses)&&void 0!==n?n:[],a=null!==(o=null==t?void 0:t.identifier)&&void 0!==o?o:"";return{isLedger:(null==t?void 0:t.type)===i.AccountType.Ledger,accountName:s,accountType:r,chainAddresses:c,accountIdentifier:a}}),[t])})(r),{chainAddresses:j,isLedger:U}=R;(0,f.useEffect)((function(){"loading"===I&&(0,h.invalidateBidsAndSellSteps)(A,x)}),[I,A,x]),(0,f.useEffect)((function(){"success"===I&&x&&(0,g.pushOptimisticUpdate)(A,{id:x.collectibleId,amount:1})}),[I,A,j,x]);const B=P&&(null==x?void 0:x.receiveAmount)?x.receiveAmount*P:void 0,z=(i,r=new Map)=>v(void 0,void 0,void 0,(function*(){var s,f,h,g,A;const P=null!=i?i:c;try{if(e&&""!==e&&e!==(null==x?void 0:x.orderId))throw new E;if(!Array.isArray(P)||0===P.length)throw new T;M("loading");try{for(var I,O=!0,F=y(P);!(s=(I=yield F.next()).done);){g=I.value,O=!1;try{const e=g,{action:i}=e,s="success"===r.get(i),c=i===m.StepActionEnum.enum.sale,l=i===m.StepActionEnum.enum.refetch,f=w.some((e=>e===i));if(s)continue;l||r.set(i,"loading");const{type:h,data:y,error:T}=yield(0,p.match)(e).with({type:m.StepType.enum.transaction},(e=>b(N,e,a,n,o,R,x))).with({type:m.StepType.enum.signature},(e=>v(void 0,void 0,void 0,(function*(){return S(t,e,o,R)})))).with({type:m.StepType.enum.refetch},(e=>C(e,u))).exhaustive();if(f&&T)throw T;if(!y)continue;if(l||r.set(i,"success"),h===m.StepType.enum.transaction&&c&&L(y),h===m.StepType.enum.refetch)return yield(0,d.delayAsync)(500),yield z(y,r)}finally{O=!0}}}catch(e){f={error:e}}finally{try{O||s||!(h=F.return)||(yield h.call(F))}finally{if(f)throw f.error}}M("success"),k.capture("collectibleSellSuccess",{data:{bidSummary:x,usdSaleValue:B}})}catch(e){const t=null!==(A=null==e?void 0:e.message)&&void 0!==A?A:"";e instanceof T&&e instanceof E||(l.telemetry.captureError(e,l.FeatureTag.Collectibles),k.capture("collectibleSellFailure",{data:{bidSummary:x,usdSaleValue:B,errorMessage:t}})),M("error"),D(e)}}));return{executeSellEvmSteps:z,reset:()=>{M("idle"),D(null),L(null)},error:O,result:F,status:I,isLedger:U}}})),r.register("9RVtu",(function(t,n){e(t.exports,"match",(function(){return l}));var i=Symbol("@ts-pattern/matcher"),o="@ts-pattern/anonymous-select-key",r=function(e){return Boolean(e&&"object"==typeof e)},s=function(e){return e&&!!e[i]},c=function e(t,n,o){if(r(t)){if(s(t)){var c=t[i]().match(n),a=c.matched,l=c.selections;return a&&l&&Object.keys(l).forEach((function(e){return o(e,l[e])})),a}if(!r(n))return!1;if(Array.isArray(t))return!!Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i],o)}));if(t instanceof Map)return n instanceof Map&&Array.from(t.keys()).every((function(i){return e(t.get(i),n.get(i),o)}));if(t instanceof Set){if(!(n instanceof Set))return!1;if(0===t.size)return 0===n.size;if(1===t.size){var u=Array.from(t.values())[0];return s(u)?Array.from(n.values()).every((function(t){return e(u,t,o)})):n.has(u)}return Array.from(t.values()).every((function(e){return n.has(e)}))}return Object.keys(t).every((function(r){var c,a=t[r];return(r in n||s(c=a)&&"optional"===c[i]().matcherType)&&e(a,n[r],o)}))}return Object.is(n,t)};function a(e){var t;return(t={})[i]=function(){return{match:function(t){return{matched:Boolean(e(t))}}}},t}a((function(e){return!0})),a((function(e){return"string"==typeof e})),a((function(e){return"number"==typeof e})),a((function(e){return"boolean"==typeof e})),a((function(e){return"bigint"==typeof e})),a((function(e){return"symbol"==typeof e})),a((function(e){return null==e}));function l(e){return new u(e,[])}var u=function(){function e(e,t){this.value=void 0,this.cases=void 0,this.value=e,this.cases=t}var t=e.prototype;return t.with=function(){var t=[].slice.call(arguments),n=t[t.length-1],i=[t[0]],r=[];return 3===t.length&&"function"==typeof t[1]?(i.push(t[0]),r.push(t[1])):t.length>2&&i.push.apply(i,t.slice(1,t.length-1)),new e(this.value,this.cases.concat([{match:function(e){var t={},n=Boolean(i.some((function(n){return c(n,e,(function(e,n){t[e]=n}))}))&&r.every((function(t){return t(e)})));return{matched:n,value:n&&Object.keys(t).length?o in t?t[o]:t:e}},handler:n}]))},t.when=function(t,n){return new e(this.value,this.cases.concat([{match:function(e){return{matched:Boolean(t(e)),value:e}},handler:n}]))},t.otherwise=function(t){return new e(this.value,this.cases.concat([{match:function(e){return{matched:!0,value:e}},handler:t}])).run()},t.exhaustive=function(){return this.run()},t.run=function(){for(var e=this.value,t=void 0,n=0;n<this.cases.length;n++){var i=this.cases[n],o=i.match(this.value);if(o.matched){e=o.value,t=i.handler;break}}if(!t){var r;try{r=JSON.stringify(this.value)}catch(e){r=this.value}throw new Error("Pattern matching error: no pattern matches value "+r)}return t(e,this.value)},e}()})),r.register("cWcF4",(function(t,n){e(t.exports,"invalidateBidsAndSellSteps",(function(){return o}));var i=r("9DWl5");const o=(e,t)=>{e.invalidateQueries(i.BIDS_SCOPE),e.invalidateQueries({predicate:({queryKey:e})=>e.includes("collectibleSellSteps")&&e[2].details.orderId===(null==t?void 0:t.orderId)})}})),r.register("2jrTu",(function(t,n){e(t.exports,"StepsFromDifferentBidErrorMessage",(function(){return w}),(function(e){return w=e})),e(t.exports,"useInstantSellExecuteSolanaSteps",(function(){return x}),(function(e){return x=e}));var i=r("4xbAj"),o=r("iOvk1"),s=r("43063"),c=r("hMVEP"),a=r("csW2r"),l=r("7gANb"),u=r("RVqnc"),d=r("29o0l"),f=r("bQvNK"),p=r("lvcyB"),h=r("Nt4tV"),m=r("9RVtu"),g=r("cWcF4"),v=r("ctsJe"),y=r("doOus"),b=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))},S=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}};const C=(e,t,n,i,o,r)=>b(void 0,void 0,void 0,(function*(){if(!r)throw new Error("Bid summary is required");const{collectionName:s,marketplace:a,receiveAmount:d,currencySymbol:f}=r,p={topRight:{label:`+${d} ${f}`},topLeft:{label:e("collectiblesSoldCollectible")},bottomRight:{label:`-${s}`},bottomLeft:{label:(0,u.capitalizeFirstLetter)(a)}},{data:h,chainId:m,type:g}=t,{transaction:v}=h,y=(0,c.transactionStringToTransaction)(v,"base64"),b={ownerAddress:n.solanaPublicKey,networkID:m,data:{signature:""},type:l.PendingTransactionType.Sell,display:{summary:p}},{accountIdentifier:S,solanaPublicKey:C,connection:w}=n,T=new(0,c.PublicKey)(C);return{type:g,data:yield(0,l.signAndSendSolanaTransactionAsync)({accountIdentifier:S,feePayer:T,transaction:y,pendingTransactionInput:b,connection:w,accountSigner:i,storage:o,opts:{skipPreflight:!0}})}})),w="These steps are not from the same bid";class T extends Error{constructor(){super(...arguments),this.message="Steps are required"}}class E extends Error{constructor(){super(...arguments),this.message=w}}const x=({stepsOrderId:e,storage:t,accountSigner:n,accountHooks:r,initialSteps:u,bidSummary:w,analytics:x,queryClient:k,tokenPrice:A})=>{const[P,I]=(0,d.useState)("idle"),[M,O]=(0,d.useState)(null),[D,F]=(0,d.useState)(null),{t:L}=(0,s.useTranslation)(),N=(e=>{const{data:t}=e.useSelectedMultiChainAccount();return(0,d.useMemo)((()=>{var e,n,r;const s=null!==(e=null==t?void 0:t.identifier)&&void 0!==e?e:"",c=(null==t?void 0:t.type)===i.AccountType.Ledger,a=null!==(n=null==t?void 0:t.addresses)&&void 0!==n?n:[],l=a.find(o.isSolanaChainAddress),u=null==l?void 0:l.networkID,d=null!==(r=null==l?void 0:l.address)&&void 0!==r?r:"",f=(0,p.getClusterBySolanaChainId)(u);return{accountIdentifier:s,chainAddresses:a,chainId:u,solanaPublicKey:d,isLedger:c,cluster:f,connection:(0,p.createConnection)(f)}}),[t])})(r),{chainId:R,connection:j,chainAddresses:U,isLedger:B}=N,z=R&&o.Chains.isSolanaNetworkID(R)?R:o.NetworkIDs.Solana.Mainnet,K=((e,t)=>{const[n,i]=(0,d.useState)(void 0);return(0,d.useEffect)((()=>{b(void 0,void 0,void 0,(function*(){var n;if(!e)return;const o=e.find((e=>"transaction"===e.type)),r=null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.transaction;if(!r)return;const s=(0,c.transactionStringToTransaction)(r,"base64"),a=yield(0,l.estimateFeeFromMessage)(t,s.message),u=(0,h.lamportsToSolana)(a.value);i(u)}))}),[e,t]),n})(u,z);(0,d.useEffect)((function(){"loading"===P&&(0,g.invalidateBidsAndSellSteps)(k,w)}),[P,k,w]),(0,d.useEffect)((function(){"success"===P&&w&&(0,y.pushOptimisticUpdate)(k,{id:w.collectibleId,amount:1})}),[P,k,U,w]);const V=A&&(null==w?void 0:w.receiveAmount)?w.receiveAmount*A:void 0;return{executeSellSolanaSteps:()=>b(void 0,void 0,void 0,(function*(){var i,o,r,s,c;try{if(e&&e!==(null==w?void 0:w.orderId))throw new E;if(!Array.isArray(u)||0===u.length)throw new T;I("loading");try{for(var l,d=!0,p=S(u);!(i=(l=yield p.next()).done);){s=l.value,d=!1;try{const e=s,i=yield(0,m.match)(e).with({type:v.StepType.enum.transaction},(e=>C(L,e,N,n,t,w))).exhaustive();i.type===v.StepType.enum.transaction&&F(i.data),yield(0,f.waitForTransactionConfirmationAsync)(j,i.data,"confirmed")}finally{d=!0}}}catch(e){o={error:e}}finally{try{d||i||!(r=p.return)||(yield r.call(p))}finally{if(o)throw o.error}}I("success"),x.capture("collectibleSellSuccess",{data:{bidSummary:w,usdSaleValue:V}})}catch(e){const t=null!==(c=null==e?void 0:e.message)&&void 0!==c?c:"";e instanceof T&&e instanceof E||(a.telemetry.captureError(e,a.FeatureTag.Collectibles),x.capture("collectibleSellFailure",{data:{bidSummary:w,usdSaleValue:V,errorMessage:t}})),I("error"),O(e)}})),reset:()=>{I("idle"),O(null),F(null)},gas:K,error:M,result:D,status:P,isLedger:B}}})),r.register("j1qxo",(function(t,n){e(t.exports,"useInstantSellSolanaGasEstimation",(function(){return o}));var i=r("5slFC");const o=({bidSummary:e,fungibleHooks:t})=>{const{fungible:n}=t.useFungible({key:(0,i.networkIdToNativeTokenFungibleKey)(e.collectibleChainId)}),o=null==n?void 0:n.data.balance;return{hasEnoughGas:!!o&&o.isGreaterThan(.01)}}})),r.register("kPRJD",(function(t,n){e(t.exports,"usePinCollectionProps",(function(){return m}));var i=r("iOvk1"),o=r("43063"),s=r("29o0l"),c=r("1El9w"),a=r("iNEbF"),l=r("82MEA"),u=r("hawzv"),d=r("9EdxR"),f=r("gfoNl"),p=r("3YGzV"),h=r("7TvBs");const m=({storage:e,collectionId:t,isSpam:n,accountId:r,networkId:m,toast:g,analytics:v})=>{const{t:y}=(0,o.useTranslation)(),{mutateAsync:b}=(0,d.useUnhideCollection)(e),{data:S=[]}=(0,c.useHiddenCollections)(r||"",e),{data:C=[]}=(0,u.useUnhiddenCollections)(r||"",e),w=(0,f.useIsCollectionHidden)(S,C,null!=t?t:"",!!n),{mutateAsync:T}=(0,a.usePinCollection)(e),{data:E=[]}=(0,l.usePinnedCollections)(r||"",e),x=(0,p.useIsCollectionPinned)(E,null!=t?t:""),k=(0,s.useMemo)((()=>({pinSuccess:y("collectionPinSuccess"),pinFail:y("collectionPinFail"),unpinSuccess:y("collectionUnpinSuccess"),unpinFail:y("collectionUnpinFail")})),[y]),A=(0,s.useCallback)((e=>{m&&v.capture(e,{data:{networkId:m,chainId:i.Chains.getChainID(m)}})}),[v,m]),P=(0,h.usePinCollectionToggle)({accountId:r,collectionId:t,isPinned:x,pinMessages:k,pinCollection:T,toast:g,sendAnalyticEvent:A,unhideCollection:b,isHidden:w});return(0,s.useMemo)((()=>({isPinned:x,onTogglePin:P})),[x,P])}})),r.register("7TvBs",(function(t,n){e(t.exports,"usePinCollectionToggle",(function(){return s}),(function(e){return s=e}));var i=r("29o0l"),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const s=({accountId:e,collectionId:t,isPinned:n,pinMessages:r,pinCollection:s,toast:c,sendAnalyticEvent:a,unhideCollection:l,isHidden:u})=>(0,i.useCallback)((()=>{o(void 0,void 0,void 0,(function*(){if(t&&e)try{yield s({collectionId:t,accountId:e,pinned:!n}),u&&!n&&(yield l({collectionId:t,accountId:e})),c.success(n?r.unpinSuccess:r.pinSuccess,{position:"top-center"}),a&&a(n?"collectionUnpinned":"collectionPinned")}catch(e){c.error(n?r.unpinFail:r.pinFail,{position:"top-center"})}else c.error(n?r.unpinFail:r.pinFail,{position:"top-center"})}))}),[t,e,n,r,s,c,a,l,u])})),r.register("cTV4M",(function(t,n){e(t.exports,"useReportSpamProps",(function(){return m}));var i=r("iOvk1"),o=r("43063"),s=r("29o0l"),c=r("1El9w"),a=r("aTZIn"),l=r("5cOz4"),u=r("hawzv"),d=r("j8YST"),f=r("kVQvU"),p=r("gfoNl"),h=r("5qOs9");const m=({storage:e,analytics:t,getApiEnvironment:n,toast:r,collectible:m,accountId:g})=>{var v,y;const{t:b}=(0,o.useTranslation)(),S=(0,s.useMemo)((()=>{var e,t;return null!==(t=null===(e=null==m?void 0:m.collection)||void 0===e?void 0:e.id)&&void 0!==t?t:""}),[null===(v=null==m?void 0:m.collection)||void 0===v?void 0:v.id]),C=(0,s.useMemo)((()=>{var e;return!!(null===(e=null==m?void 0:m.collection)||void 0===e?void 0:e.isSpam)}),[null===(y=null==m?void 0:m.collection)||void 0===y?void 0:y.isSpam]),{mutateAsync:w}=(0,a.useHideCollection)(e),{data:T=[]}=(0,c.useHiddenCollections)(g||"",e),{data:E=[]}=(0,u.useUnhiddenCollections)(g||"",e),x=(0,p.useIsCollectionHidden)(T,E,null!=S?S:"",C),{mutateAsync:k}=(0,l.useReportCollectibleEvent)(n),A=(0,f.useCollectibleEvent)(d.ReportCollectibleEventType.markAsSpam,m),P=(0,s.useMemo)((()=>({spamSuccess:b("collectiblesSpamSuccess"),spamFail:b("collectiblesSpamSuccess"),spamAndHiddenSuccess:b("collectiblesSpamAndHiddenSuccess")})),[b]),I=(0,s.useCallback)((e=>{var n;(null===(n=null==m?void 0:m.chain)||void 0===n?void 0:n.id)&&t.capture(e,{data:{networkId:m.chain.id,chainId:i.Chains.getChainID(m.chain.id)}})}),[t,m]);return(0,h.useReportSpam)({collectionId:S,accountId:g,reportSpamMessages:P,reportCollectibleEvent:k,isHidden:x,hideCollection:w,collectibleEvent:A,toast:r,sendAnalyticEvent:I})}})),r.register("5qOs9",(function(t,n){e(t.exports,"useReportSpam",(function(){return s}),(function(e){return s=e}));var i=r("29o0l"),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const s=({collectionId:e,accountId:t,reportSpamMessages:n,reportCollectibleEvent:r,isHidden:s,hideCollection:c,collectibleEvent:a,toast:l,sendAnalyticEvent:u})=>(0,i.useCallback)((()=>{o(void 0,void 0,void 0,(function*(){if(a&&e&&t)try{yield r({event:a}),s||(yield c({collectionId:e,accountId:t})),l.success(s?n.spamSuccess:n.spamAndHiddenSuccess,{position:"top-center"}),u&&u("collectiblesReportAsSpam")}catch(e){l.error(n.spamFail,{position:"top-center"})}else l.error(n.spamFail,{position:"top-center"})}))}),[e,t,n,r,a,s,c,l,u])})),r.register("3IRsP",(function(t,n){e(t.exports,"useSendCollectibleStatusViewState",(function(){return d}));var i,o,s=r("43063"),c=r("7gANb"),a=r("29o0l"),l=r("lcNVz"),u=r("j8YST");(o=i||(i={})).SUCCESS="SUCCESS",o.ERROR="ERROR",o.LOADING="LOADING";const d=({networkID:e,isTxError:t,isTxConfirmed:n,isTxSubmitted:o,collectiblesSdk:r})=>{const d=r.get(e).sendSuccessCondition,f=(0,a.useMemo)((()=>t?i.ERROR:d===u.SendSuccessCondition.SUBMISSION&&o||d===u.SendSuccessCondition.CONFIRMATION&&n?i.SUCCESS:i.LOADING),[n,t,o,d]),p=d===u.SendSuccessCondition.CONFIRMATION?"sendStatusConfirmedSuccessTitle":"sendStatusSubmittedSuccessTitle",h=(0,a.useMemo)((()=>{switch(f){case i.LOADING:return s.i18next.t("sendStatusLoadingTitle");case i.ERROR:return s.i18next.t("sendStatusErrorTitle");case i.SUCCESS:return s.i18next.t(p)}}),[f,p]),{isError:m,isSuccess:g}=(0,a.useMemo)((()=>({isError:f===i.ERROR,isSuccess:f===i.SUCCESS})),[f]),{transactionSpeed:v=c.TransactionSpeed.standard}=(0,l.useCollectiblesStore)((e=>e.sendFormValues)),y=(0,a.useMemo)((()=>{const t=(0,c.getEstimatedConfirmationTime)(e);return t?s.i18next.t(t[v]):""}),[e,v]);return{title:h,isError:m,isSuccess:g,sendSuccessCondition:d,estimatedTime:y}}})),r.register("lcNVz",(function(n,i){e(n.exports,"useCollectiblesStore",(function(){return d}));var o=r("gTwcH"),s=r("4hmje"),c=r("fKtK0"),a=r("b3zIP"),l=r("fgk7x"),u=r("3Pu9B");const d=t(o)(((e,t)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,u.createSendCollectibleSlice)(e,t)),(0,a.createListCollectibleSlice)(e,t)),(0,s.createBurnCollectibleSlice)(e,t)),(0,l.createMultichainListCollectibleSlice)(e,t)),(0,c.createMultichainSellCollectibleSlice)(e,t))))})),r.register("4hmje",(function(t,n){e(t.exports,"createBurnCollectibleSlice",(function(){return o}));const i={burnCollectibleTx:void 0,burnCollectibleTxFee:void 0},o=e=>Object.assign(Object.assign({},i),{resetBurnCollectible:()=>e(Object.assign({},i)),setBurnCollectibleTx:t=>e({burnCollectibleTx:t}),setBurnCollectibleTxFee:t=>e({burnCollectibleTxFee:t})})})),r.register("fKtK0",(function(t,n){e(t.exports,"createMultichainSellCollectibleSlice",(function(){return o}));const i={multichainSellCollectible:void 0},o=e=>Object.assign(Object.assign({},i),{resetMultichainSellCollectible:()=>e(Object.assign({},i)),setMultichainSellCollectible:t=>e({multichainSellCollectible:t})})})),r.register("b3zIP",(function(t,n){e(t.exports,"createListCollectibleSlice",(function(){return o}));const i={listCollectible:null,listCollectiblePrice:null,editListCollectiblePrice:null,unlistCollectible:null,transactionURL:null},o=e=>Object.assign(Object.assign({},i),{reset:()=>e(Object.assign({},i)),setListCollectible:t=>e({listCollectible:t}),setListPrice:t=>e({listCollectiblePrice:t}),setEditListPrice:t=>e({editListCollectiblePrice:t}),setUnlistCollectible:t=>e({unlistCollectible:t}),setTransactionURL:t=>e({transactionURL:t})})})),r.register("fgk7x",(function(t,n){e(t.exports,"createMultichainListCollectibleSlice",(function(){return o}));const i={multichainListCollectible:null,multichainListCollectiblePrice:null,editMultichainListCollectiblePrice:null,unlistMultichainCollectible:null,multichainTransactionURL:null},o=e=>Object.assign(Object.assign({},i),{reset:()=>e(Object.assign({},i)),setMultichainListCollectible:t=>e({multichainListCollectible:t}),setMultichainListPrice:t=>e({multichainListCollectiblePrice:t}),setEditMultichainListPrice:t=>e({editMultichainListCollectiblePrice:t}),setUnlistMultichainCollectible:t=>e({unlistMultichainCollectible:t}),setMultichainTransactionURL:t=>e({multichainTransactionURL:t})})})),r.register("3Pu9B",(function(t,n){e(t.exports,"createSendCollectibleSlice",(function(){return o}));const i={collectible:void 0,sendFormValues:r("5slFC").DEFAULT_SEND_FORM_VALUES,shouldRequireAmount:!1},o=e=>Object.assign(Object.assign({},i),{resetSendSlice:()=>{e(Object.assign({},i))},setSendCollectible:t=>{e({collectible:t})},setSendFormValues:t=>{e({sendFormValues:t})},setShouldRequireAmount:t=>{e({shouldRequireAmount:t})}})})),r.register("a3mbF",(function(t,n){e(t.exports,"useEditListCollectible",(function(){return d}),(function(e){return d=e}));var i=r("hMVEP"),o=r("RVqnc"),s=r("29o0l"),c=r("iK4RJ"),a=r("fRdQq"),l=r("8tcqI").Buffer,u=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const d=()=>{const e=(0,c.useListCollectibleStore)((e=>e.listCollectible)),t=(0,c.useListCollectibleStore)((e=>e.editListCollectiblePrice)),[n,r]=(0,s.useState)(),[d,f]=(0,s.useState)(!1),[p,h]=(0,s.useState)();return{editList:(0,s.useCallback)(((n,s,c)=>u(void 0,void 0,void 0,(function*(){if(r(void 0),f(!0),!e||!t)return r(new Error("missing collectible or price")),void f(!1);try{const u=new URLSearchParams;u.set("pubKey",c.toBase58()),u.set("mint",e.asset.mintPubKey),u.set("account",e.asset.pubkey),u.set("quotePrice",`${(0,a.solanaToLamports)(t)}`),u.set("marketplace","magic_eden");const d=(0,a.getTokenListNetworkIDByCluster)(s);u.set("chainId",d.toString());const p=`${n}/solana/composer/v1/list?${u.toString()}`,m=yield(0,o.withRetry)((()=>fetch(p).then((e=>{if(!e.ok)throw new Error("500");return e}))),(()=>!0)),g=yield m.json(),v=i.Transaction.from(l.from(g.transaction,"base64"));(0,a.performNotaryCheck)(v)?h(v):r(new Error("Failed to initialize transaction")),f(!1)}catch(e){console.error(e),r(new Error("Failed to initialize transaction")),f(!1)}}))),[e,t]),isLoading:d,error:n,transaction:p}}})),r.register("iK4RJ",(function(n,i){e(n.exports,"useListCollectibleStore",(function(){return c}));var o=r("gTwcH");const s={listCollectible:null,listCollectiblePrice:null,editListCollectiblePrice:null,unlistCollectible:null,transactionURL:null},c=t(o)((e=>Object.assign(Object.assign({},s),{reset:()=>e(Object.assign({},s)),setListCollectible:t=>e({listCollectible:t}),setListPrice:t=>e({listCollectiblePrice:t}),setEditListPrice:t=>e({editListCollectiblePrice:t}),setUnlistCollectible:t=>e({unlistCollectible:t}),setTransactionURL:t=>e({transactionURL:t})})))})),r.register("28sgo",(function(t,n){e(t.exports,"useListCollectible",(function(){return f}),(function(e){return f=e}));var i=r("hMVEP"),o=r("csW2r"),s=r("RVqnc"),c=r("29o0l"),a=r("iK4RJ"),l=r("fRdQq"),u=r("8tcqI").Buffer,d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const f=()=>{const e=(0,a.useListCollectibleStore)((e=>e.listCollectible)),t=(0,a.useListCollectibleStore)((e=>e.listCollectiblePrice)),[n,r]=(0,c.useState)(),[f,p]=(0,c.useState)(!1),[h,m]=(0,c.useState)(),g=(0,c.useCallback)(((n,c,a)=>d(void 0,void 0,void 0,(function*(){if(r(void 0),p(!0),!e||!t)return r(new Error("missing collectible or price")),void p(!1);try{const o=new URLSearchParams;o.set("pubKey",a.toBase58()),o.set("mint",e.asset.mintPubKey),o.set("account",e.asset.pubkey),o.set("quotePrice",`${(0,l.solanaToLamports)(t)}`),o.set("marketplace","magic_eden");const d=(0,l.getTokenListNetworkIDByCluster)(c);o.set("chainId",d.toString());const f=`${n}/solana/composer/v1/list?${o.toString()}`,h=yield(0,s.withRetry)((()=>fetch(f).then((e=>{if(!e.ok)throw new Error("500");return e}))),(()=>!0)),g=yield h.json(),v=i.Transaction.from(u.from(g.transaction,"base64"));(0,l.performNotaryCheck)(v)?m(v):r(new Error("Failed to initialize transaction")),p(!1)}catch(e){r(new Error("Failed to initialize transaction")),p(!1),o.telemetry.captureError(e,o.FeatureTag.MagicEden)}}))),[e,t]);return{list:g,isLoading:f,error:n,transaction:h}}})),r.register("18W1y",(function(t,n){e(t.exports,"useUnlistCollectible",(function(){return f}),(function(e){return f=e}));var i=r("hMVEP"),o=r("csW2r"),s=r("RVqnc"),c=r("29o0l"),a=r("iK4RJ"),l=r("fRdQq"),u=r("8tcqI").Buffer,d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const f=()=>{const e=(0,a.useListCollectibleStore)((e=>e.unlistCollectible)),[t,n]=(0,c.useState)(),[r,f]=(0,c.useState)(!1),[p,h]=(0,c.useState)(),m=(0,c.useCallback)(((t,r,c)=>d(void 0,void 0,void 0,(function*(){if(n(void 0),f(!0),!e)return n(new Error("missing collectible")),void f(!1);try{const o=new URLSearchParams;o.set("pubKey",c.toBase58()),o.set("mint",e.asset.mintPubKey),o.set("account",e.asset.pubkey),o.set("marketplace","magic_eden");const a=(0,l.getTokenListNetworkIDByCluster)(r);o.set("chainId",a.toString());const d=`${t}/solana/composer/v1/unlist?${o.toString()}`,p=yield(0,s.withRetry)((()=>fetch(d).then((e=>{if(!e.ok)throw new Error("500");return e}))),(()=>!0)),m=yield p.json(),g=i.Transaction.from(u.from(m.transaction,"base64"));(0,l.performNotaryCheck)(g)?h(g):n(new Error("Failed to initialize transaction")),f(!1)}catch(e){n(new Error("Failed to initialize transaction")),f(!1),o.telemetry.captureError(e,o.FeatureTag.MagicEden)}}))),[e]);return{unlist:m,isLoading:r,error:t,transaction:p}}})),r.register("7XPpb",(function(e,t){r("csW2r"),r("29o0l"),r("2of6v")})),r.register("2of6v",(function(t,n){e(t.exports,"getBurnTransaction",(function(){return p}),(function(e){return p=e})),e(t.exports,"getBurnTransactionWithPriorityFee",(function(){return h}),(function(e){return h=e}));var i=r("8tcqI"),o=r("6ElgT"),s=r("hMVEP"),c=r("7gANb"),a=r("clU2l"),l=r("lvcyB"),u=r("fRdQq"),d=r("5fQ1M"),f=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const p=(e,t,n,r,c,l,p)=>f(void 0,void 0,void 0,(function*(){const f=new(0,s.Transaction),h=new(0,s.PublicKey)(e),m=yield a.Token.getAssociatedTokenAddress(a.ASSOCIATED_TOKEN_PROGRAM_ID,a.TOKEN_PROGRAM_ID,h,t);if(null==p?void 0:p.compressed)return(0,d.createCompressedTokenBurnTransaction)({compression:p,mint:e});if(r)return(0,o.createPNFTBurnTX)({senderAddress:t,senderAccount:m,mintAddress:new(0,s.PublicKey)(e)});if(null!==l&&(0,u.isMasterEdition)(l)){const e=i.Buffer.from(h.toBytes()),n=(0,u.getMetadataPDA)(e),r=(0,u.getMasterEditionPDA)(e);let l;if(null!==c){const e=new(0,s.PublicKey)(c),t=i.Buffer.from(e.toBytes());l=(0,u.getCollectionMetadataPDA)(t)}const d={metadata:n,owner:t,mint:h,tokenAccount:m,masterEditionAccount:r,splTokenProgram:a.TOKEN_PROGRAM_ID,collectionMetadata:l},{createBurnNftInstruction:p}=yield(0,o.getMetaplexFoundationDeps)(),g=p(d,o.METADATA_PROGRAM_ID);f.add(g)}else{const e=a.Token.createBurnInstruction(a.TOKEN_PROGRAM_ID,h,m,t,[],n),i=a.Token.createCloseAccountInstruction(a.TOKEN_PROGRAM_ID,m,t,t,[]);f.add(e,i)}return f})),h=(e,t,n,i,o,r,s,a,u)=>f(void 0,void 0,void 0,(function*(){const d=yield p(e,t,n,i,o,r,a),f=(0,l.createConnectionBySolanaNetworkID)(s);d.recentBlockhash=(yield f.getLatestBlockhash("confirmed")).blockhash,d.feePayer=t;const h=yield u.addPriorityFee(d,{connection:f}),m=yield(0,c.estimateFeeFromMessage)(s,h.compileMessage());return{burnTxWithPriority:h,networkFeeUiAmount:(0,c.getSolanaNetworkFeeUiAmount)(m)}}))})),r.register("5fQ1M",(function(t,n){e(t.exports,"createCompressedTokenBurnTransaction",(function(){return l}),(function(e){return l=e}));var i=r("iOvk1"),o=r("hMVEP"),s=r("16XMG"),c=r("foQia"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function l(e){return a(this,void 0,void 0,(function*(){const{mint:t}=e,n=new(0,o.Transaction),a=(0,s.getAPIEnvironment)(),l=yield(0,c.getCompressionProof)({apiEnv:a,networkID:i.SolanaNetworkID.Mainnet,mintAddress:t}),{createCompressedNftBurnIX:u}=yield Promise.resolve(r("6ElgT"));return n.add(yield u(Object.assign(Object.assign({},e),l))),n}))}})),r.register("1heCw",(function(t,n){e(t.exports,"useSearchCollectiblesStrict",(function(){return s}));r("4qm9q");var i=r("29o0l");const o={location:0,distance:50,threshold:.3},s=(Object.assign(Object.assign({},o),{keys:["name"]}),Object.assign(Object.assign({},o),{keys:["name"]}),Object.assign(Object.assign({},o),{keys:["name"]}),(e,t,n)=>{const o=(0,i.useMemo)((()=>e.flatMap((e=>e.items))),[e]),r=(0,i.useCallback)(((e,t)=>{if(void 0===t)return!1;const n=e.toLowerCase();return t.toLowerCase().split(" ").map((e=>e.startsWith(n)||n.startsWith(e)&&t.toLowerCase().includes(n))).includes(!0)}),[]);return(0,i.useMemo)((()=>({collections:e.filter((e=>r(n,e.name))),collectibles:o.filter((e=>r(n,e.name))),hiddenCollections:t.filter((e=>r(n,e.name)))})),[n,o,e,t,r])})})),r.register("4qm9q",(function(t,n){function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===f(e)}e(t.exports,"default",(function(){return X}));const o=1/0;function r(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}function s(e){return"string"==typeof e}function c(e){return"number"==typeof e}function a(e){return!0===e||!1===e||function(e){return l(e)&&null!==e}(e)&&"[object Boolean]"==f(e)}function l(e){return"object"==typeof e}function u(e){return null!=e}function d(e){return!e.trim().length}function f(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const p=e=>`Invalid value for key ${e}`,h=e=>`Pattern length exceeds max of ${e}.`,m=e=>`Missing ${e} property in key`,g=e=>`Property 'weight' in key '${e}' must be a positive integer`,v=Object.prototype.hasOwnProperty;class y{get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=b(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}}function b(e){let t=null,n=null,o=null,r=1;if(s(e)||i(e))o=e,t=S(e),n=C(e);else{if(!v.call(e,"name"))throw new Error(m("name"));const i=e.name;if(o=i,v.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(g(i));t=S(i),n=C(i)}return{path:t,id:n,weight:r,src:o}}function S(e){return i(e)?e:e.split(".")}function C(e){return i(e)?e.join("."):e}var w={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],o=!1;const l=(e,t,d)=>{if(u(e))if(t[d]){const f=e[t[d]];if(!u(f))return;if(d===t.length-1&&(s(f)||c(f)||a(f)))n.push(r(f));else if(i(f)){o=!0;for(let e=0,n=f.length;e<n;e+=1)l(f[e],t,d+1)}else t.length&&l(f,t,d+1)}else n.push(e)};return l(e,s(t)?t.split("."):t,0),o?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const T=/[^ ]+/g;class E{setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,s(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();s(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!u(e)||d(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,o)=>{let r=this.getFn(e,t.path);if(u(r))if(i(r)){let e=[];const t=[{nestedArrIndex:-1,value:r}];for(;t.length;){const{nestedArrIndex:n,value:o}=t.pop();if(u(o))if(s(o)&&!d(o)){let t={v:o,i:n,n:this.norm.get(o)};e.push(t)}else i(o)&&o.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[o]=e}else if(!d(r)){let e={v:r,n:this.norm.get(r)};n.$[o]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}constructor({getFn:e=w.getFn,fieldNormWeight:t=w.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,i=Math.pow(10,t);return{get(t){const o=t.match(T).length;if(n.has(o))return n.get(o);const r=1/Math.pow(o,.5*e),s=parseFloat(Math.round(r*i)/i);return n.set(o,s),s},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}}function x(e,t,{getFn:n=w.getFn,fieldNormWeight:i=w.fieldNormWeight}={}){const o=new E({getFn:n,fieldNormWeight:i});return o.setKeys(e.map(b)),o.setSources(t),o.create(),o}function k(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:o=w.distance,ignoreLocation:r=w.ignoreLocation}={}){const s=t/e.length;if(r)return s;const c=Math.abs(i-n);return o?s+c/o:c?1:s}const A=32;function P(e,t,n,{location:i=w.location,distance:o=w.distance,threshold:r=w.threshold,findAllMatches:s=w.findAllMatches,minMatchCharLength:c=w.minMatchCharLength,includeMatches:a=w.includeMatches,ignoreLocation:l=w.ignoreLocation}={}){if(t.length>A)throw new Error(h(A));const u=t.length,d=e.length,f=Math.max(0,Math.min(i,d));let p=r,m=f;const g=c>1||a,v=g?Array(d):[];let y;for(;(y=e.indexOf(t,m))>-1;){let e=k(t,{currentLocation:y,expectedLocation:f,distance:o,ignoreLocation:l});if(p=Math.min(e,p),m=y+u,g){let e=0;for(;e<u;)v[y+e]=1,e+=1}}m=-1;let b=[],S=1,C=u+d;const T=1<<u-1;for(let i=0;i<u;i+=1){let r=0,c=C;for(;r<c;){k(t,{errors:i,currentLocation:f+c,expectedLocation:f,distance:o,ignoreLocation:l})<=p?r=c:C=c,c=Math.floor((C-r)/2+r)}C=c;let a=Math.max(1,f-c+1),h=s?d:Math.min(f+c,d)+u,y=Array(h+2);y[h+1]=(1<<i)-1;for(let r=h;r>=a;r-=1){let s=r-1,c=n[e.charAt(s)];if(g&&(v[s]=+!!c),y[r]=(y[r+1]<<1|1)&c,i&&(y[r]|=(b[r+1]|b[r])<<1|1|b[r+1]),y[r]&T&&(S=k(t,{errors:i,currentLocation:s,expectedLocation:f,distance:o,ignoreLocation:l}),S<=p)){if(p=S,m=s,m<=f)break;a=Math.max(1,2*f-m)}}if(k(t,{errors:i+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:l})>p)break;b=y}const E={isMatch:m>=0,score:Math.max(.001,S)};if(g){const e=function(e=[],t=w.minMatchCharLength){let n=[],i=-1,o=-1,r=0;for(let s=e.length;r<s;r+=1){let s=e[r];s&&-1===i?i=r:s||-1===i||(o=r-1,o-i+1>=t&&n.push([i,o]),i=-1)}return e[r-1]&&r-i>=t&&n.push([i,r-1]),n}(v,c);e.length?a&&(E.indices=e):E.isMatch=!1}return E}function I(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<i-n-1}return t}class M{searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:o,threshold:r,findAllMatches:s,minMatchCharLength:c,ignoreLocation:a}=this.options;let l=[],u=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:p})=>{const{isMatch:h,score:m,indices:g}=P(e,t,f,{location:i+p,distance:o,threshold:r,findAllMatches:s,minMatchCharLength:c,includeMatches:n,ignoreLocation:a});h&&(d=!0),u+=m,h&&g&&(l=[...l,...g])}));let f={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(f.indices=l),f}constructor(e,{location:t=w.location,threshold:n=w.threshold,distance:i=w.distance,includeMatches:o=w.includeMatches,findAllMatches:r=w.findAllMatches,minMatchCharLength:s=w.minMatchCharLength,isCaseSensitive:c=w.isCaseSensitive,ignoreLocation:a=w.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:o,findAllMatches:r,minMatchCharLength:s,isCaseSensitive:c,ignoreLocation:a},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(e,t)=>{this.chunks.push({pattern:e,alphabet:I(e),startIndex:t})},u=this.pattern.length;if(u>A){let e=0;const t=u%A,n=u-t;for(;e<n;)l(this.pattern.substr(e,A),e),e+=A;if(t){const e=u-A;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}}class O{static isMultiMatch(e){return D(e,this.multiRegex)}static isSingleMatch(e){return D(e,this.singleRegex)}search(){}constructor(e){this.pattern=e}}function D(e,t){const n=e.match(t);return n?n[1]:null}class F extends O{static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}constructor(e,{location:t=w.location,threshold:n=w.threshold,distance:i=w.distance,includeMatches:o=w.includeMatches,findAllMatches:r=w.findAllMatches,minMatchCharLength:s=w.minMatchCharLength,isCaseSensitive:c=w.isCaseSensitive,ignoreLocation:a=w.ignoreLocation}={}){super(e),this._bitapSearch=new M(e,{location:t,threshold:n,distance:i,includeMatches:o,findAllMatches:r,minMatchCharLength:s,isCaseSensitive:c,ignoreLocation:a})}}class L extends O{static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const i=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,i.push([t,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}constructor(e){super(e)}}const N=[class extends O{static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}constructor(e){super(e)}},L,class extends O{static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}constructor(e){super(e)}},class extends O{static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},class extends O{static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},class extends O{static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}constructor(e){super(e)}},class extends O{static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},F],R=N.length,j=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,U="|";const B=new Set([F.type,L.type]);const z=[];function K(e,t){for(let n=0,i=z.length;n<i;n+=1){let i=z[n];if(i.condition(e,t))return new i(e,t)}return new M(e,t)}const V="$and",_="$or",$={PATH:"$path",PATTERN:"$val"},G=e=>!(!e[V]&&!e[_]),q=e=>!!e[$.PATH],H=e=>!i(e)&&l(e)&&!G(e),W=e=>({[V]:Object.keys(e).map((t=>({[t]:e[t]})))});function Q(e,t,{auto:n=!0}={}){const o=e=>{let r=Object.keys(e);const c=q(e);if(!c&&r.length>1&&!G(e))return o(W(e));if(H(e)){const i=c?e[$.PATH]:r[0],o=c?e[$.PATTERN]:e[i];if(!s(o))throw new Error(p(i));const a={keyId:C(i),pattern:o};return n&&(a.searcher=K(o,t)),a}let a={children:[],operator:r[0]};return r.forEach((t=>{const n=e[t];i(n)&&n.forEach((e=>{a.children.push(o(e))}))})),a};return G(e)||(e=W(e)),o(e)}function Y(e,t){const n=e.matches;t.matches=[],u(n)&&n.forEach((e=>{if(!u(e.indices)||!e.indices.length)return;const{indices:n,value:i}=e;let o={indices:n,value:i};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function J(e,t){t.score=e.score}class X{setCollection(e,t){if(this._docs=e,t&&!(t instanceof E))throw new Error("Incorrect 'index' type");this._myIndex=t||x(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){u(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,i-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:o,sortFn:r,ignoreFieldNorm:a}=this.options;let l=s(e)?s(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=w.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:i,score:o})=>{const r=e?e.weight:null;n*=Math.pow(0===o&&r?Number.EPSILON:o,(r||1)*(t?1:i))})),e.score=n}))}(l,{ignoreFieldNorm:a}),o&&l.sort(r),c(t)&&t>-1&&(l=l.slice(0,t)),function(e,t,{includeMatches:n=w.includeMatches,includeScore:i=w.includeScore}={}){const o=[];return n&&o.push(Y),i&&o.push(J),e.map((e=>{const{idx:n}=e,i={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,i)})),i}))}(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=K(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:e,i:n,n:o})=>{if(!u(e))return;const{isMatch:r,score:s,indices:c}=t.searchIn(e);r&&i.push({item:e,idx:n,matches:[{score:s,value:e,norm:o,indices:c}]})})),i}_searchLogical(e){const t=Q(e,this.options),n=(e,t,i)=>{if(!e.children){const{keyId:n,searcher:o}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return r&&r.length?[{idx:i,item:t,matches:r}]:[]}const o=[];for(let r=0,s=e.children.length;r<s;r+=1){const s=e.children[r],c=n(s,t,i);if(c.length)o.push(...c);else if(e.operator===V)return[]}return o},i=this._myIndex.records,o={},r=[];return i.forEach((({$:e,i:i})=>{if(u(e)){let s=n(t,e,i);s.length&&(o[i]||(o[i]={idx:i,item:e,matches:[]},r.push(o[i])),s.forEach((({matches:e})=>{o[i].matches.push(...e)})))}})),r}_searchObjectList(e){const t=K(e,this.options),{keys:n,records:i}=this._myIndex,o=[];return i.forEach((({$:e,i:i})=>{if(!u(e))return;let r=[];n.forEach(((n,i)=>{r.push(...this._findMatches({key:n,value:e[i],searcher:t}))})),r.length&&o.push({idx:i,item:e,matches:r})})),o}_findMatches({key:e,value:t,searcher:n}){if(!u(t))return[];let o=[];if(i(t))t.forEach((({v:t,i:i,n:r})=>{if(!u(t))return;const{isMatch:s,score:c,indices:a}=n.searchIn(t);s&&o.push({score:c,key:e,value:t,idx:i,norm:r,indices:a})}));else{const{v:i,n:r}=t,{isMatch:s,score:c,indices:a}=n.searchIn(i);s&&o.push({score:c,key:e,value:i,norm:r,indices:a})}return o}constructor(e,t={},n){this.options={...w,...t},this.options.useExtendedSearch,this._keyStore=new y(this.options.keys),this.setCollection(e,n)}}X.version="6.5.3",X.createIndex=x,X.parseIndex=function(e,{getFn:t=w.getFn,fieldNormWeight:n=w.fieldNormWeight}={}){const{keys:i,records:o}=e,r=new E({getFn:t,fieldNormWeight:n});return r.setKeys(i),r.setIndexRecords(o),r},X.config=w,X.parseQuery=Q,function(...e){z.push(...e)}(class{static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let o=0,r=[],s=0;for(let i=0,c=t.length;i<c;i+=1){const c=t[i];r.length=0,o=0;for(let t=0,i=c.length;t<i;t+=1){const i=c[t],{isMatch:a,indices:l,score:u}=i.search(e);if(!a){s=0,o=0,r.length=0;break}if(o+=1,s+=u,n){const e=i.constructor.type;B.has(e)?r=[...r,...l]:r.push(l)}}if(o){let e={isMatch:!0,score:s/o};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}constructor(e,{isCaseSensitive:t=w.isCaseSensitive,includeMatches:n=w.includeMatches,minMatchCharLength:i=w.minMatchCharLength,ignoreLocation:o=w.ignoreLocation,findAllMatches:r=w.findAllMatches,location:s=w.location,threshold:c=w.threshold,distance:a=w.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:o,location:s,threshold:c,distance:a},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split(U).map((e=>{let n=e.trim().split(j).filter((e=>e&&!!e.trim())),i=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let r=!1,s=-1;for(;!r&&++s<R;){const e=N[s];let n=e.isMultiMatch(o);n&&(i.push(new e(n,t)),r=!0)}if(!r)for(s=-1;++s<R;){const e=N[s];let n=e.isSingleMatch(o);if(n){i.push(new e(n,t));break}}}return i}))}(this.pattern,this.options)}})})),r.register("egicy",(function(t,n){e(t.exports,"useTokenAccountMinBalance",(function(){return l}),(function(e){return l=e}));var i=r("5ekp2"),o=r("bQvNK"),s=r("fRdQq"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const a="token-account-min-balances";function l({tokenEdition:e,connection:t}){const n=[a,{tokenEdition:e}];return(0,i.useQuery)({queryKey:n,queryFn:()=>c(this,void 0,void 0,(function*(){return t?null!==e&&(0,s.isMasterEdition)(e)?(0,o.getMplTokenAccountCostAsync)(t):(0,o.getTokenAccountCostAsync)(t):0}))})}})),r.register("aXfNM",(function(t,n){e(t.exports,"useGetCollectibleVerificationStatus",(function(){return s}));var i=r("29o0l"),o=r("fWmA5");const s=(e,t,n)=>{var r;const{data:s,isFetched:c}=(0,o.useSPLTokenAccountListingStats)(e,t,n),a=(0,i.useMemo)((()=>{var e;return!!c&&!!(null===(e=null==s?void 0:s.magic_eden)||void 0===e?void 0:e.symbol)}),[c,null===(r=null==s?void 0:s.magic_eden)||void 0===r?void 0:r.symbol]);return a}})),r.register("1zpuU",(function(t,n){e(t.exports,"useCollectibleTraits",(function(){return s}));var i=r("29o0l"),o=r("8cvUJ");const s=e=>(0,i.useMemo)((()=>e.map((({trait_type:e,value:t,display_type:n})=>({type:e,value:(0,o.formatTrait)({value:t,type:n})})))),[e])})),r.register("8cvUJ",(function(n,i){e(n.exports,"formatTrait",(function(){return s}));var o=r("gXOkW");const s=({value:e,type:n})=>{if(!e)return"";try{switch(n){case"number":return t(o)(e).format("0,0.[00]").toString();case"date":return new Date(Number(e)).toLocaleDateString();default:return`${e}`}}catch(t){return`${e}`}}})),r.register("b4hOH",(function(t,n){e(t.exports,"useCollectionItemsCount",(function(){return c}));var i=r("5slFC"),o=r("29o0l"),s=r("l8aZk");const c=e=>(0,o.useMemo)((()=>{if(e&&0!==e.items.length)return a(e)}),[e]),a=e=>{const{items:t}=e,{length:n}=t;if(1===n){const[{balance:e="",chainData:n}]=t;if((0,s.isSolanaCollectibleChainData)(n)&&n.standard===i.SPLTokenStandard.SemiFungible){const t=parseInt(e,10);return isNaN(t)?1:t}}return n}})),r.register("7moAU",(function(t,n){e(t.exports,"useOnlyImageCollectibles",(function(){return o}));var i=r("29o0l");const o=e=>(0,i.useMemo)((()=>e.filter((e=>{var t;return"image"===(null===(t=null==e?void 0:e.media)||void 0===t?void 0:t.type)}))),[e])})),r.register("cprKX",(function(t,n){e(t.exports,"useOrderedCollections",(function(){return s}));var i=r("29o0l");const o=e=>e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:1})),{}),s=({allCollections:e=[],hiddenCollectionIds:t=[],unhiddenCollectionIds:n=[],pinnedCollectionIds:r=[]})=>(0,i.useMemo)((()=>{const i=[],s=[],c=o(t),a=o(n),l=o(r),u={};for(const t of e){let e=!1;t.isSpam&&(e=!0),c[t.id]&&(e=!0),a[t.id]&&(e=!1),e?s.push(t):l[t.id]?u[t.id]=t:i.push(t)}const d=[];for(const e of r)u[e]&&d.push(u[e]);return{collections:[...d,...i],hiddenCollections:s}}),[e,t,n,r])})),r.register("bB55c",(function(t,n){e(t.exports,"useCollectibleExplorer",(function(){return c}));var i=r("5uSEV"),o=r("29o0l"),s=r("l8aZk");const c=(e,t)=>(0,o.useMemo)((()=>{var n;if(!e||!t)return;const o=e.chain.id,r=null!==(n=t.explorers[o])&&void 0!==n?n:(0,i.getDefaultExplorerTypeByNetworkID)(o);let c,a;if((0,s.isSolanaCollectibleChainData)(e.chainData))a="address",c=e.chainData.mint;else{if(!(0,s.isEthereumCollectibleChainData)(e.chainData)){if((0,s.isBitcoinCollectibleChainData)(e.chainData))return{name:"Ordinals",url:`https://ordinals.com/inscription/${e.chainData.firstCreatedInscriptionId}`};throw new Error(`Unhandled collectible explorer for chain id: ${e.chain.id}`)}a="address",c=e.chainData.contract}if(!c)return;const l=(0,i.generateExplorerUrl)({networkID:o,endpoint:a,explorerType:r,param:c});return l?{name:i.SUPPORTED_EXPLORER_NAMES[r],url:l}:void 0}),[e,t])})),r.register("hnd43",(function(t,n){e(t.exports,"useDedupeCollectibles",(function(){return o}));var i=r("29o0l");const o=e=>(0,i.useMemo)((()=>{const t=new Set;return e.filter((e=>{var n,i;if(!(null===(i=null===(n=null==e?void 0:e.media)||void 0===n?void 0:n.image)||void 0===i?void 0:i.url))return!1;const{url:o}=e.media.image;return!t.has(o)&&(t.add(o),!0)}))}),[e])})),r.register("dGF9e",(function(t,n){e(t.exports,"useCollectibleChainSpecificInfoSection",(function(){return a}));var i=r("43063"),o=r("RVqnc"),s=r("29o0l"),c=r("l8aZk");const a=e=>{const{t:t}=(0,i.useTranslation)();return(0,s.useMemo)((()=>{const n=[];if(!e)return;const i=e.chainData;if((0,c.isBitcoinCollectibleChainData)(i)){const{outputValue:e,satNumber:r,satName:s,inscriptionId:c,inscriptionNumber:a,protocolName:u,createdAt:d}=i,f=t("collectibleDetailOrdinalInfo"),p=e?parseFloat(e).toLocaleString():void 0;return n.push(p?{label:t("collectibleDetailSatsInUtxo"),value:p}:null),n.push(r?{label:t("collectibleDetailSatNumber"),value:r}:null),n.push(s?{label:t("collectibleDetailSatName"),value:s}:null),n.push(c?{label:t("collectibleDetailInscriptionId"),value:(0,o.ellipsize)(c,5,3)}:null),n.push(a?{label:t("collectibleDetailInscriptionNumber"),value:a}:null),n.push(u?{label:t("collectibleDetailStandard"),value:null==u?void 0:u.toUpperCase()}:null),n.push(d?{label:t("collectibleDetailCreated"),value:l(new Date(d))}:null),{label:f,items:n.filter(o.nonNullable)}}}),[e,t])};function l(e){return`${e.toLocaleDateString(void 0,{month:"numeric",day:"numeric",year:"numeric"})} ${e.toLocaleTimeString()}`}})),r.register("2eSHG",(function(t,n){e(t.exports,"getInstantSellError",(function(){return o}));var i=r("2jrTu");const o=({t:e,apiErrors:t,clientErrors:n})=>{var o,r,s;const c={title:e("collectiblesSellStatusErrorTitle"),subtitle:e("collectiblesSellStatusErrorSubtitle")};return t.isSellErrorCode?1===(null===(o=null==t?void 0:t.sellStepsError)||void 0===o?void 0:o.code)?{title:e("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:e("collectiblesSellRecentlyTransferedNFTSubtitle")}:3===(null===(r=null==t?void 0:t.sellStepsError)||void 0===r?void 0:r.code)||9===(null===(s=null==t?void 0:t.sellStepsError)||void 0===s?void 0:s.code)?{title:e("collectiblesSellNotAvailableAnymoreTitle"),subtitle:e("collectiblesSellNotAvailableAnymoreSubtitle")}:c:n.hasEnoughGas?n.executeSellError?n.executeSellError.message===i.StepsFromDifferentBidErrorMessage?{title:e("collectiblesSellNotAvailableAnymoreTitle"),subtitle:e("collectiblesSellNotAvailableAnymoreSubtitle")}:c:null:{title:e("collectiblesSellInsufficientFundsTitle"),subtitle:e("collectiblesSellInsufficientFundsSubtitle")}}})),r.register("1yqzk",(function(t,n){e(t.exports,"isCollectibleSemiFungible",(function(){return s}));var i=r("5slFC"),o=r("l8aZk");const s=e=>(0,o.isEthereumCollectibleChainData)(e)?e.standard===i.ERCTokenStandard.ERC1155:!!(0,o.isSolanaCollectibleChainData)(e)&&e.standard===i.SPLTokenStandard.SemiFungible})),r.register("8PxwR",(function(e,t){})),r.register("jDpXe",(function(t,n){e(t.exports,"createTransferPendingTransactionInput",(function(){return c}));var i=r("iOvk1"),o=r("cFUcx"),s=r("7gANb");const c=(e,t,n,r,c,a,l)=>{if(i.Chains.isEVMNetworkID(e)){const i=s.ESTIMATED_EVM_CONFIRMATION_TIMES_SEC[e][null!=t?t:s.TransactionSpeed.standard];return{ownerAddress:n.address,networkID:e,data:{hash:"",nonce:"",unsignedTransaction:o.EthUnsignedTransactionObject.parse({from:n.address}),estimatedTimeToMineInSeconds:i},type:s.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${l("transactionsPendingSending")} ${a} ${r}`},bottomLeft:{label:`${l("transactionsToParagraphInterpolated",{to:c})}`}},detail:{header:`${a} ${r}`,uiRecipient:c}}}}if(i.Chains.isSolanaNetworkID(e))return{ownerAddress:n.address,networkID:e,data:{signature:""},type:s.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${l("transactionsPendingSending")} ${a} ${r}`},bottomLeft:{label:`${l("transactionsToParagraphInterpolated",{to:c})}`}}}};if(i.Chains.isBitcoinNetworkID(e))return{ownerAddress:n.address,networkID:e,data:{txID:""},type:s.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${l("transactionsPendingSending")} ${a} ${r}`},bottomLeft:{label:`${l("transactionsToParagraphInterpolated",{to:c})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${e}}`)}})),r.register("hK5G2",(function(t,n){e(t.exports,"selectBestCollectionName",(function(){return o}));var i=r("RVqnc");const o=(e,t)=>{if(e.name&&e.name.length>0)return e.name;if(e.externalUrl){const t=(0,i.formatURL)({url:e.externalUrl,format:"domain"});if(t)return t}if(null==t?void 0:t.name){const e=t.name.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim();if(e)return e}return(null==t?void 0:t.symbol)?t.symbol:void 0}})),r.register("dig1v",(function(t,n){e(t.exports,"convertCollectibleToSPLTokenAccount",(function(){return o}));var i=r("l8aZk");const o=(e,t)=>{var n,o,r,s,c,a,l,u;if((0,i.isSolanaCollectibleChainData)(e.chainData))return{standard:e.chainData.standard,pubkey:e.chainData.tokenAccount,mintPubKey:e.chainData.mint,ownerPubKey:t,decimals:parseInt(null!==(n=e.decimals)&&void 0!==n?n:"0",10),amount:null!==(o=e.balance)&&void 0!==o?o:"0",delegate:null,delegatedAmount:"",logoURI:null,name:null!==(r=e.name)&&void 0!==r?r:null,symbol:null!==(s=e.symbol)&&void 0!==s?s:null,coingeckoId:null,state:"initialized",collectionPubKey:e.collection.id,uses:null,creators:[],uri:null!==(c=e.uri)&&void 0!==c?c:"",collectionName:null!==(a=e.collection.name)&&void 0!==a?a:void 0,collectibleImage:null===(u=null===(l=e.media)||void 0===l?void 0:l.image)||void 0===u?void 0:u.url}}})),r.register("1nhJ5",(function(n,i){e(n.exports,"formatCount",(function(){return s}));var o=r("gXOkW");const s=e=>e>1e6?">1M":e<1e4?t(o)(e).format("0,0.[000]"):t(o)(e).format("0.[0]a").toUpperCase()})),r.register("7he9C",(function(t,n){e(t.exports,"createListingAnalytics",(function(){return o}));var i=r("h0VH5");const o=e=>new(0,i.SequenceAnalytics)(e,"list")})),r.register("1f3bE",(function(t,n){e(t.exports,"CollectiblesSdk",(function(){return r("gxSAf").CollectiblesSdk}));r("gxSAf")})),r.register("gxSAf",(function(t,n){e(t.exports,"CollectiblesSdk",(function(){return u}));var i=r("iOvk1"),o=r("RVqnc"),s=r("j8YST"),c=r("dGvP4"),a=r("2SIHV"),l=r("9hk3B");class u extends i.Sdk{get(e){var t;const n=(0,o.normalize)(e),i=(0,o.firstOrUndefined)(n),{sendSuccessCondition:r=s.SendSuccessCondition.CONFIRMATION,displayFeeTooltip:c=!1,collectibleDetailPrecision:a=5}=null!==(t=i&&this.registry.get(i))&&void 0!==t?t:{};return{sendSuccessCondition:r,displayFeeTooltip:c,collectibleDetailPrecision:a}}constructor(){super(),this.registry=new(0,i.SingleChainSdkRegistry),this.registry.register([i.NetworkIDs.Solana.Mainnet,i.NetworkIDs.Solana.Testnet,i.NetworkIDs.Solana.Devnet],(0,l.createSolanaSdk)());const e=(0,a.createEthereumSdk)();this.registry.register([i.NetworkIDs.Ethereum.Mainnet,i.NetworkIDs.Ethereum.Goerli,i.NetworkIDs.Ethereum.Sepolia],e),this.registry.register([i.NetworkIDs.Polygon.Mainnet,i.NetworkIDs.Polygon.Mumbai],e),this.registry.register([i.NetworkIDs.Bitcoin.Mainnet],(0,c.createBitcoinSdk)())}}})),r.register("dGvP4",(function(t,n){e(t.exports,"createBitcoinSdk",(function(){return o}));var i=r("j8YST");function o(){return{sendSuccessCondition:i.SendSuccessCondition.SUBMISSION,displayFeeTooltip:!0,collectibleDetailPrecision:7}}})),r.register("2SIHV",(function(t,n){e(t.exports,"createEthereumSdk",(function(){return o}));var i=r("j8YST");function o(){return{sendSuccessCondition:i.SendSuccessCondition.CONFIRMATION,displayFeeTooltip:!0,collectibleDetailPrecision:5}}})),r.register("9hk3B",(function(t,n){e(t.exports,"createSolanaSdk",(function(){return o}));var i=r("j8YST");function o(){return{sendSuccessCondition:i.SendSuccessCondition.CONFIRMATION,displayFeeTooltip:!0,collectibleDetailPrecision:5}}}))}();
//# sourceMappingURL=collectibles.f7823fac.js.map
define=__define;})(window.define);